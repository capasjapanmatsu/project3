# ドッグパークJP - ボタン・リンク動作マニフェスト

**基準日**: 2025年7月24日（コミット9dceefd6）  
**対象**: ログイン状態でのボタン・リンクの動作  
**説明**: 各ページのボタンやリンクがどこに遷移し、どのような動作をするかの完全マニフェスト

---

## 🏠 トップページ（Home.tsx）

### HeroSection（ログイン時）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| ドッグランを探す | `/parks` | ドッグラン一覧ページ |
| マイページ | `/dashboard` | ユーザーダッシュボード |

### HeroSection（未ログイン時）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 無料で始める | `/register` | ユーザー登録ページ |
| Magic Linkで簡単ログイン | `/magic-link` | マジックリンク認証 |

### FeaturesSection（機能紹介）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 簡単検索 | `/parks` | ドッグラン一覧ページ |
| コミュニティ | `/community` or `/login` | ログイン状態によって分岐 |
| 予約管理 | `/dashboard` or `/login` | ログイン状態によって分岐 |
| ペットショップ | `/shop` | ペットショップページ |

### DogInfoCorner（犬情報コーナー）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 健康管理 | `/dog-info/vaccine` | ワクチン情報ページ |
| 食事・栄養 | `/dog-info/foods` | 食べ物注意情報 |
| トレーニング | `/dog-info/training` | しつけ情報（要確認） |
| 犬種情報 | `/dog-info/breeds` | 犬種別情報 |
| コミュニティに参加 | `/community` | コミュニティページ |
| 近くのドッグパークを探す | `/dog-park-list` | ドッグラン一覧（要修正） |

### UsageRulesSection（利用ルール）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| ドッグラン利用ルールを確認 | `/parks/rules` | 利用規約ページ |
| 無料で始める | `/register` | ユーザー登録ページ |

### NewsSection（ニュース）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| もっと見る | `/news` | ニュース一覧ページ |
| 全てのお知らせを見る | `/news` | ニュース一覧ページ |
| 再接続 | - | `onRetryConnection`関数実行 |

### OwnerRecruitmentBanner & FacilityRecruitmentBanner
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 詳しく見る/今すぐ始める | `/park-registration-agreement` or `/login` | 登録状態によって分岐 |

---

## 👤 ユーザーダッシュボード（UserDashboard.tsx）

### ヘッダーエリア
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| ログアウト | `/` | ログアウト処理 + トップページ |
| 管理者画面（管理者のみ） | `/admin` | 管理者ダッシュボード |

### 犬管理セクション（DogManagementSection）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 新しいワンちゃんを登録 | モーダル表示 | 犬登録モーダル |
| 編集 | モーダル表示 | 犬編集モーダル |
| ワクチン証明書アップロード | ファイル選択 | ファイルアップロード |

### ペット関連施設セクション
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 修正 | - | **動作未実装（要修正）** |
| 公開ページ | - | **動作未実装（要修正）** |
| 外部サイト | `facility.website` | 外部リンク（新規タブ） |

### クイックアクションセクション
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| ドッグラン検索 | `/parks` | ドッグラン一覧ページ |
| コミュニティ | `/community` | コミュニティページ |
| ペットショップ | `/petshop` | ペットショップページ |
| 新着情報 | `/news` | ニュース一覧ページ |
| ドッグランオーナー募集 | `/park-registration-agreement` | パーク登録同意書 |
| ペット関連施設登録 | `/facility-registration` | 施設登録ページ |
| 登録情報 | `/profile-settings` | プロフィール設定 |

---

## 🏢 オーナーダッシュボード（OwnerDashboard.tsx）

### ヘッダーエリア
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| データ更新 | - | `handleRefresh`関数実行 |
| 収益管理システム | `/owner-payment-system` | 収益管理ページ |
| 新しいドッグランを登録 | `/register-park` | パーク登録ページ |

### 統計・売上セクション
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 収益管理システム | `/owner-payment-system` | 収益管理ページ |
| 詳細を見る | `/owner-payment-system` | 収益管理ページ |

### ドッグラン管理セクション（パークステータス別）

#### 審査待ち（pending）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 申請状況を確認 | `/parks/${park.id}/second-stage` | 二次審査ページ |

#### 二次審査待ち（second_stage_waiting）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 詳細情報を追加 | `/parks/${park.id}/second-stage` | 二次審査ページ |

#### 承認済み（approved）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 詳細を見る | `/parks/${park.id}` | パーク詳細ページ |
| 管理 | `/parks/${park.id}/manage` | パーク管理ページ |
| 公開設定 | `/parks/${park.id}/publish-setup` | 公開設定ページ |

#### 却下（rejected）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 修正して再申請 | `/parks/${park.id}/second-stage` | 二次審査ページ |

### ペット関連施設管理セクション
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 新しい施設を登録 | `/facility-registration` | 施設登録ページ |
| 修正 | モーダル表示 | `handleEditFacility`関数実行 |
| 公開ページ | `/facility/${facility.id}` | **存在しないルート（要修正）** |
| 外部サイト | `facility.website` | 外部リンク（新規タブ） |

### 削除確認モーダル
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 削除を実行 | - | 削除処理 + モーダル閉じる |
| キャンセル | - | モーダル閉じる |

---

## 🐕 ドッグラン一覧（DogParkList.tsx）

### フィルター・検索エリア
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 現在地を取得 | - | GPS位置情報取得 |
| 検索条件をリセット | - | フィルターリセット |
| 地図を表示 | - | マップ表示切り替え |

### タブ切り替え
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| ドッグラン | - | `setActiveView('dogparks')` |
| その他施設 | - | `setActiveView('facilities')` |

### カテゴリフィルター
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| カテゴリ表示 | - | `setShowCategoryFilter(!showCategoryFilter)` |
| 全て選択 | - | `handleSelectAll` |
| 全て解除 | - | `handleDeselectAll` |
| 各カテゴリ | - | `handleCategoryToggle(categoryId)` |

### ドッグランカード（DogParkCard）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 詳細を見る | `/parks/${park.id}` | パーク詳細ページ |
| 予約する | `/parks/${park.id}/reserve` | 予約ページ |

### 施設カード（FacilityCard）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 詳細を見る | - | **実装要確認** |
| 外部サイト | `facility.website` | 外部リンク（新規タブ） |

---

## 🐕 ドッグラン詳細（DogParkDetail.tsx）

### ナビゲーション
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| ← 一覧に戻る | `/parks` | ドッグラン一覧ページ |

### アクションボタン
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 予約する | `/parks/${park.id}/reserve` | 予約ページ |
| 情報を更新 | - | `handleManualUpdate`関数実行 |

### 画像ギャラリー
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 画像クリック | - | 画像モーダル表示 |
| 前の画像 | - | `prevImage`関数実行 |
| 次の画像 | - | `nextImage`関数実行 |
| モーダル閉じる | - | `closeImageModal`関数実行 |

---

## 🛒 ペットショップ（PetShop.tsx）

### ヘッダーエリア
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| カート | `/cart` | ショッピングカート |

### フィルター・検索エリア
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| カテゴリ選択 | - | `handleCategoryChange(category.value)` |
| 価格フィルター | - | 価格範囲設定 |
| 検索 | - | 商品検索 |

### 商品カード
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| カートに追加 | - | `addToCart(product.id)`関数実行 |
| 詳細を見る | `/shop/product/${product.id}` | 商品詳細ページ |

---

## 👑 管理者ダッシュボード（AdminDashboard.tsx）

### ナビゲーション
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| ユーザー管理 | `/admin/users` | ユーザー管理ページ |
| ドッグラン管理 | `/admin/parks` | パーク管理ページ |
| 予約管理 | `/admin/reservations` | 予約管理ページ |
| 売上管理 | `/admin/sales` | 売上管理ページ |
| ワクチン証明書承認 | `/admin/vaccine-approval` | ワクチン承認ページ |
| ペット施設承認 | `/admin/facility-approval` | 施設承認ページ |
| ショップ管理 | `/admin/shop` | ショップ管理ページ |
| 売上レポート | `/admin/revenue` | 売上レポートページ |
| ニュース管理 | `/admin/news` | ニュース管理ページ |

### タブ切り替え
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 概要 | - | `setActiveTab('overview')` |
| ドッグラン | - | `setActiveTab('parks')` |
| ワクチン | - | `setActiveTab('vaccines')` |
| 施設 | - | `setActiveTab('facilities')` |
| ユーザー | - | `setActiveTab('users')` |
| メンテナンス | - | `setActiveTab('maintenance')` |

### 各種管理リンク
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| 詳細を見る | 各詳細ページ | 対応する管理ページ |
| 承認・却下 | - | 各種承認処理 |

---

## 📱 その他の主要ページ

### ログインページ（Login.tsx）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| ログイン | `/dashboard` | ログイン処理 + ダッシュボード |

### 決済関連ページ
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| ログインする | `/login` | ログインページ |

### デプロイページ（Deploy.tsx）
| ボタン/リンク | 遷移先 | 動作 |
|---|---|---|
| ステータスを更新 | - | `refreshStatus`関数実行 |
| 再デプロイ | - | `handleDeploy`関数実行 |
| デプロイ履歴 | `/deployment-history` | デプロイ履歴ページ |
| Netlifyでサイトを管理 | 外部リンク | Netlify管理画面 |

---

## 🚨 修正が必要な項目

### 1. UserDashboard.tsx
- ペット関連施設の「修正」ボタン: 動作未実装
- ペット関連施設の「公開ページ」ボタン: 動作未実装

### 2. OwnerDashboard.tsx  
- ペット関連施設の「公開ページ」ボタン: `/facility/${facility.id}` 存在しないルート

### 3. DogInfoCorner.tsx
- 「近くのドッグパークを探す」: `/dog-park-list` → `/parks` に修正必要

### 4. FeaturesSection.tsx
- 「ペットショップ」: `/shop` → `/petshop` に修正必要

### 5. PetShop.tsx
- 商品詳細リンク: `/shop/product/${product.id}` → `/products/${product.id}` に修正必要

### 6. 存在しないページ
- `/facility/${facility.id}`: 施設詳細ページが未実装
- 一部のルートが実際のApp.tsxのルート定義と不一致

---

**最終更新**: 2025年1月26日  
**作成者**: AI Assistant  
**目的**: ログイン状態でのリンク・ボタン動作の完全復旧 