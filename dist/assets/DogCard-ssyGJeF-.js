import{j as e,B as s}from"./index-Dp3tQatg.js";import{I as a}from"./Input-BBpqNzSy.js";import{S as r}from"./Select-vo9_bICo.js";import{d as t}from"./dogBreeds-6lxY8Uni.js";import{P as l,a as n,p as i,x as c,y as d}from"./ui-BHmKMuva.js";function o({dog:a,onEdit:r}){const t=function(e){var s;const a=null==(s=e.vaccine_certifications)?void 0:s[0];if(!a)return{status:"none",label:"未提出",color:"text-red-600"};switch(a.status){case"approved":return{status:"approved",label:"承認済み",color:"text-green-600"};case"pending":return{status:"pending",label:"承認待ち",color:"text-yellow-600"};case"rejected":return{status:"rejected",label:"却下",color:"text-red-600"};default:return{status:"none",label:"未提出",color:"text-red-600"}}}(a),c=m(a.gender);return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:a.image_url?e.jsx("img",{src:a.image_url,alt:a.name,className:"w-full h-full object-cover"}):e.jsx(l,{className:"w-6 h-6 text-gray-500"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:[a.name,c]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a.breed," • ",a.gender]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`text-xs ${t.color}`,children:t.label}),"approved"===t.status&&e.jsx(n,{className:"w-3 h-3 text-green-600"})]})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx(s,{size:"sm",variant:"secondary",onClick:()=>r(a),children:e.jsx(i,{className:"w-4 h-4"})})})]})}function m(e){return"オス"===e?"くん":"ちゃん"}function x({dog:l,isUpdating:i,error:o,success:x,dogFormData:u,dogImagePreview:g,onClose:h,onSubmit:j,onFormChange:b,onImageSelect:p,onImageRemove:v}){if(!l)return null;const f=m(l.gender);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold",children:[l.name,f,"の情報編集"]}),e.jsx("button",{onClick:h,className:"text-gray-500 hover:text-gray-700",children:e.jsx(c,{className:"w-6 h-6"})})]}),o&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:o}),x&&e.jsxs("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-lg flex items-center",children:[e.jsx(n,{className:"w-5 h-5 mr-2"}),x]}),e.jsx("form",{onSubmit:j,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ワンちゃんの写真"}),g?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:g,alt:"ワンちゃんのプレビュー",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-300"}),e.jsx("button",{type:"button",onClick:v,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:e.jsx(c,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"hidden",id:"dog-image-edit"}),e.jsxs("label",{htmlFor:"dog-image-edit",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(d,{className:"w-12 h-12 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"クリックして画像を選択"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (最大10MB)"})]})]})]}),e.jsx(a,{label:"名前",value:u.name,onChange:e=>b({...u,name:e.target.value}),required:!0}),e.jsx(r,{label:"犬種",options:t.map((e=>({value:e,label:e}))),value:u.breed,onChange:e=>b({...u,breed:e.target.value}),required:!0}),e.jsx(r,{label:"性別",options:[{value:"",label:"性別を選択してください"},{value:"オス",label:"オス"},{value:"メス",label:"メス"}],value:u.gender,onChange:e=>b({...u,gender:e.target.value}),required:!0}),e.jsx(a,{label:"生年月日",type:"date",value:u.birthDate,onChange:e=>b({...u,birthDate:e.target.value}),required:!0}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-2",children:[e.jsx(s,{type:"button",variant:"secondary",onClick:h,children:"キャンセル"}),e.jsxs(s,{type:"submit",isLoading:i,children:[e.jsx(n,{className:"w-4 h-4 mr-2"}),"保存"]})]})]})})]})})})}export{o as D,x as a,m as g};
