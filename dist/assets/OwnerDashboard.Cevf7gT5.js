var e=(e,s,t)=>new Promise((l,a)=>{var r=e=>{try{c(t.next(e))}catch(s){a(s)}},i=e=>{try{c(t.throw(e))}catch(s){a(s)}},c=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,i);c((t=t.apply(e,s)).next())});import{u as s,s as t,j as l,B as a,C as r}from"./index.Drgpoyph.js";import{r as i}from"./vendor.CKEClKZl.js";import{u as c,L as d}from"./router.B_7Atevv.js";import{R as n,ag as x,az as m,A as o,g as h,a7 as j,U as g,x as p,aA as u,F as N,b as f,C as b,v,a as w,Q as y,w as _,r as k,V as z}from"./ui.C72fRZ1L.js";import"./supabase.X3H3st79.js";function S(){var S;const{user:D}=s(),P=c(),[L,$]=i.useState([]),[q,T]=i.useState(!0),[E,Q]=i.useState(!1),[R,A]=i.useState(0),[B,F]=i.useState(0),[I,M]=i.useState(0),[U,V]=i.useState(null),[W,G]=i.useState(!1),[H,J]=i.useState(""),[K,O]=i.useState(""),[X,Y]=i.useState(!1),[Z,ee]=i.useState(!1),se=()=>e(this,null,function*(){try{const{data:e,error:s}=yield t.from("dog_parks").select("*").eq("owner_id",null==D?void 0:D.id).order("created_at",{ascending:!1});if(s)throw s;$(e||[]),A(25600),F(32),M(128)}catch(e){J("ドッグランの取得に失敗しました")}});i.useEffect(()=>{if(!D)return void P("/login");(()=>{e(this,null,function*(){try{T(!0),J(""),yield se()}catch(e){J("データの取得に失敗しました。ページを再読み込みしてください。")}finally{T(!1)}})})();const s=t.channel("dog_parks_changes").on("postgres_changes",{event:"*",schema:"public",table:"dog_parks",filter:`owner_id=eq.${D.id}`},e=>{se()}).subscribe();return()=>{s.unsubscribe()}},[D,P]);const te=s=>e(this,null,function*(){try{G(!0),J("");const{data:e}=yield t.from("dog_park_facility_images").select("id").eq("park_id",s);if(e&&e.length>0){const{error:e}=yield t.from("dog_park_facility_images").delete().eq("park_id",s);if(e)throw new Error("施設画像の削除に失敗しました。")}const{data:l}=yield t.from("dog_park_review_stages").select("id").eq("park_id",s);if(l&&l.length>0){const{error:e}=yield t.from("dog_park_review_stages").delete().eq("park_id",s);if(e)throw new Error("審査ステージの削除に失敗しました。")}const{error:a}=yield t.from("dog_parks").delete().eq("id",s).eq("owner_id",null==D?void 0:D.id);if(a)throw a;yield se(),V(null),ee(!1);const r=L.find(e=>e.id===s),i=(null==r?void 0:r.name)||"ドッグラン";O(`${i}の申請を完全に削除しました。再度ご利用の際は新規申請が必要です。`),setTimeout(()=>{O("")},5e3)}catch(e){J(e.message||"エラーが発生しました"),setTimeout(()=>{J("")},3e3)}finally{G(!1)}});return q?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):D?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"オーナーダッシュボード"}),l.jsx("p",{className:"text-gray-600",children:"ドッグランの登録・管理を行います"})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs(a,{variant:"secondary",onClick:()=>e(this,null,function*(){Q(!0),J(""),O("");try{yield se(),O("データを更新しました"),setTimeout(()=>O(""),3e3)}catch(e){J("データの更新に失敗しました"),setTimeout(()=>J(""),3e3)}finally{Q(!1)}}),isLoading:E,className:"flex items-center",children:[l.jsx(n,{className:"w-4 h-4 mr-2"}),"更新"]}),l.jsx(d,{to:"/owner-payment-system",children:l.jsxs(a,{variant:"secondary",className:"flex items-center",children:[l.jsx(x,{className:"w-4 h-4 mr-2"}),"収益システム"]})}),l.jsx(d,{to:"/register-park",children:l.jsxs(a,{children:[l.jsx(m,{className:"w-4 h-4 mr-2"}),"ドッグランを登録"]})})]})]}),H&&l.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded-lg p-4 flex items-start",children:[l.jsx(o,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),l.jsx("p",{children:H})]}),K&&l.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 rounded-lg p-4 flex items-start",children:[l.jsx(h,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),l.jsx("p",{children:K})]}),l.jsxs("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"デバッグ情報"}),l.jsx(a,{variant:"secondary",size:"sm",onClick:()=>Y(!X),children:X?"隠す":"表示"})]}),X&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:"ユーザーID:"})," ",null==D?void 0:D.id]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:"パーク数:"})," ",L.length]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:"最終更新:"})," ",(new Date).toLocaleString()]}),L.map(e=>l.jsxs("div",{className:"bg-white p-3 rounded border text-sm",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"名前:"})," ",e.name]}),l.jsxs("div",{children:[l.jsx("strong",{children:"ID:"})," ",e.id]}),l.jsxs("div",{children:[l.jsx("strong",{children:"ステータス:"})," ",e.status]}),l.jsxs("div",{children:[l.jsx("strong",{children:"作成日:"})," ",new Date(e.created_at).toLocaleString()]}),l.jsxs("div",{children:[l.jsx("strong",{children:"更新日:"})," ",e.updated_at?new Date(e.updated_at).toLocaleString():"なし"]})]},e.id))]})]}),L.some(e=>"approved"===e.status)&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(r,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"今月の収益"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["¥",R.toLocaleString()]}),l.jsx("p",{className:"text-xs text-green-600",children:"前月比 +8%"})]}),l.jsx(x,{className:"w-8 h-8 text-green-600"})]}),l.jsx("div",{className:"mt-3 text-blue-600 text-sm flex items-center",children:l.jsxs(d,{to:"/owner-payment-system",className:"flex items-center",children:[l.jsx("span",{children:"詳細を見る"}),l.jsx(j,{className:"w-4 h-4 ml-1"})]})})]}),l.jsxs(r,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"今月の予約"}),l.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[B,"件"]}),l.jsx("p",{className:"text-xs text-blue-600",children:"前月比 +12%"})]}),l.jsx(C,{className:"w-8 h-8 text-blue-600"})]}),l.jsxs("div",{className:"mt-3 text-blue-600 text-sm flex items-center",children:[l.jsx("span",{children:"詳細を見る"}),l.jsx(j,{className:"w-4 h-4 ml-1"})]})]}),l.jsxs(r,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"利用者数"}),l.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[I,"人"]}),l.jsx("p",{className:"text-xs text-purple-600",children:"前月比 +15%"})]}),l.jsx(g,{className:"w-8 h-8 text-purple-600"})]}),l.jsxs("div",{className:"mt-3 text-blue-600 text-sm flex items-center",children:[l.jsx("span",{children:"詳細を見る"}),l.jsx(j,{className:"w-4 h-4 ml-1"})]})]})]}),l.jsx(r,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"bg-white/20 p-3 rounded-full",children:l.jsx(p,{className:"w-8 h-8"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold mb-1",children:"収益システム"}),l.jsx("p",{className:"text-sm opacity-90",children:"売上の80%がオーナー様に支払われます"})]})]}),l.jsx(d,{to:"/owner-payment-system",children:l.jsxs(a,{className:"bg-white text-gray-900 hover:bg-gray-100 hover:text-gray-900 font-bold",children:[l.jsx(u,{className:"w-4 h-4 mr-2"}),"詳細を見る"]})})]})}),l.jsx(r,{className:"bg-blue-50 border-blue-200",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(N,{className:"w-6 h-6 text-blue-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"審査プロセス"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-blue-800",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),l.jsx("span",{children:"第一審査（基本条件確認）"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),l.jsx("span",{children:"第二審査（書類審査）"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),l.jsx("span",{children:"QRコード実証検査"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"4"}),l.jsx("span",{children:"掲載・運営開始"})]})]})]})]})}),0===L.length?l.jsxs(r,{className:"text-center py-12",children:[l.jsx(f,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"まだドッグランが登録されていません"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"新しいドッグランを登録して、多くの愛犬家に利用してもらいましょう"}),l.jsx(d,{to:"/register-park",children:l.jsxs(a,{children:[l.jsx(m,{className:"w-4 h-4 mr-2"}),"ドッグランを登録する"]})})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:L.map(e=>{const s=(e=>{switch(e){case"pending":return{icon:b,label:"第一審査中",description:"申請内容を審査中です。しばらくお待ちください。",color:"bg-yellow-100 text-yellow-800"};case"first_stage_passed":return{icon:h,label:"第一審査通過（旧）",description:"第一審査を通過しました。（旧システム）",color:"bg-blue-100 text-blue-800"};case"second_stage_waiting":return{icon:o,label:"二次審査申し込み",description:"第一審査通過！スマートロックを購入し、第二審査を提出してください。",color:"bg-orange-100 text-orange-800",showSmartLockPurchase:!0};case"second_stage_review":return{icon:N,label:"第二審査中",description:"第二審査を実施中です。審査結果をお待ちください。",color:"bg-purple-100 text-purple-800"};case"smart_lock_testing":return{icon:w,label:"スマートロック認証待ち",description:"スマートロックの動作確認を行ってください。",color:"bg-indigo-100 text-indigo-800"};case"approved":return{icon:h,label:"承認済み・公開可能",description:"ドッグランの運営を開始できます！",color:"bg-green-100 text-green-800"};case"rejected":return{icon:o,label:"却下",description:"申請が却下されました。詳細をご確認ください。",color:"bg-red-100 text-red-800"};default:return{icon:b,label:"不明",description:"ステータスが不明です。",color:"bg-gray-100 text-gray-800"}}})(e.status),t=s.icon;return l.jsxs(r,{className:"hover:shadow-lg transition-shadow",children:[l.jsx("div",{className:"flex justify-between items-start mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.name}),l.jsx("div",{className:"flex items-center space-x-2 mb-2",children:l.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1 ${s.color}`,children:[l.jsx(t,{className:"w-4 h-4"}),l.jsx("span",{children:s.label})]})}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.description})]})}),l.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e.description}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center text-gray-600",children:[l.jsx(f,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"text-sm",children:e.address})]}),l.jsxs("div",{className:"flex items-center text-gray-600",children:[l.jsx(b,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"text-sm",children:"24時間営業"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[l.jsxs("div",{children:["収容人数: ",e.max_capacity,"人"]}),l.jsxs("div",{children:["現在の利用者: ",e.current_occupancy,"人"]})]})]}),"approved"===e.status&&l.jsx("div",{className:"bg-green-50 p-3 rounded-lg mb-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(v,{className:"w-4 h-4 text-yellow-500"}),l.jsxs("span",{children:["評価: ★",e.average_rating.toFixed(1)]})]}),l.jsx("div",{children:l.jsxs("span",{children:["レビュー: ",e.review_count,"件"]})}),l.jsx("div",{children:l.jsxs("span",{children:["現在の利用者: ",e.current_occupancy,"人"]})}),l.jsx("div",{children:l.jsxs("span",{children:["利用率: ",Math.round(e.current_occupancy/e.max_capacity*100),"%"]})})]})}),"pending"===e.status&&l.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg mb-4",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(o,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-sm text-yellow-800",children:[l.jsx("p",{className:"font-medium mb-1",children:"第一審査待ち"}),l.jsx("p",{children:"管理者による審査をお待ちください。通常3-5営業日で結果をお知らせします。"})]})]})}),"second_stage_waiting"===e.status&&l.jsx("div",{className:"bg-orange-50 border border-orange-200 p-4 rounded-lg mb-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(w,{className:"w-6 h-6 text-orange-600 mt-0.5 flex-shrink-0"}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"text-sm text-orange-800",children:[l.jsx("p",{className:"font-bold mb-2 text-base",children:"🎉 第一審査通過おめでとうございます！"}),l.jsx("p",{className:"mb-3",children:"二次審査の申し込みが可能になりました。"}),l.jsx("div",{className:"mb-4 text-center",children:l.jsx(d,{to:`/parks/${e.id}/second-stage`,children:l.jsxs(a,{className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg font-medium",children:[l.jsx(N,{className:"w-4 h-4 mr-2"}),"二次審査申し込み"]})})}),l.jsxs("div",{className:"mb-4 p-3 bg-white rounded-lg border border-orange-200",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-orange-700 mb-2",children:[l.jsx("span",{children:"進捗状況"}),l.jsx("span",{children:"1/3ステップ完了"})]}),l.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2",children:l.jsx("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:"33%"}})})]}),l.jsx("p",{className:"mb-3",children:"次のステップに進むため、以下の手順を完了してください："}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{className:"flex items-start space-x-3 p-2 bg-green-50 rounded-lg border border-green-200",children:[l.jsx("div",{className:"w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"✓"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"font-semibold text-green-800",children:"第一審査通過"}),l.jsx("p",{className:"text-xs text-green-700 mt-1",children:"基本情報の審査が完了しました"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-2 bg-orange-50 rounded-lg border-2 border-orange-300",children:[l.jsx("div",{className:"w-6 h-6 bg-orange-600 text-white rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"2"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"font-semibold text-orange-800",children:"スマートロックの購入・設置"}),l.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"ペットショップでスマートロックを購入し、設置してください"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-2 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsx("div",{className:"w-6 h-6 bg-gray-400 text-white rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"3"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("span",{className:"font-semibold text-gray-600",children:"第二審査（設備画像）の提出"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"設置完了後、設備画像をアップロードしてください"})]})]})]}),l.jsx("div",{className:"flex space-x-2",children:l.jsx(d,{to:"/pet-shop",className:"flex-1",children:l.jsxs(a,{className:"w-full bg-orange-600 hover:bg-orange-700",children:[l.jsx(x,{className:"w-4 h-4 mr-2"}),"ペットショップでスマートロック購入"]})})})]})})]})}),"first_stage_passed"===e.status&&l.jsx("div",{className:"bg-blue-50 p-3 rounded-lg mb-4",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(h,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-sm text-blue-800",children:[l.jsx("p",{className:"font-medium mb-1",children:"第一審査通過！（旧システム）"}),l.jsx("p",{children:"第二審査の詳細情報を入力してください。"})]})]})}),"second_stage_review"===e.status&&l.jsx("div",{className:"bg-purple-50 p-3 rounded-lg mb-4",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(b,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-sm text-purple-800",children:[l.jsx("p",{className:"font-medium mb-1",children:"第二審査中"}),l.jsx("p",{children:"提出いただいた設備画像を審査中です。結果をお待ちください。"})]})]})}),"smart_lock_testing"===e.status&&l.jsx("div",{className:"bg-indigo-50 p-3 rounded-lg mb-4",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(w,{className:"w-5 h-5 text-indigo-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-sm text-indigo-800",children:[l.jsx("p",{className:"font-medium mb-1",children:"スマートロック動作確認"}),l.jsx("p",{children:"スマートロックの動作確認を行い、正常に作動することを確認してください。"})]})]})}),l.jsxs("div",{className:"flex space-x-2",children:["qr_testing_ready"===e.status&&l.jsxs("div",{className:"flex justify-between w-full space-x-2",children:[l.jsx(d,{to:`/parks/${e.id}/publish-setup`,className:"flex-1",children:l.jsxs(a,{size:"sm",className:"w-full bg-green-600 hover:bg-green-700",children:[l.jsx(w,{className:"w-4 h-4 mr-1"}),"公開準備を開始"]})}),l.jsx(a,{size:"sm",variant:"secondary",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:s=>{s.preventDefault(),s.stopPropagation(),V(e.id)},children:l.jsx(y,{className:"w-4 h-4"})})]}),"editing"===e.status&&l.jsxs("div",{className:"flex justify-between w-full space-x-2",children:[l.jsx(d,{to:`/parks/${e.id}/publish-setup`,className:"flex-1",children:l.jsxs(a,{size:"sm",className:"w-full bg-yellow-600 hover:bg-yellow-700",children:[l.jsx(_,{className:"w-4 h-4 mr-1"}),"編集を続ける"]})}),l.jsx(a,{size:"sm",variant:"secondary",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:s=>{s.preventDefault(),s.stopPropagation(),V(e.id)},children:l.jsx(y,{className:"w-4 h-4"})})]}),"ready_to_publish"===e.status&&l.jsxs("div",{className:"flex justify-between w-full space-x-2",children:[l.jsx(d,{to:`/parks/${e.id}/publish-setup`,className:"flex-1",children:l.jsxs(a,{size:"sm",className:"w-full bg-green-600 hover:bg-green-700",children:[l.jsx(k,{className:"w-4 h-4 mr-1"}),"公開する"]})}),l.jsx(a,{size:"sm",variant:"secondary",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:s=>{s.preventDefault(),s.stopPropagation(),V(e.id)},children:l.jsx(y,{className:"w-4 h-4"})})]}),"approved"===e.status&&l.jsxs("div",{className:"flex justify-between w-full",children:[l.jsx(d,{to:`/parks/${e.id}`,children:l.jsxs(a,{size:"sm",variant:"secondary",children:[l.jsx(k,{className:"w-4 h-4 mr-1"}),"公開ページを見る"]})}),l.jsx(d,{to:`/parks/${e.id}/manage`,children:l.jsx(a,{size:"sm",children:"管理する"})})]}),"first_stage_passed"===e.status&&l.jsxs("div",{className:"flex justify-between w-full space-x-2",children:[l.jsx(d,{to:`/parks/${e.id}/second-stage`,className:"flex-1",children:l.jsxs(a,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700",children:[l.jsx(z,{className:"w-4 h-4 mr-1"}),"画像アップロード"]})}),l.jsx(a,{size:"sm",variant:"secondary",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:s=>{s.preventDefault(),s.stopPropagation(),V(e.id)},children:l.jsx(y,{className:"w-4 h-4"})})]}),"second_stage_waiting"===e.status&&l.jsx("div",{className:"flex justify-end w-full",children:l.jsx(a,{size:"sm",variant:"secondary",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:s=>{s.preventDefault(),s.stopPropagation(),V(e.id)},children:l.jsx(y,{className:"w-4 h-4"})})}),"pending"===e.status&&l.jsxs("div",{className:"flex justify-between w-full space-x-2",children:[l.jsx("div",{className:"flex-1 text-center py-2 text-gray-600 text-sm",children:"第一審査待ち"}),l.jsx(a,{size:"sm",variant:"secondary",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:s=>{s.preventDefault(),s.stopPropagation(),V(e.id)},children:l.jsx(y,{className:"w-4 h-4"})})]}),"second_stage_review"===e.status&&l.jsxs("div",{className:"flex justify-between w-full space-x-2",children:[l.jsx("div",{className:"flex-1 text-center py-2 text-gray-600 text-sm",children:"第二審査中"}),l.jsx(a,{size:"sm",variant:"secondary",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:s=>{s.preventDefault(),s.stopPropagation(),V(e.id)},children:l.jsx(y,{className:"w-4 h-4"})})]}),"rejected"===e.status&&l.jsxs("div",{className:"flex justify-between w-full space-x-2",children:[l.jsx("div",{className:"flex-1 text-center py-2 text-red-600 text-sm",children:"申請却下"}),l.jsx(a,{size:"sm",variant:"secondary",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:s=>{s.preventDefault(),s.stopPropagation(),V(e.id)},children:l.jsx(y,{className:"w-4 h-4"})})]})]})]},e.id)})}),l.jsx(r,{className:"bg-gray-50",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(N,{className:"w-6 h-6 text-gray-600 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"運営サポート"}),l.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[l.jsx("p",{children:"• 審査に関するご質問は運営事務局までお問い合わせください"}),l.jsx("p",{children:"• QRコードシステムの設置・設定サポートを提供しています"}),l.jsx("p",{children:"• 運営開始後も継続的なサポートを行います"}),l.jsx("p",{children:"• 📧 サポート窓口: info@dogparkjp.com"})]})]})]})}),U&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(o,{className:"w-10 h-10 text-red-500"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"ドッグラン申請を削除"}),l.jsx("p",{className:"text-sm text-gray-500",children:null==(S=L.find(e=>e.id===U))?void 0:S.name})]})]}),l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(o,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-sm text-red-800",children:[l.jsx("p",{className:"font-semibold mb-2",children:"⚠️ 重要な警告"}),l.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[l.jsx("li",{children:l.jsx("strong",{children:"この操作は取り消せません"})}),l.jsx("li",{children:"すべての申請データが完全に削除されます"}),l.jsx("li",{children:"再度利用したい場合は最初から申請手続きが必要です"}),l.jsx("li",{children:"審査進捗やアップロードした画像もすべて失われます"}),l.jsx("li",{children:"削除後は同じ施設名での即座の再申請はできません"})]})]})]})}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"削除される内容："}),l.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[l.jsx("li",{children:"• ドッグランの基本情報"}),l.jsx("li",{children:"• アップロード済みの施設画像"}),l.jsx("li",{children:"• 審査進捗状況"}),l.jsx("li",{children:"• 銀行口座情報"}),l.jsx("li",{children:"• 管理者からのフィードバック"})]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:Z,className:"mt-1 rounded border-gray-300 text-red-600 focus:ring-red-500",onChange:e=>{ee(e.target.checked)}}),l.jsxs("span",{className:"text-sm text-gray-700",children:["上記の内容を理解し、",l.jsx("strong",{children:"申請を完全に削除することに同意します"})]})]})}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx(a,{variant:"secondary",onClick:()=>{V(null),ee(!1)},disabled:W,children:"キャンセル"}),l.jsxs(a,{id:"confirm-delete-button",className:"bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",isLoading:W,disabled:!Z,onClick:()=>{U&&te(U)},children:[l.jsx(y,{className:"w-4 h-4 mr-2"}),"完全に削除する"]})]}),l.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"💡 ヒント："})," 一時的に申請を中断したい場合は、削除せずに運営事務局にご相談ください。"]})})]})})]}):void J("ユーザー情報が取得できません")}function C({className:e}){return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[l.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),l.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),l.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),l.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}export{S as OwnerDashboard};
