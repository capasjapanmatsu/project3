import{j as e}from"./motion-BHsL7Azw.js";import{r as s}from"./react-vendor-CMvmJHsS.js";import{L as a}from"./router-DXQOdrLL.js";import{C as t}from"./Card-DqVnP9TA.js";import{B as l,s as r}from"./index-B7x5cu2N.js";import{I as m}from"./Input-DXp8CaFq.js";import{Z as i,u as c,ai as n,i as x,a as d,d as o,al as h,M as j}from"./ui-basic-BVqAzqVO.js";import"./heavy-features-Dlg1c9Yc.js";import"./supabase--qivnNSU.js";function u(){const[u,b]=s.useState({name:"",email:"",subject:"",message:""}),[g,N]=s.useState(!1),[p,f]=s.useState(""),[w,v]=s.useState(!1);return e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs(a,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:[e.jsx(i,{className:"w-4 h-4 mr-2"}),"ホームに戻る"]})}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"お問い合わせ"}),e.jsx("p",{className:"text-gray-600",children:"ご質問やご意見がございましたら、お気軽にお問い合わせください。"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(t,{className:"p-6",children:w?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(c,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"お問い合わせありがとうございます"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"メッセージを受け付けました。担当者が確認次第、ご連絡いたします。"}),e.jsx(l,{onClick:()=>v(!1),children:"新しいお問い合わせ"})]}):e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),N(!0),f("");try{if(!u.name.trim())throw new Error("お名前を入力してください");if(!u.email.trim())throw new Error("メールアドレスを入力してください");if(!u.subject.trim())throw new Error("件名を入力してください");if(!u.message.trim())throw new Error("メッセージを入力してください");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email))throw new Error("有効なメールアドレスを入力してください");const{error:e}=await r.from("contact_messages").insert([{name:u.name,email:u.email,subject:u.subject,message:u.message,status:"new"}]);if(e)throw e;const{error:s}=await r.from("admin_notifications").insert([{type:"user_report",title:"お問い合わせがありました",message:`${u.name}さんからのお問い合わせ: ${u.subject}`,data:{email:u.email}}]);v(!0),b({name:"",email:"",subject:"",message:""})}catch(s){f(s.message||"送信に失敗しました")}finally{N(!1)}},children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(n,{className:"w-6 h-6 text-blue-600 mr-2"}),"お問い合わせフォーム"]}),p&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 rounded-lg flex items-start",children:[e.jsx(x,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{className:"text-red-800",children:p})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"お名前 *",value:u.name,onChange:e=>b({...u,name:e.target.value}),required:!0,icon:e.jsx(d,{className:"w-4 h-4 text-gray-500"})}),e.jsx(m,{label:"メールアドレス *",type:"email",value:u.email,onChange:e=>b({...u,email:e.target.value}),required:!0,icon:e.jsx(o,{className:"w-4 h-4 text-gray-500"})}),e.jsx(m,{label:"件名 *",value:u.subject,onChange:e=>b({...u,subject:e.target.value}),required:!0}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"メッセージ *"}),e.jsx("textarea",{value:u.message,onChange:e=>b({...u,message:e.target.value}),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsx("div",{className:"mt-6",children:e.jsxs(l,{type:"submit",isLoading:g,className:"w-full",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"送信する"]})})]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(o,{className:"w-5 h-5 text-blue-600 mr-2"}),"お問い合わせ先"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(o,{className:"w-5 h-5 text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"メール"}),e.jsx("p",{className:"text-gray-600",children:"info@dogparkjp.com"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(j,{className:"w-5 h-5 text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"住所"}),e.jsxs("p",{className:"text-gray-600",children:["〒861-0563",e.jsx("br",{}),"熊本県山鹿市鹿央町千田１７１８－１３",e.jsx("br",{}),"株式会社ＣＡＰＡＳ"]})]})]})]})]}),e.jsxs(t,{className:"p-6 bg-blue-50 border-blue-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-900",children:"よくあるお問い合わせ"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Q: サブスクリプションの解約方法は？"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"A: マイページの「サブスクリプション管理」から解約手続きができます。"})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Q: ワクチン証明書の承認にはどれくらい時間がかかりますか？"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"A: 通常3営業日以内に審査を完了します。"})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Q: 予約のキャンセルはいつまでできますか？"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"A: 予約時間の24時間前までキャンセル可能です。"})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Q: ドッグランオーナーになるには？"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"A: マイページから「ドッグラン登録」を選択し、審査を受けてください。"})]})]})]})]})]})]})}export{u as Contact};
