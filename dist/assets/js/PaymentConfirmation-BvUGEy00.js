import{j as e}from"./motion-CuO0nkIV.js";import{r as s}from"./react-vendor-cniURDpR.js";import{B as a}from"./Button-D7FFKgkK.js";import{u as t,a as r}from"./router-Cg6wfOY4.js";import{aD as l,a as c,aE as m}from"./ui-basic-icnN6BOT.js";import"./supabase-B0bqaRGb.js";function n(){const n=t(),i=r(),[x,d]=s.useState(5),o=s.useMemo(()=>new URLSearchParams(n.search),[n.search]),h="true"===o.get("success"),j="true"===o.get("canceled");return s.useEffect(()=>{if(!h)return;const e=setInterval(()=>d(e=>e>0?e-1:0),1e3),s=setTimeout(()=>i("/dashboard",{replace:!0}),5e3);return()=>{clearInterval(e),clearTimeout(s)}},[h,i]),e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-sm border p-6 text-center",children:[h&&e.jsxs(e.Fragment,{children:[e.jsx(l,{className:"w-14 h-14 text-green-600 mx-auto"}),e.jsx("h1",{className:"mt-4 text-2xl font-semibold text-gray-900",children:"お支払いが完了しました"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"プレミアム会員機能がまもなく反映されます。"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["自動的にマイページへ戻ります（",x,"秒）"]}),e.jsx("div",{className:"mt-6",children:e.jsxs(a,{onClick:()=>i("/dashboard",{replace:!0}),className:"w-full",children:[e.jsx(c,{className:"w-4 h-4 mr-2"})," マイページへ戻る"]})})]}),j&&e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-14 h-14 text-red-500 mx-auto"}),e.jsx("h1",{className:"mt-4 text-2xl font-semibold text-gray-900",children:"お支払いがキャンセルされました"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"手続きを再開する場合は、元の画面からもう一度お試しください。"}),e.jsx("div",{className:"mt-6",children:e.jsxs(a,{onClick:()=>i("/dashboard",{replace:!0}),className:"w-full",children:[e.jsx(c,{className:"w-4 h-4 mr-2"})," マイページへ戻る"]})})]}),!h&&!j&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"mt-2 text-xl font-semibold text-gray-900",children:"決済結果を確認しています..."}),e.jsx("div",{className:"mt-6",children:e.jsxs(a,{onClick:()=>i("/dashboard",{replace:!0}),className:"w-full",children:[e.jsx(c,{className:"w-4 h-4 mr-2"})," マイページへ戻る"]})})]})]})})}export{n as default};
