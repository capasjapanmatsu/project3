import{j as e}from"./motion-CuO0nkIV.js";import{r as s,b as t}from"./react-vendor-cniURDpR.js";import{L as a,a as i}from"./router-Cg6wfOY4.js";import{u as l,C as r,s as n}from"./index-Cxr3hxlQ.js";import{B as o}from"./Button-BVIkPLCk.js";import{f as c,s as d,t as m,u as x,v as h,m as u,w as g,x as b,o as j,M as p,U as f,y as N,z as w,b as y,P as v,W as k,F as _,R as S,B as C,A as I,T as M,I as L,J as z,N as D,O as E}from"./ui-basic-icnN6BOT.js";import"./heavy-features-BIdEME4r.js";import"./supabase-B0bqaRGb.js";const O=({children:t,className:a="",animation:i="fade",duration:l=300,delay:r=0,as:n="div"})=>{const[o,c]=s.useState(!1),[d,m]=s.useState(!1);if(s.useEffect(()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)");c(e.matches);const s=e=>{c(e.matches)};e.addEventListener("change",s);const t=setTimeout(()=>{m(!0)},r);return()=>{e.removeEventListener("change",s),clearTimeout(t)}},[r]),o)return e.jsx(n,{className:a,children:t});const x={fade:{initial:"opacity-0",animate:"opacity-100"},slide:{initial:"transform translate-y-4 opacity-0",animate:"transform translate-y-0 opacity-100"},scale:{initial:"transform scale-95 opacity-0",animate:"transform scale-100 opacity-100"},none:{initial:"",animate:""}},h={transition:`all ${l}ms ease-out`},u=d?x[i].animate:x[i].initial;return e.jsx(n,{className:`${a} ${u}`,style:h,children:t})},$=[{id:"health",title:"å¥åº·ç®¡ç†",description:"ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®ã€å®šæœŸæ¤œè¨ºã€ç—…æ°—ã®äºˆé˜²ã«ã¤ã„ã¦è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚",icon:m,category:"health",link:"/dog-info/health",color:"bg-red-50 border-red-200 hover:bg-red-100",iconColor:"text-red-600"},{id:"training",title:"ã—ã¤ã‘ã®ã‚³ãƒ„",description:"åŸºæœ¬çš„ãªã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰å•é¡Œè¡Œå‹•ã®æ”¹å–„ã¾ã§ã€åŠ¹æœçš„ãªã—ã¤ã‘æ–¹æ³•ã‚’ç´¹ä»‹ã€‚",icon:x,category:"training",link:"/dog-info/training",color:"bg-blue-50 border-blue-200 hover:bg-blue-100",iconColor:"text-blue-600"},{id:"walk",title:"ãŠæ•£æ­©ã‚¬ã‚¤ãƒ‰",description:"å®‰å…¨ã§æ¥½ã—ã„ãŠæ•£æ­©ã®æ–¹æ³•ã€é©åˆ‡ãªé‹å‹•é‡ã€æ•£æ­©ã‚³ãƒ¼ã‚¹ã®é¸ã³æ–¹ã€‚",icon:c,category:"walk",link:"/dog-info/walk",color:"bg-green-50 border-green-200 hover:bg-green-100",iconColor:"text-green-600"},{id:"food",title:"é£Ÿäº‹ãƒ»æ „é¤Š",description:"å¹´é½¢ã‚„ä½“èª¿ã«åˆã‚ã›ãŸé£Ÿäº‹é¸ã³ã€æ „é¤Šãƒãƒ©ãƒ³ã‚¹ã€ãŠã‚„ã¤ã®ä¸ãˆæ–¹ã€‚",icon:h,category:"food",link:"/dog-info/food",color:"bg-yellow-50 border-yellow-200 hover:bg-yellow-100",iconColor:"text-yellow-600"},{id:"care",title:"ãŠæ‰‹å…¥ã‚Œ",description:"ãƒ–ãƒ©ãƒƒã‚·ãƒ³ã‚°ã€çˆªåˆ‡ã‚Šã€æ­¯ç£¨ããªã©ã€æ—¥å¸¸ã®ãŠæ‰‹å…¥ã‚Œæ–¹æ³•ã‚’è§£èª¬ã€‚",icon:u,category:"care",link:"/dog-info/care",color:"bg-purple-50 border-purple-200 hover:bg-purple-100",iconColor:"text-purple-600"},{id:"breeds",title:"çŠ¬ç¨®å›³é‘‘",description:"äººæ°—ã®çŠ¬ç¨®ã‹ã‚‰çã—ã„çŠ¬ç¨®ã¾ã§ã€ç‰¹å¾´ã‚„æ€§æ ¼ã€é£¼è‚²ã®ãƒã‚¤ãƒ³ãƒˆã‚’ç´¹ä»‹ã€‚",icon:d,category:"health",link:"/dog-info/breeds",color:"bg-indigo-50 border-indigo-200 hover:bg-indigo-100",iconColor:"text-indigo-600"}];function q(){const{isAuthenticated:s}=l();return e.jsx("section",{className:"py-12 bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(c,{className:"w-10 h-10 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“æƒ…å ±ç™ºä¿¡ã‚³ãƒ¼ãƒŠãƒ¼"}),e.jsx(d,{className:"w-10 h-10 text-blue-600 ml-3"})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"æ„›çŠ¬ã¨ã®æš®ã‚‰ã—ã‚’ã‚‚ã£ã¨æ¥½ã—ãã€ã‚‚ã£ã¨å¥åº·ã«ã€‚å°‚é–€å®¶ç›£ä¿®ã®æƒ…å ±ã§ã€ ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã¨ã®çµ†ã‚’æ·±ã‚ã¾ã—ã‚‡ã†ã€‚"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:$.map(s=>e.jsx(r,{className:`${s.color} transition-all duration-300 transform hover:scale-105 hover:shadow-lg border-2`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(s.icon,{className:`w-8 h-8 mr-3 ${s.iconColor}`}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:s.title})]}),e.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:s.description}),e.jsx(a,{to:s.link,children:e.jsx(o,{variant:"outline",className:"w-full border-gray-300 hover:bg-gray-50",children:"è©³ã—ãè¦‹ã‚‹ â†’"})})]})},s.id))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(g,{className:"w-8 h-8 text-orange-600 mr-2"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"ä»Šæœˆã®ç‰¹é›†"})]}),e.jsx("p",{className:"text-gray-600",children:"å­£ç¯€ã«åˆã‚ã›ãŸãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚±ã‚¢ã®ãƒã‚¤ãƒ³ãƒˆ"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ğŸŒ¡ï¸"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"å¤ã®æš‘ã•å¯¾ç­–"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"ç†±ä¸­ç—‡äºˆé˜²ã€é©åˆ‡ãªæ°´åˆ†è£œçµ¦ã€æ¶¼ã—ã„æ•£æ­©æ™‚é–“å¸¯ã®é¸ã³æ–¹ãªã©ã€ å¤ã‚’å¿«é©ã«éã”ã™ãŸã‚ã®ãƒã‚¤ãƒ³ãƒˆã‚’è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ğŸƒ"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"å®¤å†…é‹å‹•ã®ã‚¢ã‚¤ãƒ‡ã‚¢"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"é›¨ã®æ—¥ã‚„æš‘ã„æ—¥ã§ã‚‚ã§ãã‚‹å®¤å†…ã§ã®é‹å‹•æ–¹æ³•ã€ çŸ¥è‚²ç©å…·ã‚’ä½¿ã£ãŸéŠã³æ–¹ã€ã‚¹ãƒˆãƒ¬ã‚¹è§£æ¶ˆã®ã‚³ãƒ„ã‚’ç´¹ä»‹ã€‚"})]})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl p-8 text-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"ğŸ¾ ãƒ¯ãƒ³ã¡ã‚ƒã‚“ä»²é–“ã¨ã¤ãªãŒã‚ã†"}),e.jsx("p",{className:"text-lg mb-6 opacity-90",children:"åŒã˜çŠ¬ç¨®ã®é£¼ã„ä¸»ã•ã‚“ã‚„è¿‘æ‰€ã®ãƒ¯ãƒ³ã¡ã‚ƒã‚“ä»²é–“ã¨ æƒ…å ±äº¤æ›ã‚„ãŠæ•£æ­©ä»²é–“ã‚’è¦‹ã¤ã‘ã¾ã›ã‚“ã‹ï¼Ÿ"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(a,{to:s?"/community":"/login",children:e.jsx(o,{className:"bg-pink-600 text-white hover:bg-pink-700 border-pink-600",children:"ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å‚åŠ "})}),e.jsx(a,{to:"/parks",children:e.jsx(o,{variant:"outline",className:"border-white text-white hover:bg-white hover:text-purple-600",children:"è¿‘ãã®ãƒ‰ãƒƒã‚°ãƒ‘ãƒ¼ã‚¯ã‚’æ¢ã™"})})]})]})})]})})}const T=()=>{const{user:s}=l();return e.jsx("section",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative text-white p-8 pb-20 rounded-xl shadow-2xl",style:{backgroundImage:"url(/images/facility-recruitment-bg.webp)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 rounded-xl"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"bg-white/20 p-3 rounded-full",children:e.jsx(b,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center",children:[e.jsx(m,{className:"w-6 h-6 mr-2"}),"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã¨è¡Œã‘ã‚‹æ–½è¨­æ²è¼‰å‹Ÿé›†ä¸­ï¼"]}),e.jsx("p",{className:"text-lg opacity-90",children:"ãƒšãƒƒãƒˆã‚·ãƒ§ãƒƒãƒ—ã€å‹•ç‰©ç—…é™¢ã€ã‚«ãƒ•ã‚§ãªã©ã€ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã¨ä¸€ç·’ã«è¡Œã‘ã‚‹æ–½è¨­ã‚’æ²è¼‰ã—ã¾ã›ã‚“ã‹ï¼Ÿ"})]})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20",children:e.jsx(a,{to:s?"/facility-registration":"/register",className:"block",children:e.jsxs("button",{className:"w-full bg-white/80 hover:bg-white/90 text-gray-800 font-bold py-3 px-6 rounded-lg shadow-lg transition-all duration-200 flex items-center justify-center",children:[e.jsx(j,{className:"w-5 h-5 mr-2"}),s?"æ–½è¨­æ²è¼‰ã«é€²ã‚€":"æ–½è¨­ç™»éŒ²",e.jsx("span",{className:"ml-3 text-sm font-normal",children:"æ²è¼‰æ–™ç„¡æ–™ãƒ»ã‚µãƒãƒ¼ãƒˆå……å®Ÿ"})]})})}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"})]})})},B=({isLoggedIn:s})=>{const t=[{icon:e.jsx(p,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 group-hover:scale-110 transition-transform"}),title:"ç°¡å˜æ¤œç´¢",description:"ãŠè¿‘ãã®ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã‚’ç°¡å˜ã«è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™",linkTo:"/parks",color:"text-blue-600"},{icon:e.jsx(f,{className:"h-12 w-12 text-purple-600 mx-auto mb-4 group-hover:scale-110 transition-transform"}),title:"ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£",description:"æ„›çŠ¬å®¶åŒå£«ã§äº¤æµã‚’æ·±ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™",linkTo:s?"/community":"/login",color:"text-purple-600"},{icon:e.jsx(N,{className:"h-12 w-12 text-orange-600 mx-auto mb-4 group-hover:scale-110 transition-transform"}),title:"äºˆç´„ç®¡ç†",description:"æ–½è¨­ã®äºˆç´„ã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ç°¡å˜ã«ç®¡ç†",linkTo:s?"/dashboard":"/login",color:"text-orange-600"},{icon:e.jsx(w,{className:"h-12 w-12 text-green-600 mx-auto mb-4 group-hover:scale-110 transition-transform"}),title:"ãƒšãƒƒãƒˆã‚·ãƒ§ãƒƒãƒ—",description:"ãƒšãƒƒãƒˆç”¨å“ã‚’ãƒ¯ãƒ³ã‚¿ãƒƒãƒã§ç°¡å˜æ³¨æ–‡",linkTo:"/petshop",color:"text-green-600"}];return e.jsx("section",{className:"grid md:grid-cols-4 gap-8 mt-12",children:t.map((s,t)=>e.jsxs(a,{to:s.linkTo,className:"text-center p-6 hover:bg-gray-50 rounded-lg transition-colors cursor-pointer group no-underline hover:no-underline",children:[s.icon,e.jsx("h3",{className:"text-xl font-semibold mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600",children:s.description})]},t))})},R=[{id:"recruit-1",title:"ã‚¹ãƒãƒ³ã‚µãƒ¼å‹Ÿé›†ä¸­",description:"ã‚ãªãŸã®åºƒå‘Šã‚’ã“ã“ã«æ²è¼‰ã—ã¾ã›ã‚“ã‹ï¼Ÿå¤šãã®ãƒ‰ãƒƒã‚°ã‚ªãƒ¼ãƒŠãƒ¼ã«ãƒªãƒ¼ãƒã§ãã¾ã™ï¼",image_url:"",website_url:"/sponsor-inquiry",is_active:!0,display_order:1,created_at:(new Date).toISOString()},{id:"recruit-2",title:"ãƒšãƒƒãƒˆé–¢é€£ã‚µãƒ¼ãƒ“ã‚¹å‹Ÿé›†",description:"ãƒšãƒƒãƒˆé–¢é€£ã‚µãƒ¼ãƒ“ã‚¹ã®å®£ä¼ã«æœ€é©ï¼åŠ¹æœçš„ãªåºƒå‘Šæ ã‚’ã”æä¾›ã—ã¾ã™ã€‚",image_url:"",website_url:"/sponsor-inquiry",is_active:!0,display_order:2,created_at:(new Date).toISOString()},{id:"recruit-3",title:"æ„›çŠ¬å®¶å‘ã‘åºƒå‘Šå‹Ÿé›†",description:"æ„›çŠ¬å®¶ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å‘ã‘ã¦ã€ã‚ãªãŸã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç´¹ä»‹ã—ã¦ãã ã•ã„ï¼",image_url:"",website_url:"/sponsor-inquiry",is_active:!0,display_order:3,created_at:(new Date).toISOString()},{id:"recruit-4",title:"ãƒ‰ãƒƒã‚°ãƒ•ãƒ¼ãƒ‰ãƒ»ç”¨å“åºƒå‘Š",description:"ãƒ‰ãƒƒã‚°ãƒ•ãƒ¼ãƒ‰ã‚„ãƒšãƒƒãƒˆç”¨å“ã®åºƒå‘Šæ²è¼‰ã§å£²ä¸Šã‚¢ãƒƒãƒ—ã‚’å®Ÿç¾ã—ã¾ã—ã‚‡ã†ï¼",image_url:"",website_url:"/sponsor-inquiry",is_active:!0,display_order:4,created_at:(new Date).toISOString()},{id:"recruit-5",title:"å‹•ç‰©ç—…é™¢ãƒ»ã‚µãƒ¼ãƒ“ã‚¹",description:"å‹•ç‰©ç—…é™¢ã‚„ãƒšãƒƒãƒˆã‚±ã‚¢ã‚µãƒ¼ãƒ“ã‚¹ã®å®£ä¼ã§åœ°åŸŸã®æ„›çŠ¬å®¶ã«ã‚¢ãƒ”ãƒ¼ãƒ«ï¼",image_url:"",website_url:"/sponsor-inquiry",is_active:!0,display_order:5,created_at:(new Date).toISOString()}],F=({banners:t})=>{const a=i(),[l]=s.useState(R),[r,n]=s.useState(0),[o,c]=s.useState(!0),[d,m]=s.useState(!1);s.useEffect(()=>{if(!o||d||l.length<=1)return;const e=setInterval(()=>{n(e=>(e+1)%l.length)},3e3);return()=>clearInterval(e)},[o,d,l.length]);const x=s.useCallback(()=>{a("/sponsor-inquiry")},[a]),h=s.useCallback(e=>(e%l.length+l.length)%l.length,[l.length]),u=s.useCallback(()=>{const e=[];for(let s=-2;s<=2;s++){const t=h(r+s);e.push({banner:l[t],position:s,index:t})}return e},[r,l,h]);if(0===l.length)return null;const g=u();return e.jsxs("section",{className:"w-full mb-8 relative",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),"aria-label":"ã‚¹ãƒãƒ³ã‚µãƒ¼å‹Ÿé›†ã‚«ãƒ«ãƒ¼ã‚»ãƒ«",children:[e.jsxs("div",{className:"relative w-full h-36 overflow-hidden",children:[e.jsx("div",{className:"flex items-center justify-center h-full",children:g.map(({banner:s,position:t,index:a})=>{if(!s)return null;const i=0===t,l=1===Math.abs(t),r=2===Math.abs(t);let n="",o=1,c=1,d=10;return i?(n="translateX(0)",o=1,c=1,d=20):l?(n=`translateX(${260*t}px)`,o=.7,c=.85,d=15):r&&(n=`translateX(${300*t}px)`,o=.4,c=1,d=10),e.jsx("div",{className:"absolute transition-all duration-700 ease-in-out cursor-pointer "+(i?"w-[28rem] h-28":l?"w-96 h-24":"w-[28rem] h-28"),style:{transform:`${n} scale(${c})`,opacity:o,zIndex:d},onClick:x,children:e.jsxs("div",{className:"w-full h-full rounded-lg relative overflow-hidden shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 "+(0===t?"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500":-1===t||1===t?"bg-gradient-to-r from-green-500 via-blue-500 to-purple-500":"bg-gradient-to-r from-gray-400 to-gray-600")}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, white 1px, transparent 1px)",backgroundSize:"20px 20px"}}),e.jsx("div",{className:"relative z-10 h-full flex items-center justify-center text-center px-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white drop-shadow-lg mb-2 "+(i?"text-xl":l?"text-base":"text-lg"),children:s.title}),i&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-white opacity-90 drop-shadow-md max-w-sm mb-3",children:s.description}),e.jsx("div",{children:e.jsx("span",{className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-full text-sm font-medium backdrop-blur-sm hover:bg-opacity-30 transition-all",children:"è©³ç´°ã‚’è¦‹ã‚‹ â†’"})})]})]})}),i&&e.jsx("div",{className:"absolute top-3 left-3 bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-xs font-bold",children:"å‹Ÿé›†ä¸­"}),i&&e.jsx("div",{className:"absolute bottom-3 right-3",children:e.jsx("svg",{className:"w-5 h-5 text-white opacity-70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})})]})},`${s.id}-${a}`)})}),e.jsx("div",{className:"absolute top-1/2 right-4 transform -translate-y-1/2 pointer-events-none",children:e.jsxs("div",{className:"flex items-center space-x-1 text-white opacity-50",children:[e.jsx("svg",{className:"w-4 h-4 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("svg",{className:"w-4 h-4 animate-pulse",style:{animationDelay:"0.2s"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),e.jsx("div",{className:"flex justify-center mt-3",children:e.jsx("div",{className:"flex space-x-1",children:l.map((s,t)=>e.jsx("div",{className:"w-1.5 h-1.5 rounded-full transition-colors duration-200 "+(t===r?"bg-blue-600":"bg-gray-300")},t))})})]})},P=({isLoggedIn:s})=>e.jsxs("section",{className:"py-4",children:[e.jsx(F,{}),s?e.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto mt-6",children:[e.jsxs(a,{to:"/parks",className:"flex items-center justify-center gap-2 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[e.jsx(p,{className:"w-5 h-5"}),"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã‚’æ¢ã™"]}),e.jsxs(a,{to:"/dashboard",className:"flex items-center justify-center gap-2 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[e.jsx(y,{className:"w-5 h-5"}),"ãƒã‚¤ãƒšãƒ¼ã‚¸"]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"æ„›çŠ¬ã¨ã®ãŠæ•£æ­©ã‚’ã€ã‚‚ã£ã¨æ¥½ã—ã"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"è¿‘ãã®ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã‚’è¦‹ã¤ã‘ã¦ã€æ–°ã—ã„å‡ºä¼šã„ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:[e.jsx(a,{to:"/register",className:"text-center bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"ç„¡æ–™ã§å§‹ã‚ã‚‹"}),e.jsx(a,{to:"/login?method=magic",className:"text-center bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Magic Linkã§ç°¡å˜ãƒ­ã‚°ã‚¤ãƒ³"})]})]})]}),Z=t.memo(({recentDogs:t,isOffline:a,isLoading:i=!1})=>{const l=s.useMemo(()=>[...t,...t],[t]),r=s.useMemo(()=>Array.isArray(t)&&t.length>0,[t]);return e.jsxs("section",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("div",{className:"flex justify-center items-center mb-6 relative",children:e.jsxs("div",{className:"text-center relative",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center justify-center",children:[e.jsx(v,{className:"w-6 h-6 text-blue-600 mr-2"}),"æœ€è¿‘ä»²é–“å…¥ã‚Šã—ã¾ã—ãŸï¼"]}),e.jsx("div",{className:"absolute -top-8 -right-4",children:e.jsx("div",{className:"bg-yellow-100 rounded-full px-4 py-2 text-yellow-800 font-bold transform -rotate-12 text-sm",children:"New"})})]})}),e.jsx("div",{className:"overflow-hidden w-full relative",style:{height:140},children:i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-gray-600",children:"æ–°ã—ã„ä»²é–“ã‚’æ¢ã—ã¦ã„ã¾ã™..."})]})}):r?e.jsx("div",{className:"flex items-center whitespace-nowrap",style:{width:"max-content",animation:"marquee 45s linear infinite",willChange:"transform",transform:"translateZ(0)"},children:l.map((s,t)=>e.jsx(W,{dog:s},`${s.id}-${t}`))}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 text-center",children:e.jsxs("div",{children:[e.jsx(v,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium",children:a?"ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ä¸­ã§ã™":"æ–°ã—ã„ä»²é–“ã‚’å‹Ÿé›†ä¸­ï¼"}),e.jsx("p",{className:"text-sm mt-1",children:a?"æ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„":"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®ç™»éŒ²ã‚’ãŠå¾…ã¡ã—ã¦ã„ã¾ã™"}),!a&&e.jsx("p",{className:"text-xs mt-2 text-gray-400",children:"ç™»éŒ²ã•ã‚ŒãŸãƒ¯ãƒ³ã¡ã‚ƒã‚“ãŒã„ã¾ã›ã‚“"})]})})}),e.jsx("style",{children:"\n          @keyframes marquee {\n            0% {\n              transform: translateX(0) translateZ(0);\n            }\n            100% {\n              transform: translateX(-50%) translateZ(0);\n            }\n          }\n          \n          /* GPUã‚¢ã‚¯ã‚»ãƒ©ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®æœ€é©åŒ– */\n          .marquee-container {\n            backface-visibility: hidden;\n            -webkit-backface-visibility: hidden;\n            -moz-backface-visibility: hidden;\n            -ms-backface-visibility: hidden;\n            -webkit-transform: translateZ(0);\n            -moz-transform: translateZ(0);\n            -ms-transform: translateZ(0);\n            transform: translateZ(0);\n          }\n        "})]})}),W=t.memo(({dog:t})=>{const[a,i]=s.useState(!1),[l,r]=s.useState(!1),n=s.useMemo(()=>t.image_url?t.image_url.includes("supabase")?`${t.image_url}?width=80&height=80&quality=80`:t.image_url:null,[t.image_url]);return s.useEffect(()=>{if(n&&!a&&!l){(new Image).src=n}},[n]),e.jsxs("div",{className:"inline-block mx-4 text-center",style:{width:100,flexShrink:0},children:[e.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-2 bg-gray-200 rounded-full overflow-hidden",children:[!a&&!l&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"})}),n&&!l?e.jsx("img",{src:n,alt:t.name,className:"w-full h-full object-cover transition-opacity duration-200 "+(a?"opacity-100":"opacity-0"),onLoad:()=>{i(!0)},onError:()=>{r(!0),i(!0)},loading:"eager",decoding:"sync",width:80,height:80}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-2xl",children:"ğŸ•"})]}),e.jsx("div",{className:"text-xs text-gray-600 truncate font-medium",children:t.name}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:t.breed})]})});Z.displayName="MarqueeDogsSection",W.displayName="DogCard";const A=({isOffline:s,networkError:t,onRetryConnection:a})=>t?e.jsx("div",{className:"border rounded-lg p-4 mb-6 "+(s?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[s?e.jsx(k,{className:"w-6 h-6 text-orange-600"}):e.jsx(_,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium "+(s?"text-orange-800":"text-red-800"),children:s?"ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰":"æ¥ç¶šã‚¨ãƒ©ãƒ¼"}),e.jsx("p",{className:"text-sm whitespace-pre-line "+(s?"text-orange-700":"text-red-700"),children:t})]})]}),e.jsxs(o,{onClick:a,size:"sm",className:(s?"bg-orange-600 hover:bg-orange-700":"bg-red-600 hover:bg-red-700")+" text-white",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"å†æ¥ç¶š"]})]})}):null,X=({news:s,isOffline:t,isLoading:i,onRetryConnection:l})=>{const n=s=>{switch(s){case"news":return e.jsx(z,{className:"w-4 h-4"});case"announcement":return e.jsx(L,{className:"w-4 h-4"});case"sale":return e.jsx(M,{className:"w-4 h-4"});default:return e.jsx(C,{className:"w-4 h-4"})}},c=e=>({news:"ãŠçŸ¥ã‚‰ã›",announcement:"é‡è¦ãªãŠçŸ¥ã‚‰ã›",sale:"ã‚»ãƒ¼ãƒ«æƒ…å ±"}[e]||e),d=({message:s})=>e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(k,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:s}),e.jsxs(o,{onClick:l,size:"sm",variant:"secondary",className:"mt-2",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"å†æ¥ç¶š"]})]})}),m=()=>e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{children:"æ–°ç€æƒ…å ±ã‚’èª­ã¿è¾¼ã¿ä¸­..."})]})}),x=()=>e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(C,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"ç¾åœ¨ã€è¡¨ç¤ºã§ãã‚‹æ–°ç€æƒ…å ±ã¯ã‚ã‚Šã¾ã›ã‚“"}),e.jsxs(o,{onClick:l,size:"sm",variant:"secondary",className:"mt-2",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"å†èª­ã¿è¾¼ã¿"]})]})});return e.jsxs("section",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsx(C,{className:"w-5 h-5 text-blue-600 mr-2"}),"æ–°ç€æƒ…å ±"]}),e.jsxs(a,{to:"/news",className:"text-blue-600 hover:text-blue-800 flex items-center text-sm no-underline hover:no-underline",children:["ã™ã¹ã¦è¦‹ã‚‹",e.jsx(I,{className:"w-4 h-4 ml-1"})]})]}),e.jsx("div",{className:"space-y-3",children:t?e.jsx(d,{message:"ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ï¼šæ–°ç€æƒ…å ±ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“"}):i?e.jsx(m,{}):0===s.length?e.jsx(x,{}):s.slice(0,2).map(s=>{return e.jsx(a,{to:`/news/${s.id}`,className:"no-underline hover:no-underline",children:e.jsx(r,{className:"p-3 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center ${i=s.category,{news:"bg-blue-100 text-blue-800",announcement:"bg-red-100 text-red-800",sale:"bg-green-100 text-green-800"}[i]||"bg-gray-100 text-gray-800"}`,children:[n(s.category),e.jsx("span",{className:"ml-1",children:c(s.category)})]}),s.is_important&&e.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium",children:"é‡è¦"})]}),e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:s.title}),s.content&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-1 mb-1",children:s.content}),e.jsx("p",{className:"text-xs text-gray-500",children:(t=s.created_at,new Date(t).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}))})]}),e.jsx(I,{className:"w-4 h-4 text-gray-400 ml-4"})]})})},s.id);var t,i})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(a,{to:"/news",className:"no-underline hover:no-underline",children:e.jsxs(o,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:["ã™ã¹ã¦ã®æ–°ç€æƒ…å ±ã‚’è¦‹ã‚‹",e.jsx(I,{className:"w-4 h-4 ml-2"})]})})})]})},H=()=>{const{user:s}=l();return e.jsx("section",{className:"relative overflow-hidden",children:e.jsxs("div",{className:"relative text-white p-8 pb-20 rounded-xl shadow-2xl",style:{backgroundImage:"url(/images/owner-recruitment-bg.webp)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 rounded-xl"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"bg-white/20 p-3 rounded-full",children:e.jsx(D,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center",children:[e.jsx(E,{className:"w-6 h-6 mr-2"}),"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã‚ªãƒ¼ãƒŠãƒ¼å‹Ÿé›†ä¸­ï¼"]}),e.jsx("p",{className:"text-lg opacity-90",children:"ã‚ãªãŸã®åœŸåœ°ã‚’ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã¨ã—ã¦æ´»ç”¨ã—ã¾ã›ã‚“ã‹ï¼Ÿåç›ŠåŒ–ã®ãƒãƒ£ãƒ³ã‚¹ã§ã™"})]})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 z-20",children:e.jsx(a,{to:s?"/park-registration-agreement":"/register",className:"block",children:e.jsxs("button",{className:"w-full bg-white/80 hover:bg-white/90 text-gray-800 font-bold py-3 px-6 rounded-lg shadow-lg transition-all duration-200 flex items-center justify-center",children:[e.jsx(j,{className:"w-5 h-5 mr-2"}),s?"ã‚ªãƒ¼ãƒŠãƒ¼å¥‘ç´„ã«é€²ã‚€":"ã‚ªãƒ¼ãƒŠãƒ¼ç™»éŒ²",e.jsx("span",{className:"ml-3 text-sm font-normal",children:"åˆæœŸè²»ç”¨ç„¡æ–™ãƒ»ã‚µãƒãƒ¼ãƒˆå……å®Ÿ"})]})})}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12"})]})})},J=()=>{const{user:s}=l();return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"bg-blue-50 p-6 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-blue-900 mb-4",children:"ã”åˆ©ç”¨å‰ã«å¿…ãšãŠèª­ã¿ãã ã•ã„"}),e.jsx("p",{className:"text-blue-800 mb-4",children:"å®‰å…¨ã§æ¥½ã—ã„ãƒ‰ãƒƒã‚°ãƒ©ãƒ³åˆ©ç”¨ã®ãŸã‚ã€åˆ©ç”¨ãƒ«ãƒ¼ãƒ«ã‚’ã”ç¢ºèªãã ã•ã„"}),e.jsx(a,{to:"/rules",children:e.jsxs(o,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³åˆ©ç”¨ãƒ«ãƒ¼ãƒ«ã‚’ç¢ºèª"]})})]})}),e.jsxs("section",{className:"bg-blue-50 p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-blue-900 mb-6",children:"æ–™é‡‘ä½“ç³»"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"1Dayãƒ‘ã‚¹"}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"Â¥800"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"1å›ã®åˆ©ç”¨æ–™é‡‘"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"â€¢ 24æ™‚é–“åˆ©ç”¨å¯èƒ½ï¼ˆ1æ–½è¨­ã«é™ã‚Šã¾ã™ï¼‰"}),e.jsx("li",{children:"â€¢ 2é ­ç›®ä»¥é™åŠé¡ï¼ˆæ„›çŠ¬æœ€å¤§3é ­ã¾ã§åŒæ™‚å…¥å ´å¯ï¼‰"}),e.jsx("li",{children:"â€¢ å…¨å›½ã®ææºæ–½è¨­ã§åˆ©ç”¨å¯èƒ½"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-blue-600 text-white p-6 rounded-lg shadow-lg transform scale-105",children:[e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³"}),e.jsxs("div",{className:"text-3xl font-bold mb-2",children:["Â¥3,800",e.jsx("span",{className:"text-lg",children:"/æœˆ"})]}),e.jsx("p",{className:"mb-4 opacity-90",children:"ä½¿ã„æ”¾é¡Œãƒ—ãƒ©ãƒ³"}),e.jsxs("ul",{className:"text-sm space-y-1 opacity-90",children:[e.jsx("li",{children:"â€¢ å…¨å›½ã®ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ä½¿ã„æ”¾é¡Œ"}),e.jsx("li",{children:"â€¢ ãƒšãƒƒãƒˆã‚·ãƒ§ãƒƒãƒ—10%OFF"}),e.jsx("li",{children:"â€¢ å„ªå…ˆäºˆç´„æ¨©"}),e.jsx("li",{children:"â€¢ æ–½è¨­è²¸ã—åˆ‡ã‚Š20ï¼…OFF"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:"bg-white text-purple-600 px-3 py-1 rounded-full text-xs font-medium",children:"ãŠã™ã™ã‚"})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"æ–½è¨­è²¸ã—åˆ‡ã‚Š"}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"Â¥4,400"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"1æ™‚é–“ã®è²¸ã—åˆ‡ã‚Šæ–™é‡‘"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"â€¢ æ–½è¨­ä¸¸ã”ã¨å®Œå…¨ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆç©ºé–“"}),e.jsx("li",{children:"â€¢ äºˆç´„è€…ãŒå…±æœ‰ã—ãŸã‚‰èª°ã§ã‚‚å…¥å ´å¯èƒ½ï¼ˆåˆ¶é™ãªã—ï¼‰"}),e.jsx("li",{children:"â€¢ ã‚¤ãƒ™ãƒ³ãƒˆã€€ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ã€€ã‚ªãƒ•ä¼šã€€ã—ã¤ã‘æ•™å®¤ã‚„è¬›ç¿’ä¼šãªã©ã«"})]})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(a,{to:s?"/parks":"/register",children:e.jsx(o,{className:"bg-blue-600 hover:bg-blue-700 text-lg px-8 py-3",children:s?"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ä¸€è¦§ã‚’è¦‹ã‚‹":"ä»Šã™ãå§‹ã‚ã‚‹"})})})]})]})},U={xs:0,sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function G(){const{user:t}=l(),{isMobile:a,prefersReducedMotion:i}=function(e){const t=s.useMemo(()=>({...U,...e}),[e]),[a,i]=s.useState({width:"undefined"!=typeof window?window.innerWidth:1024,height:"undefined"!=typeof window?window.innerHeight:768}),[l,r]=s.useState("md");s.useEffect(()=>{const e=()=>{const e=window.innerWidth;i({width:e,height:window.innerHeight}),e>=t["2xl"]?r("2xl"):e>=t.xl?r("xl"):e>=t.lg?r("lg"):e>=t.md?r("md"):e>=t.sm?r("sm"):r("xs")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const n=e=>a.width>=t[e],o=e=>a.width<t[e],c=(e,s)=>a.width>=t[e]&&a.width<t[s],d=o("md"),m=c("md","lg"),x=n("lg"),h="ontouchstart"in window||navigator.maxTouchPoints>0,u="undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,g="undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches;return{windowSize:a,currentBreakpoint:l,breakpoints:t,isAbove:n,isBelow:o,isBetween:c,isMobile:d,isTablet:m,isDesktop:x,isTouchDevice:h,prefersReducedMotion:u,prefersDarkMode:g}}(),[r,o]=s.useState([]),[c,d]=s.useState([]),[m,x]=s.useState(!0),[h,u]=s.useState(!0),[g,b]=s.useState(null),[j,p]=s.useState(null),f=s.useCallback(async()=>{try{b(null);const{data:e,error:s}=await n.from("dogs").select("id, owner_id, name, breed, birth_date, gender, image_url, created_at").order("created_at",{ascending:!1}).limit(8);if(s)throw s;o(e||[])}catch(e){b(e instanceof Error?e.message:"ãƒ‡ãƒ¼ã‚¿å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ")}finally{x(!1)}},[]),N=s.useCallback(async()=>{try{p(null);const{data:e,error:s}=await n.from("news_announcements").select("*").order("created_at",{ascending:!1}).limit(5);if(s)throw s;d(e||[])}catch(e){p(e instanceof Error?e.message:"ãƒ‡ãƒ¼ã‚¿å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ")}finally{u(!1)}},[]);s.useEffect(()=>{(async()=>{Promise.allSettled([f(),N()])})()},[f,N]);const w=s.useMemo(()=>h&&0===c.length?[{id:"loading",title:"æ–°ç€æƒ…å ±ã‚’èª­ã¿è¾¼ã¿ä¸­...",content:"ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰æœ€æ–°ã®æƒ…å ±ã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚",category:"news",is_important:!1,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}]:c,[c,h]),y=s.useMemo(()=>r||[],[r]),v=!(!g&&!j),k=g||j,_=s.useCallback(()=>{f(),N()},[f,N]),S=i?0:25,C=s.useMemo(()=>!!t,[t]),I=m||h,M=y.length>0||w.length>0;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50",role:"main",children:[v&&e.jsx(O,{animation:"fade",duration:300,children:e.jsx(A,{isOffline:v,networkError:k,onRetryConnection:_})}),e.jsxs("div",{className:"w-full",children:[e.jsx("section",{id:"hero-section","aria-label":"ãƒ¡ã‚¤ãƒ³ãƒ’ãƒ¼ãƒ­ãƒ¼",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded-lg",tabIndex:-1,children:e.jsx(O,{animation:"slide",duration:a?200:300,delay:0*S,children:e.jsx(P,{isLoggedIn:C})})}),e.jsx("section",{"aria-label":"æœ€è¿‘ç™»éŒ²ã•ã‚ŒãŸæ„›çŠ¬ãŸã¡",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded-lg",tabIndex:-1,children:e.jsx(O,{animation:"slide",duration:a?200:300,delay:1*S,children:e.jsx(Z,{recentDogs:y,isOffline:v,isLoading:m&&0===y.length})})}),e.jsxs("main",{id:"main-content",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-12 py-8",children:[e.jsx("section",{id:"news-section","aria-labelledby":"news-heading",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded-lg",tabIndex:-1,children:e.jsxs(O,{animation:"slide",duration:a?200:300,delay:2*S,children:[e.jsx("h2",{id:"news-heading",className:"sr-only",children:"æ–°ç€æƒ…å ±"}),e.jsx(X,{isOffline:v,onRetryConnection:_,news:w,isLoading:h&&0===w.length})]})}),e.jsx("section",{id:"features-section","aria-labelledby":"features-heading",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded-lg",tabIndex:-1,children:e.jsxs(O,{animation:"slide",duration:a?200:300,delay:3*S,children:[e.jsx("h2",{id:"features-heading",className:"sr-only",children:"ã‚¢ãƒ—ãƒªã®ä¸»ãªæ©Ÿèƒ½"}),e.jsx(B,{isLoggedIn:C})]})}),e.jsx(O,{animation:"slide",duration:a?200:300,delay:4*S,children:e.jsx(H,{})}),e.jsx(O,{animation:"slide",duration:a?200:300,delay:5*S,children:e.jsx(T,{})}),e.jsx("section",{id:"usage-rules","aria-labelledby":"usage-heading",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded-lg",tabIndex:-1,children:e.jsxs(O,{animation:"slide",duration:a?200:300,delay:6*S,children:[e.jsx("h2",{id:"usage-heading",className:"sr-only",children:"åˆ©ç”¨æ–¹æ³•ã¨æ–™é‡‘ã«ã¤ã„ã¦"}),e.jsx(J,{})]})}),e.jsx("section",{id:"dog-info-section","aria-labelledby":"dog-info-heading",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded-lg",tabIndex:-1,children:e.jsxs(O,{animation:"slide",duration:a?200:300,delay:7*S,children:[e.jsx("h2",{id:"dog-info-heading",className:"sr-only",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã«ã¤ã„ã¦ã®æƒ…å ±ç™ºä¿¡"}),e.jsx(q,{})]})}),e.jsx("section",{id:"photo-post-section","aria-labelledby":"photo-post-heading",className:"focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded-lg",tabIndex:-1,children:e.jsxs(O,{animation:"slide",duration:a?200:300,delay:8*S,children:[e.jsx("h2",{id:"photo-post-heading",className:"text-2xl font-bold text-center text-gray-900 mb-4",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ç”»åƒæŠ•ç¨¿ã‚³ãƒ¼ãƒŠãƒ¼"}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm text-center",children:[e.jsx(K,{}),e.jsx("div",{className:"mt-4",children:e.jsx("a",{href:"/photos",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700",children:"å…¨ã¦ã®ç”»åƒã‚’è¦‹ã‚‹ãƒ»æŠ•ç¨¿ã™ã‚‹"})})]})]})})]})]})]}),e.jsxs("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",id:"status-region",children:[v&&"ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰ã§ã™ã€‚",k&&"ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ã€‚",I&&!M&&"ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™ã€‚"]}),e.jsx("div",{"aria-live":"assertive","aria-atomic":"true",className:"sr-only",id:"announcement-region"})]})}function K(){const[t,i]=s.useState([]),[l,r]=s.useState(!0);return s.useEffect(()=>{(async()=>{r(!0);const{data:e}=await n.from("photo_posts").select("id, image_url").order("created_at",{ascending:!1}).limit(5);i(e||[]),r(!1)})()},[]),l?e.jsx("div",{className:"text-gray-500",children:"èª­ã¿è¾¼ã¿ä¸­..."}):t.length?e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-3",children:t.map(s=>e.jsx(a,{to:"/photos",className:"block",children:e.jsx("img",{src:s.image_url,alt:"dog",className:"w-full aspect-square object-cover rounded"})},s.id))}):e.jsxs("div",{className:"text-gray-600",children:["ã¾ã æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚",e.jsx(a,{to:"/photos",className:"text-blue-600 underline",children:"æœ€åˆã®å†™çœŸã‚’æŠ•ç¨¿ã™ã‚‹"})]})}export{G as Home};
