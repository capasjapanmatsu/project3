import{j as e}from"./motion-CuO0nkIV.js";import{r as t,b as s}from"./react-vendor-cniURDpR.js";import{L as a,a as r,u as i}from"./router-Cg6wfOY4.js";import{B as n}from"./Button-BVIkPLCk.js";import{C as l,s as o,u as c,b as d}from"./index-Cxr3hxlQ.js";import{D as m,a as x}from"./DogCard-Dn2td8lX.js";import{f as h,e as g,o as u,B as p,aC as b,a4 as f,N as j,n as N,y as v,X as y,ac as w,i as _,O as S,a6 as I,G as E,aL as k,ad as C,M as D,U as T,aM as O,aN as L,z as A,t as U,b as P}from"./ui-basic-icnN6BOT.js";import{e as R}from"./profiles-BHVxtPoM.js";import{u as M}from"./webpConverter-Ckx75UnO.js";import"./supabase-B0bqaRGb.js";import"./heavy-features-BIdEME4r.js";import"./dogBreeds-6lxY8Uni.js";import"./ImageCropper-CFqHywrA.js";import"./Input-D7pb8xRh.js";import"./LazyImage-C-8rMYP2.js";import"./Select-Dd_IZFKg.js";import"./VaccineBadge-4VGNeluK.js";const z=({dogs:t,user:s,selectedDog:r,showDogEditModal:i,isUpdatingDog:n,dogUpdateError:o,dogUpdateSuccess:c,dogFormData:d,dogImageFile:p,dogImagePreview:b,rabiesVaccineFile:f,comboVaccineFile:j,rabiesExpiryDate:N,comboExpiryDate:v,onDogSelect:y,onCloseDogEditModal:w,onUpdateDog:_,onDeleteDog:S,onDogImageSelect:I,onDogImageRemove:E,onRabiesVaccineSelect:k,onComboVaccineSelect:C,onFormDataChange:D,onRabiesExpiryDateChange:T,onComboExpiryDateChange:O,crop:L,zoom:A,onCropChange:U,onZoomChange:P,onCropComplete:R,onImageCropped:M})=>e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(h,{className:"w-5 h-5 mr-2 text-gray-700"}),"ç™»éŒ²æ¸ˆã¿ã®æ„›çŠ¬"]}),e.jsxs("div",{className:"flex space-x-3",children:[t.length>0&&e.jsxs(a,{to:"/jp-passport",className:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-1.5 rounded-md text-sm font-medium inline-flex items-center",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"JPãƒ‘ã‚¹ãƒãƒ¼ãƒˆ"]}),e.jsxs("a",{href:"/dog-registration",className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md text-sm font-medium inline-flex items-center",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"æ„›çŠ¬ã‚’ç™»éŒ²"]})]})]}),0===t.length?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(h,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"ã¾ã æ„›çŠ¬ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“"}),e.jsx("p",{className:"text-sm mb-4",children:"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«ã€æ„›çŠ¬ã®æƒ…å ±ã‚’ç™»éŒ²ã—ã¦ãã ã•ã„"}),e.jsxs("a",{href:"/dog-registration",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium inline-flex items-center",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"æ„›çŠ¬ã‚’ç™»éŒ²"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(t=>e.jsx(m,{dog:t,onEdit:()=>y(t)},t.id))}),i&&r&&e.jsx(x,{dog:r,isUpdating:n,error:o,success:c,dogFormData:d,dogImagePreview:b,onClose:w,onSubmit:_,onDelete:S,onFormChange:D,onImageSelect:I,onImageRemove:E,crop:L||{x:0,y:0},zoom:A||1,onCropChange:U||(()=>{}),onZoomChange:P||(()=>{}),onCropComplete:R||(()=>{}),onImageCropped:M,rabiesVaccineFile:f,comboVaccineFile:j,rabiesExpiryDate:N,comboExpiryDate:v,onRabiesVaccineSelect:k,onComboVaccineSelect:C,onRabiesExpiryDateChange:T,onComboExpiryDateChange:O})]}),V=({notifications:t,onMarkAsRead:s})=>{const a=t=>{switch(t){case"reservation":return e.jsx(v,{className:"w-4 h-4 text-blue-600"});case"message":return e.jsx(N,{className:"w-4 h-4 text-green-600"});case"park_approval":return e.jsx(j,{className:"w-4 h-4 text-purple-600"});case"vaccine_approval":return e.jsx(f,{className:"w-4 h-4 text-green-600"});default:return e.jsx(p,{className:"w-4 h-4 text-gray-600"})}};return e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(p,{className:"w-5 h-5 mr-2"}),"é€šçŸ¥",t.length>0&&e.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-1",children:t.length})]}),t.length>0&&e.jsxs(n,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{t.forEach(e=>{s(e.id)})},children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"ã™ã¹ã¦æ—¢èª­ã«ã™ã‚‹"]})]}),0===t.length?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ğŸ””"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"æ–°ã—ã„é€šçŸ¥ã¯ã‚ã‚Šã¾ã›ã‚“"}),e.jsx("p",{className:"text-sm",children:"æœ€æ–°ã®æƒ…å ±ã‚„ãŠçŸ¥ã‚‰ã›ãŒã‚ã‚‹ã¨ã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™"})]}):e.jsx("div",{className:"space-y-4",children:t.map(t=>e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:a(t.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(t.created_at).toLocaleString("ja-JP")})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(n,{size:"sm",onClick:()=>s(t.id),className:"bg-blue-600 hover:bg-blue-700 text-white",children:e.jsx(b,{className:"w-4 h-4"})})})]},t.id))})]})};function J({park:t,onClose:s}){return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold",children:[t.name,"ã®ç®¡ç†"]}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:e.jsx(y,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"åŸºæœ¬æƒ…å ±"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ä½æ‰€:"})," ",t.address]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:"})," ",(t=>{const s={approved:{bg:"bg-green-100",text:"text-green-800",label:"å…¬é–‹ä¸­",icon:f},pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"å¯©æŸ»ä¸­",icon:w},rejected:{bg:"bg-red-100",text:"text-red-800",label:"å´ä¸‹",icon:_},second_stage_waiting:{bg:"bg-orange-100",text:"text-orange-800",label:"è©³ç´°æƒ…å ±å¾…ã¡",icon:w}},a=s[t]||s.pending,r=a.icon;return e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${a.bg} ${a.text}`,children:[e.jsx(r,{className:"w-3 h-3"}),e.jsx("span",{children:a.label})]})})(t.status)]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"æ–™é‡‘:"})," Â¥",t.price,"/æ—¥"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"æœ€å¤§åå®¹äººæ•°:"})," ",t.max_capacity,"äºº"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ç¾åœ¨ã®åˆ©ç”¨è€…æ•°:"})," ",t.current_occupancy,"äºº"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"è©•ä¾¡:"})," â˜…",t.average_rating.toFixed(1)," (",t.review_count,"ä»¶)"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"è¨­å‚™æƒ…å ±"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries({parking:"é§è»Šå ´",shower:"ã‚·ãƒ£ãƒ¯ãƒ¼è¨­å‚™",restroom:"ãƒˆã‚¤ãƒ¬",agility:"ã‚¢ã‚¸ãƒªãƒ†ã‚£è¨­å‚™",rest_area:"ä¼‘æ†©ã‚¹ãƒšãƒ¼ã‚¹",water_station:"çµ¦æ°´è¨­å‚™"}).map(([s,a])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 rounded "+(t.facilities[s]?"bg-green-500":"bg-gray-300")}),e.jsx("span",{className:"text-sm",children:a})]},s))})]})]}),"first_stage_passed"===t.status&&e.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(f,{className:"w-5 h-5 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"ç¬¬ä¸€å¯©æŸ»é€šé"}),e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼ç¬¬ä¸€å¯©æŸ»ã«é€šéã—ã¾ã—ãŸã€‚æ¬¡ã¯è©³ç´°ãªæ–½è¨­æƒ…å ±ã¨ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚"}),e.jsx(a,{to:`/parks/${t.id}/second-stage`,children:e.jsx(n,{className:"bg-blue-600 hover:bg-blue-700",children:"ç¬¬äºŒå¯©æŸ»ã‚’é€²ã‚ã‚‹"})})]})]})}),"second_stage_review"===t.status&&e.jsx("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(w,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"ç¬¬äºŒå¯©æŸ»ä¸­"}),e.jsx("p",{className:"text-sm text-purple-800",children:"ç¾åœ¨ã€ç®¡ç†è€…ãŒæ–½è¨­ç”»åƒã‚’ç¢ºèªã—ã¦ã„ã¾ã™ã€‚å¯©æŸ»å®Œäº†ã¾ã§ãŠå¾…ã¡ãã ã•ã„ã€‚ å¯©æŸ»ã«ã¯é€šå¸¸3-5å–¶æ¥­æ—¥ã‹ã‹ã‚Šã¾ã™ã€‚çµæœã¯ãƒ¡ãƒ¼ãƒ«ã¨ã‚¢ãƒ—ãƒªå†…é€šçŸ¥ã§ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚"})]})]})}),"approved"===t.status&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"çµ±è¨ˆæƒ…å ±"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsx("h4",{className:"font-medium text-blue-900",children:"ä»Šæœˆã®äºˆç´„"})}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"32ä»¶"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"å‰æœˆæ¯” +12%"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(F,{className:"w-5 h-5 text-green-600"}),e.jsx("h4",{className:"font-medium text-green-900",children:"ä»Šæœˆã®åç›Š"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Â¥25,600"}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"å‰æœˆæ¯” +8%"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(G,{className:"w-5 h-5 text-purple-600"}),e.jsx("h4",{className:"font-medium text-purple-900",children:"åˆ©ç”¨è€…æ•°"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"128äºº"}),e.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"å‰æœˆæ¯” +15%"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["approved"===t.status&&e.jsx(a,{to:`/parks/${t.id}`,children:e.jsxs(n,{className:"w-full bg-white hover:bg-gray-50 border border-gray-300 text-gray-700",children:[e.jsx(Eye,{className:"w-4 h-4 mr-2"}),"å…¬é–‹ãƒšãƒ¼ã‚¸ã‚’è¦‹ã‚‹"]})}),"approved"===t.status&&e.jsx(a,{to:"/owner-payment-system",children:e.jsxs(n,{className:"w-full bg-white hover:bg-gray-50 border border-gray-300 text-gray-700",children:[e.jsx(BarChart4,{className:"w-4 h-4 mr-2"}),"åç›Šãƒ¬ãƒãƒ¼ãƒˆ"]})}),"second_stage_review"===t.status?e.jsx("div",{className:"w-full text-center py-3 text-gray-600 text-sm bg-gray-50 rounded border",children:"å¯©æŸ»ä¸­ã®ãŸã‚æ“ä½œã§ãã¾ã›ã‚“"}):e.jsx(a,{to:"first_stage_passed"===t.status||"second_stage_waiting"===t.status?`/parks/${t.id}/second-stage`:`/parks/${t.id}/manage`,children:e.jsx(n,{className:"w-full",children:"first_stage_passed"===t.status||"second_stage_waiting"===t.status?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"second_stage_waiting"===t.status?"ç¬¬äºŒå¯©æŸ»ã‚’ç”³ã—è¾¼ã‚€":"ç¬¬äºŒå¯©æŸ»ã‚’é€²ã‚ã‚‹"]}):e.jsxs(e.Fragment,{children:[e.jsx(Edit,{className:"w-4 h-4 mr-2"}),"approved"===t.status?"è¨­å®šã‚’ç·¨é›†":"è©³ç´°ã‚’è¦‹ã‚‹"]})})})]})]})})})}function F({className:t}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}function G({className:t}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function B({className:t}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}const $=e=>{let t;const s=new Set,a=(e,a)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=a?a:"object"!=typeof r||null===r)?r:Object.assign({},t,r),s.forEach(s=>s(t,e))}},r=()=>t,i={setState:a,getState:r,getInitialState:()=>n,subscribe:e=>(s.add(e),()=>s.delete(e))},n=t=e(a,r,i);return i},q=e=>e;const Y=e=>{const t=(e=>e?$(e):$)(e),a=e=>function(e,t=q){const a=s.useSyncExternalStore(e.subscribe,s.useCallback(()=>t(e.getState()),[e,t]),s.useCallback(()=>t(e.getInitialState()),[e,t]));return s.useDebugValue(a),a}(t,e);return Object.assign(a,t),a},H=e=>e?Y(e):Y,W={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BUSINESS_HOURS:"å¹³æ—¥10:00ã€œ18:00",VITE_CANCEL_DEADLINE_DAYS:"3",VITE_CORP_ADDRESS:"ã€’861-0563 ç†Šæœ¬çœŒå±±é¹¿å¸‚é¹¿å¤®ç”ºåƒç”°1718ï¼13",VITE_CORP_LEGAL_NAME:"æ ªå¼ä¼šç¤¾CAPAS",VITE_CORP_TEL:"0968ï¼36ï¼9208",VITE_EXTRA_FEES:"ãªã—",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyC9sxGamDZmdKIz3vP1CWLJORl-QkoWgHg",VITE_GOOGLE_MAPS_GEOCODING_API_KEY:"AIzaSyBwWZ6eJaco_nfDQIIDyTt-CDaEL7TRnCo",VITE_NETLIFY_API_KEY:"nfp_hxiuSM35DNgazRAUqCgvGXGQkicuSDBW75f7",VITE_PAYPAY_API_KEY:"a_FCpsFOALxH_HZnB",VITE_PAYPAY_MERCHANT_ID:"927395976683495424",VITE_PAYPAY_SECRET_KEY:"bnet5DYTjTJ75I8wE8PQkGW3V1ciW4q8EVd6WKunnA8=",VITE_PREMIUM_OWNER_PRICE_ID:"price_1S1xlxAHWLDQ7ynZEPzFnGJf",VITE_PUBLIC_BASE_URL:"http://localhost:3000",VITE_REPRESENTATIVE_NAME:"ä»£è¡¨è€…åã€€æ¾æœ¬ä¿å¼˜",VITE_STRIPE_PUBLIC_KEY:"pk_live_51RYUXtAHWLDQ7ynZJ2Rse439JRUesTrISQjlUpQLJs4RKprLygju98sbPHbhXwSixvYxo2pyo1c5uo4j93pQieSt00z0re16rJ",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9ubWNpdnd4dHpxYWpjb3ZwdGdmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxODk3OTUsImV4cCI6MjA2NDc2NTc5NX0.AqFCz3GQUVeGaG2988LCzsE4aJpeio3xScoxv5T0-OU",VITE_SUPABASE_URL:"https://onmcivwxtzqajcovptgf.supabase.co",VITE_SUPPORT_EMAIL:"info@dogparkjp.com"},Z=new Map,X=e=>{const t=Z.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},Q=e=>{var t,s;if(!e)return;const a=e.split("\n"),r=a.findIndex(e=>e.includes("api.setState"));if(r<0)return;const i=(null==(t=a[r+1])?void 0:t.trim())||"";return null==(s=/.+ (.+) .+/.exec(i))?void 0:s[1]},K=(e,t={})=>(s,a,r)=>{const{enabled:i,anonymousActionType:n,store:l,...o}=t;let c;try{c=(null!=i?i:"production"!==(W?"production":void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(u){}if(!c)return e(s,a,r);const{connection:d,...m}=((e,t,s)=>{if(void 0===e)return{type:"untracked",connection:t.connect(s)};const a=Z.get(s.name);if(a)return{type:"tracked",store:e,...a};const r={connection:t.connect(s),stores:{}};return Z.set(s.name,r),{type:"tracked",store:e,...r}})(l,c,o);let x=!0;r.setState=(e,t,i)=>{const c=s(e,t);if(!x)return c;const m=void 0===i?{type:n||Q((new Error).stack)||"anonymous"}:"string"==typeof i?{type:i}:i;return void 0===l?(null==d||d.send(m,a()),c):(null==d||d.send({...m,type:`${l}/${m.type}`},{...X(o.name),[l]:r.getState()}),c)},r.devtools={cleanup:()=>{d&&"function"==typeof d.unsubscribe&&d.unsubscribe(),((e,t)=>{if(void 0===t)return;const s=Z.get(e);s&&(delete s.stores[t],0===Object.keys(s.stores).length&&Z.delete(e))})(o.name,l)}};const h=(...e)=>{const t=x;x=!1,s(...e),x=t},g=e(r.setState,a,r);if("untracked"===m.type?null==d||d.init(g):(m.stores[m.store]=r,null==d||d.init(Object.fromEntries(Object.entries(m.stores).map(([e,t])=>[e,e===m.store?g:t.getState()])))),r.dispatchFromDevtools&&"function"==typeof r.dispatch){let e=!1;const t=r.dispatch;r.dispatch=(...s)=>{"production"===(W?"production":void 0)||"__setState"!==s[0].type||e||(e=!0),t(...s)}}return d.subscribe(e=>{var t;switch(e.type){case"ACTION":if("string"!=typeof e.payload)return;return ee(e.payload,e=>{if("__setState"===e.type){if(void 0===l)return void h(e.state);Object.keys(e.state).length;const t=e.state[l];if(null==t)return;return void(JSON.stringify(r.getState())!==JSON.stringify(t)&&h(t))}r.dispatchFromDevtools&&"function"==typeof r.dispatch&&r.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":return h(g),void 0===l?null==d?void 0:d.init(r.getState()):null==d?void 0:d.init(X(o.name));case"COMMIT":return void 0===l?void(null==d||d.init(r.getState())):null==d?void 0:d.init(X(o.name));case"ROLLBACK":return ee(e.state,e=>{if(void 0===l)return h(e),void(null==d||d.init(r.getState()));h(e[l]),null==d||d.init(X(o.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return ee(e.state,e=>{void 0!==l?JSON.stringify(r.getState())!==JSON.stringify(e[l])&&h(e[l]):h(e)});case"IMPORT_STATE":{const{nextLiftedState:s}=e.payload,a=null==(t=s.computedStates.slice(-1)[0])?void 0:t.state;if(!a)return;return h(void 0===l?a:a[l]),void(null==d||d.send(null,s))}case"PAUSE_RECORDING":return x=!x}return}}),g},ee=(e,t)=>{let s;try{s=JSON.parse(e)}catch(a){}void 0!==s&&t(s)};function te(e,t){let s;try{s=e()}catch(a){return}return{getItem:e=>{var t;const a=e=>null===e?null:JSON.parse(e,void 0),r=null!=(t=s.getItem(e))?t:null;return r instanceof Promise?r.then(a):a(r)},setItem:(e,t)=>s.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>s.removeItem(e)}}const se=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then:e=>se(e)(s),catch(e){return this}}}catch(s){return{then(e){return this},catch:e=>se(e)(s)}}},ae=(e,t)=>(s,a,r)=>{let i={storage:te(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},n=!1;const l=new Set,o=new Set;let c=i.storage;if(!c)return e((...e)=>{s(...e)},a,r);const d=()=>{const e=i.partialize({...a()});return c.setItem(i.name,{state:e,version:i.version})},m=r.setState;r.setState=(e,t)=>{m(e,t),d()};const x=e((...e)=>{s(...e),d()},a,r);let h;r.getInitialState=()=>x;const g=()=>{var e,t;if(!c)return;n=!1,l.forEach(e=>{var t;return e(null!=(t=a())?t:x)});const r=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=a())?e:x))||void 0;return se(c.getItem.bind(c))(i.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate){const t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}}return[!1,void 0]}).then(e=>{var t;const[r,n]=e;if(h=i.merge(n,null!=(t=a())?t:x),s(h,!0),r)return d()}).then(()=>{null==r||r(h,void 0),h=a(),n=!0,o.forEach(e=>e(h))}).catch(e=>{null==r||r(void 0,e)})};return r.persist={setOptions:e=>{i={...i,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>n,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(o.add(e),()=>{o.delete(e)})},i.skipHydration||g(),h||x},re=H()(K(ae((e,t)=>({user:null,isAuthenticated:!1,isLoading:!0,setUser:t=>e({user:t,isAuthenticated:!!t},!1,"setUser"),setLoading:t=>e({isLoading:t},!1,"setLoading"),login:async(s,a)=>{e({isLoading:!0},!1,"login/start");try{const{data:r,error:i}=await o.auth.signInWithPassword({email:s,password:a});if(i)throw i;if(r.user){const{data:s}=await o.from("profiles").select("name, role").eq("id",r.user.id).single(),a={id:r.user.id,email:r.user.email||"",name:s?.name,role:s?.role||"user"};return t().setUser(a),e({isLoading:!1},!1,"login/success"),!0}return e({isLoading:!1},!1,"login/failed"),!1}catch(r){return e({isLoading:!1},!1,"login/error"),!1}},logout:async()=>{e({isLoading:!0},!1,"logout/start");try{await o.auth.signOut(),e({user:null,isAuthenticated:!1,isLoading:!1},!1,"logout/success")}catch(t){e({isLoading:!1},!1,"logout/error")}},checkAuth:async()=>{e({isLoading:!0},!1,"checkAuth/start");try{const{data:{session:e}}=await o.auth.getSession();if(e?.user){const{data:s}=await o.from("profiles").select("name, role").eq("id",e.user.id).single(),a={id:e.user.id,email:e.user.email||"",name:s?.name,role:s?.role||"user"};t().setUser(a)}else t().setUser(null)}catch(s){t().setUser(null)}finally{e({isLoading:!1},!1,"checkAuth/complete")}},updateProfile:async s=>{const{user:a}=t();if(!a)return!1;try{const{error:t}=await o.from("profiles").update(s).eq("id",a.id);if(t)throw t;return e({user:{...a,...s}},!1,"updateProfile"),!0}catch(r){return!1}}}),{name:"auth-store",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}),{name:"auth-store"})),ie=H()(K((e,t)=>({isGlobalLoading:!1,loadingTasks:new Set,notifications:[],activeModal:null,isMenuOpen:!1,activeTab:"",theme:"light",isMobile:!1,isTablet:!1,setGlobalLoading:t=>e({isGlobalLoading:t},!1,"setGlobalLoading"),addLoadingTask:t=>e(e=>({loadingTasks:new Set([...e.loadingTasks,t]),isGlobalLoading:!0}),!1,"addLoadingTask"),removeLoadingTask:t=>e(e=>{const s=new Set(e.loadingTasks);return s.delete(t),{loadingTasks:s,isGlobalLoading:s.size>0}},!1,"removeLoadingTask"),addNotification:s=>{const a=Date.now().toString(),r={...s,id:a};e(e=>({notifications:[...e.notifications,r]}),!1,"addNotification");const i=s.duration||5e3;setTimeout(()=>{t().removeNotification(a)},i)},removeNotification:t=>e(e=>({notifications:e.notifications.filter(e=>e.id!==t)}),!1,"removeNotification"),clearNotifications:()=>e({notifications:[]},!1,"clearNotifications"),showModal:t=>{const s=Date.now().toString();e({activeModal:{...t,id:s}},!1,"showModal")},hideModal:()=>e({activeModal:null},!1,"hideModal"),setMenuOpen:t=>e({isMenuOpen:t},!1,"setMenuOpen"),setActiveTab:t=>e({activeTab:t},!1,"setActiveTab"),setTheme:t=>{e({theme:t},!1,"setTheme"),document.documentElement.className=t},toggleTheme:()=>{const e="light"===t().theme?"dark":"light";t().setTheme(e)},setDeviceType:(t,s)=>e({isMobile:t,isTablet:s},!1,"setDeviceType")}),{name:"ui-store"}));function ne(){const{user:s,logout:m,isAdmin:x,lineUser:h,isLineAuthenticated:g}=c();!function(){const[e,s]=t.useState(null),[a,r]=t.useState(!0),[i,n]=t.useState(null);t.useEffect(()=>{let e=!0;return(async()=>{try{const t=await fetch("/auth/me",{credentials:"include"});if(!t.ok)throw new Error("not_authenticated");const a=await t.json();if(!e)return;s(a)}catch(t){e&&n(t)}finally{e&&r(!1)}})(),()=>{e=!1}},[])}(),r();const u=i(),{user:b,setUser:N,updateProfile:v}=re(),{setGlobalLoading:y,addNotification:F,removeNotification:G,isGlobalLoading:B}=ie(),[$,q]=t.useState(null),[Y,H]=t.useState([]),[W,Z]=t.useState([]),[X,Q]=t.useState([]),[K,ee]=t.useState([]),[te,se]=t.useState([]),[ae,ne]=t.useState([]),[le,oe]=t.useState([]),[ce,de]=t.useState(!0),[me,xe]=t.useState(!1),[he,ge]=t.useState(""),[ue,pe]=t.useState(""),[be,fe]=t.useState(null),[je,Ne]=t.useState(!1),[ve,ye]=t.useState(null),[we,_e]=t.useState(!1),[Se,Ie]=t.useState(!1),[Ee,ke]=t.useState({name:"",breed:"",gender:"",birthDate:""}),[Ce,De]=t.useState(null),[Te,Oe]=t.useState(null),[Le,Ae]=t.useState({x:0,y:0}),[Ue,Pe]=t.useState(1),[Re,Me]=t.useState(null),[ze,Ve]=t.useState(null),[Je,Fe]=t.useState(null),[Ge,Be]=t.useState(""),[$e,qe]=t.useState(""),[Ye,He]=t.useState([]),[We,Ze]=t.useState(null),[Xe,Qe]=t.useState(!1),[Ke,et]=t.useState([]),[tt,st]=t.useState(0),[at,rt]=t.useState(0);d();const it=t.useCallback(async()=>{try{y(!0),de(!0);let e=null;try{const{data:t}=await o.auth.getUser();if(e=t?.user?.id??null,!e)try{const t=await fetch("/line/exchange-supabase-session",{method:"POST",credentials:"include"});if(t.ok){const{access_token:s,refresh_token:a}=await t.json(),{data:r}=await o.auth.setSession({access_token:s,refresh_token:a});e=r?.session?.user?.id??null}}catch{}}catch{}if(!e)return de(!1),void y(!1);try{await R(o,{id:e})}catch{}const[t,a]=await Promise.all([o.from("profiles").select("*").eq("id",e).single().then(e=>e.error&&g?{data:null,error:null}:e),o.from("dogs").select("*, vaccine_certifications(*)").eq("owner_id",e).order("created_at",{ascending:!1})]);q(t.data),H(a.data||[]),t.data&&!b&&N({id:e||"",email:s?.email||"",name:t.data.name,role:t.data.user_type||"user"}),de(!1);const[r,i,n,l]=await Promise.all([o.from("dog_parks").select("*").eq("owner_id",e).order("created_at",{ascending:!1}),o.from("reservations").select("*, dog_park:dog_parks(*), dog:dogs(*)").eq("user_id",e).order("created_at",{ascending:!1}).limit(5),o.from("notifications").select("*").eq("user_id",e).eq("read",!1).order("created_at",{ascending:!1}).limit(5),o.from("facility_reservations").select("*, facility:pet_facilities(name)").eq("user_id",e).neq("status","cancelled").gte("reserved_date",new Date(Date.now()-864e5).toISOString().split("T")[0]).order("reserved_date",{ascending:!1}).limit(5)]);Z(r.data||[]),Q(i.data||[]),ee(n.data||[]),oe(l.data||[]),Promise.allSettled([o.from("news_announcements").select("*").order("created_at",{ascending:!1}).limit(3).then(e=>{se(e.data||[])}),o.from("pet_facilities").select("*").eq("owner_id",e).order("created_at",{ascending:!1}).then(e=>{e.data&&He(e.data)}).catch(()=>{}),o.from("dog_likes").select("\n            *,\n            dog:dogs(\n              *,\n              vaccine_certifications(*)\n            )\n          ").eq("user_id",e).order("created_at",{ascending:!1}).limit(10).then(e=>{e.data&&ne(e.data.map(e=>e.dog).filter(Boolean))}).catch(()=>{}),o.from("user_coupons").select("\n            *,\n            facility_coupons (\n              id, facility_id, title, service_content, discount_value, discount_type, description, start_date, end_date, usage_limit_type, coupon_image_url,\n              pet_facilities (name)\n            )\n          ").eq("user_id",e).is("used_at",null).gte("facility_coupons.end_date",(new Date).toISOString()).then(e=>{e.data&&(et(e.data),st(e.data.length))}).catch(e=>{}),o.from("points_balances").select("balance").eq("user_id",e).maybeSingle().then(e=>{rt(e.data?.balance||0)}).catch(()=>{})])}catch(e){ge("ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦ãã ã•ã„ã€‚"),F({type:"error",title:"ã‚¨ãƒ©ãƒ¼",message:"ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ",duration:5e3})}finally{y(!1)}},[s?.id,h?.id,g,b,N,y,F]);t.useEffect(()=>{it(),u.search.includes("success=true")&&(xe(!0),pe("æ“ä½œãŒæ­£å¸¸ã«å®Œäº†ã—ã¾ã—ãŸï¼"),F({type:"success",title:"æˆåŠŸ",message:"æ“ä½œãŒæ­£å¸¸ã«å®Œäº†ã—ã¾ã—ãŸï¼",duration:3e3}),window.history.replaceState({},document.title,u.pathname),setTimeout(()=>{xe(!1),pe("")},5e3))},[u,it,F]);const nt=()=>{De(null),Ve(null),Fe(null),Be(""),qe(""),Oe(null)};return ce||B?e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("div",{className:"absolute inset-0 animate-ping rounded-full h-12 w-12 border border-blue-400 opacity-20"})]})})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-2 pb-8 space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"ãƒã‚¤ãƒšãƒ¼ã‚¸"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["ã‚ˆã†ã“ãã€",$?.name||h?.display_name||b?.name||sessionStorage.getItem("liff_display_name")||"ãƒ¦ãƒ¼ã‚¶ãƒ¼","ã•ã‚“ï¼"]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:x&&e.jsxs("a",{href:"/admin",className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg font-medium inline-flex items-center transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"ç®¡ç†è€…ç”»é¢"]})})]}),me&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 text-green-800 rounded-lg flex items-center animate-fade-in",children:[e.jsx(f,{className:"w-5 h-5 mr-2 text-green-600"}),"æ“ä½œãŒæ­£å¸¸ã«å®Œäº†ã—ã¾ã—ãŸï¼"]}),he&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 text-red-800 rounded-lg flex items-center",children:[e.jsx("div",{className:"w-5 h-5 mr-2 text-red-600",children:"âš ï¸"}),he]}),ue&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 text-green-800 rounded-lg flex items-center",children:[e.jsx(f,{className:"w-5 h-5 mr-2 text-green-600"}),ue]}),e.jsx(z,{dogs:Y,user:s,selectedDog:ve,showDogEditModal:we,isUpdatingDog:Se,dogUpdateError:he,dogUpdateSuccess:ue,dogFormData:Ee,dogImageFile:Ce,dogImagePreview:Te,rabiesVaccineFile:ze,comboVaccineFile:Je,rabiesExpiryDate:Ge,comboExpiryDate:$e,onDogSelect:e=>{ye(e);const t=new Date(e.birth_date).toISOString().split("T")[0];ke({name:e.name,breed:e.breed,gender:e.gender,birthDate:t||""}),Oe(e.image_url||null);const s=e.vaccine_certifications?.[0];Be(s?.rabies_expiry_date||""),qe(s?.combo_expiry_date||""),_e(!0)},onCloseDogEditModal:()=>_e(!1),onUpdateDog:async e=>{if(e.preventDefault(),ve&&s)try{if(Ie(!0),ge(""),!(Ee.name&&Ee.breed&&Ee.gender&&Ee.birthDate))return void ge("ã™ã¹ã¦ã®å¿…é ˆé …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");if(!["ã‚ªã‚¹","ãƒ¡ã‚¹"].includes(Ee.gender))return void ge("æ€§åˆ¥ã¯ã€Œã‚ªã‚¹ã€ã¾ãŸã¯ã€Œãƒ¡ã‚¹ã€ã‚’é¸æŠã—ã¦ãã ã•ã„");const e={name:Ee.name,breed:Ee.breed,gender:Ee.gender,birth_date:Ee.birthDate};if(Ce){const t=await createImageBitmap(Ce),s=Math.min(t.width,t.height),a=Math.min(1200,s),r=document.createElement("canvas");r.width=a,r.height=a;const i=r.getContext("2d"),n=!!Re,l=n?Re.x:(t.width-s)/2,o=n?Re.y:(t.height-s)/2,c=n?Re.width:s,d=n?Re.height:s;i.drawImage(t,l,o,c,d,0,0,a,a);const m=await new Promise(e=>r.toBlob(t=>e(t),"image/jpeg",.9)),x=new File([m],"dog-square.jpg",{type:"image/jpeg"}),h=`${ve.id}/${crypto.randomUUID()}.webp`,g=await M("dog-images",x,h,{quality:85,generateThumbnail:!1}),u=g.webpUrl||g.originalUrl;if(!u)throw new Error("ç”»åƒã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ");e.image_url=u}Ce||Te||(e.image_url="");const{data:t,error:a}=await o.from("dogs").update(e).eq("id",ve.id).eq("owner_id",s.id).select("id,image_url");if(a)throw a;if(!t||0===t.length)throw new Error("æ›´æ–°å¯¾è±¡ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã€ã¾ãŸã¯æ¨©é™ã«ã‚ˆã‚Šæ›´æ–°ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚");if(ze||Je||Ge||$e){const{data:{session:e}}=await o.auth.getSession();if(!e?.access_token)throw new Error("ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ï¼ˆæå‡ºï¼‰");const t=async e=>{if("image/jpeg"===e.type)return e;const t=await createImageBitmap(e),s=document.createElement("canvas");s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(t,0,0);const a=await new Promise(e=>s.toBlob(t=>e(t),"image/jpeg",.92));return new File([a],e.name.replace(/\.[^/.]+$/,".jpg"),{type:"image/jpeg"})},a=async(a,r)=>{const i=await t(a),n=`${s.id}/${r}/${Date.now()}-${crypto.randomUUID()}.jpg`,{error:l}=await o.storage.from("vaccine-certs").upload(n,i,{upsert:!1,cacheControl:"0",contentType:"image/jpeg"});if(l){const t="https://onmcivwxtzqajcovptgf.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9ubWNpdnd4dHpxYWpjb3ZwdGdmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxODk3OTUsImV4cCI6MjA2NDc2NTc5NX0.AqFCz3GQUVeGaG2988LCzsE4aJpeio3xScoxv5T0-OU",a=await fetch(`${t}/storage/v1/object/vaccine-certs/${n}`,{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,apikey:s,"Content-Type":"image/jpeg","x-upsert":"false","Cache-Control":"0"},body:i}),l=await a.text();if(!a.ok)throw new Error(`upload ${r} failed: ${a.status} ${l}`)}const{data:c}=o.storage.from("vaccine-certs").getPublicUrl(n);return c.publicUrl};let r,i;ze&&(r=await a(ze,"rabies")),Je&&(i=await a(Je,"combo"));const n=await fetch("https://onmcivwxtzqajcovptgf.supabase.co/functions/v1/submit-vaccine",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`,apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9ubWNpdnd4dHpxYWpjb3ZwdGdmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxODk3OTUsImV4cCI6MjA2NDc2NTc5NX0.AqFCz3GQUVeGaG2988LCzsE4aJpeio3xScoxv5T0-OU"},body:JSON.stringify({dog_id:ve.id,rabies_url:r,combo_url:i,rabies_expiry:Ge||void 0,combo_expiry:$e||void 0})}),l=await n.json().catch(()=>({}));if(!n.ok||!l?.success)throw new Error(`ãƒ¯ã‚¯ãƒãƒ³æå‡ºã«å¤±æ•—ã—ã¾ã—ãŸ: ${n.status}`)}pe("ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã—ãŸï¼"),F({type:"success",title:"æˆåŠŸ",message:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã—ãŸï¼",duration:3e3}),_e(!1),await it(),nt()}catch(t){const e=t instanceof Error?t.message:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æƒ…å ±ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ";ge(e),F({type:"error",title:"ã‚¨ãƒ©ãƒ¼",message:e,duration:5e3})}finally{Ie(!1)}},onDeleteDog:async e=>{if(window.confirm(`${e.name}ã®æƒ…å ±ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\n\nã“ã®æ“ä½œã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚`))try{Ie(!0);const{error:t}=await o.from("dogs").delete().eq("id",e.id);if(t)throw t;pe(`${e.name}ã®æƒ…å ±ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚`),F({type:"success",title:"å‰Šé™¤å®Œäº†",message:`${e.name}ã®æƒ…å ±ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚`,duration:3e3}),_e(!1),await it()}catch(t){ge("ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æƒ…å ±ã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}finally{Ie(!1)}},onDogImageSelect:async e=>{const t=e.target.files?.[0];if(t)try{if(t.size>10485760)return void ge("ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã¯10MBä»¥ä¸‹ã«ã—ã¦ãã ã•ã„ã€‚");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))return void ge(`ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ç”»åƒå½¢å¼ã§ã™: ${t.type}`);De(t);const e=new FileReader;e.onload=e=>{Oe(e.target?.result),Ae({x:0,y:0}),Pe(1),Me(null)},e.readAsDataURL(t),ge("")}catch(s){ge("ç”»åƒã®å‡¦ç†ã«å¤±æ•—ã—ã¾ã—ãŸã€‚åˆ¥ã®ç”»åƒã‚’ãŠè©¦ã—ãã ã•ã„ã€‚")}},onDogImageRemove:()=>{},onRabiesVaccineSelect:e=>Ve(e.target.files?.[0]||null),onComboVaccineSelect:e=>Fe(e.target.files?.[0]||null),onFormDataChange:ke,onRabiesExpiryDateChange:Be,onComboExpiryDateChange:qe,crop:Le,zoom:Ue,onCropChange:Ae,onZoomChange:Pe,onCropComplete:(e,t)=>Me(t),onImageCropped:e=>{De(e);const t=URL.createObjectURL(e);Oe(t)}}),e.jsxs(l,{className:"p-6 bg-gradient-to-br from-sky-50 to-blue-50 border-sky-200",children:[e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(w,{className:"w-6 h-6 text-blue-600 mr-2"}),"åº—èˆ—äºˆç´„ç®¡ç†"]}),e.jsx(a,{to:"/my-reservations",children:e.jsx(n,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"ä¸€è¦§è¡¨ç¤º"})})]}),0===le.length?e.jsx("div",{className:"text-center py-8 text-blue-700",children:"åº—èˆ—ã®äºˆç´„ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“"}):e.jsx("div",{className:"space-y-3",children:le.map(t=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-100 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsx("div",{className:"font-semibold",children:t.facility?.name||"æ–½è¨­"}),e.jsxs("div",{className:"text-gray-600",children:[t.reserved_date," ",t.start_time,"-",t.end_time," / ",t.guest_count,"å / ",t.seat_code||"åº§å¸­:æŒ‡å®šãªã—"]})]}),e.jsx(a,{to:`/facilities/${t.facility_id}`,children:e.jsx(n,{size:"sm",variant:"secondary",children:"è©³ç´°"})})]},t.id))})]}),e.jsxs(l,{className:"p-6 bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(I,{className:"w-6 h-6 text-amber-600 mr-2"}),"ä¿æœ‰ãƒã‚¤ãƒ³ãƒˆ"]}),e.jsx(a,{to:"/points",children:e.jsx(n,{size:"sm",className:"bg-amber-600 hover:bg-amber-700 text-white",children:"å±¥æ­´ã‚’è¦‹ã‚‹"})})]}),e.jsxs("div",{className:"text-3xl font-bold text-amber-700",children:[at.toLocaleString()," P"]}),e.jsx("p",{className:"text-sm text-amber-700 mt-2",children:"ãƒšãƒƒãƒˆã‚·ãƒ§ãƒƒãƒ—ã§åˆ©ç”¨å¯èƒ½"})]}),e.jsxs(l,{className:"p-6 bg-gradient-to-br from-pink-50 to-purple-50 border-pink-200",children:[e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(E,{className:"w-6 h-6 text-pink-600 mr-2"}),"ä¿æœ‰ã‚¯ãƒ¼ãƒãƒ³ (",tt,"æš)"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{it()},className:"px-3 py-1 text-sm bg-pink-100 hover:bg-pink-200 text-pink-700 rounded-md transition-colors",title:"ã‚¯ãƒ¼ãƒãƒ³ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°",children:"ğŸ”„"}),tt>0&&e.jsx(a,{to:"/my-coupons",children:e.jsxs(n,{size:"sm",className:"bg-pink-600 hover:bg-pink-700 text-white",children:[e.jsx(k,{className:"w-4 h-4 mr-1"}),"ä¸€è¦§è¡¨ç¤º"]})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===Ke.length?e.jsxs("div",{className:"col-span-full text-center py-8",children:[e.jsx(E,{className:"w-12 h-12 text-pink-300 mx-auto mb-3"}),e.jsx("p",{className:"text-pink-600 font-medium mb-2",children:"ä¿æœ‰ã‚¯ãƒ¼ãƒãƒ³ãŒã‚ã‚Šã¾ã›ã‚“"}),e.jsx("p",{className:"text-pink-500 text-sm",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã¨è¡Œã‘ã‚‹æ–½è¨­ã§ã‚¯ãƒ¼ãƒãƒ³ã‚’å–å¾—ã—ã¦ã¿ã¾ã—ã‚‡ã†"})]}):e.jsxs(e.Fragment,{children:[Ke.slice(0,6).map(t=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-pink-100 shadow-sm",children:[e.jsx("div",{className:"flex justify-between items-start mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1 text-gray-900",children:t.facility_coupons?.title||"ã‚¯ãƒ¼ãƒãƒ³"}),e.jsx("p",{className:"text-sm text-pink-600 font-medium mb-2",children:t.facility_coupons?.pet_facilities?.name||"åº—èˆ—å"}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:[t.facility_coupons?.discount_value,"amount"===t.facility_coupons?.discount_type?"å††":"%"," OFF"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[new Date(t.facility_coupons?.end_date).toLocaleDateString(),"ã¾ã§"]})]})]})}),t.facility_coupons?.description&&e.jsx("p",{className:"text-gray-600 mb-3 text-sm line-clamp-2",children:t.facility_coupons.description})]},t.id)),Ke.length>6&&e.jsx("div",{className:"col-span-full text-center mt-4",children:e.jsx(a,{to:"/my-coupons",children:e.jsxs(n,{variant:"secondary",size:"sm",children:["ã™ã¹ã¦è¡¨ç¤º (",Ke.length,"æš)"]})})})]})})]}),e.jsxs(l,{className:"p-6 bg-gradient-to-br from-green-50 to-blue-50 border-green-200",children:[e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(j,{className:"w-6 h-6 text-green-600 mr-2"}),"ç®¡ç†ä¸­ã®ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ (",W.length,"æ–½è¨­)"]}),e.jsx(a,{to:"/my-parks-management",children:e.jsxs(n,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx(C,{className:"w-4 h-4 mr-1"}),"ä¸€è¦§ãƒ»ç®¡ç†"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.slice(0,6).map(t=>{const s=(e=>{switch(e){case"approved":return{label:"å…¬é–‹ä¸­",color:"bg-green-100 text-green-800",description:""};case"pending":return{label:"ç¬¬ä¸€å¯©æŸ»ä¸­",color:"bg-yellow-100 text-yellow-800",description:"ç®¡ç†è€…ã«ã‚ˆã‚‹å¯©æŸ»ã‚’ãŠå¾…ã¡ãã ã•ã„"};case"first_stage_passed":return{label:"ç¬¬äºŒå¯©æŸ»ç”³è«‹å¯èƒ½",color:"bg-blue-100 text-blue-800",description:"ç¬¬äºŒå¯©æŸ»ã®ç”³è«‹ã‚’ã—ã¦ãã ã•ã„"};case"second_stage_waiting":return{label:"ç¬¬äºŒå¯©æŸ»ç”³è«‹æº–å‚™ä¸­",color:"bg-orange-100 text-orange-800",description:"ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç­‰ã®æº–å‚™ã‚’é€²ã‚ã¦ãã ã•ã„"};case"second_stage_review":return{label:"ç¬¬äºŒå¯©æŸ»ä¸­",color:"bg-purple-100 text-purple-800",description:"ç®¡ç†è€…ã«ã‚ˆã‚‹å¯©æŸ»ã‚’ãŠå¾…ã¡ãã ã•ã„"};case"smart_lock_testing":return{label:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯å®Ÿè¨¼æ¤œæŸ»ä¸­",color:"bg-indigo-100 text-indigo-800",description:"å®Ÿè¨¼æ¤œæŸ»ã®å®Œäº†ã‚’ãŠå¾…ã¡ãã ã•ã„"};case"rejected":return{label:"å´ä¸‹",color:"bg-red-100 text-red-800",description:"è©³ç´°ã¯ç®¡ç†ãƒšãƒ¼ã‚¸ã§ã”ç¢ºèªãã ã•ã„"};default:return{label:"å¯©æŸ»ä¸­",color:"bg-gray-100 text-gray-800",description:""}}})(t.status);return e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:[e.jsx("h3",{className:"font-semibold mb-1",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.address}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.color}`,children:s.label}),e.jsxs("div",{className:"text-xs text-gray-500",children:["æ–™é‡‘: Â¥",t.price_per_hour,"/æ™‚é–“"]})]}),s.description&&e.jsx("div",{className:"text-xs text-gray-600 bg-gray-50 px-2 py-1 rounded",children:s.description}),"first_stage_passed"===t.status&&e.jsx(a,{to:`/parks/${t.id}/second-stage`,className:"block",children:e.jsx("button",{className:"w-full text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700 transition-colors",children:"ç¬¬äºŒå¯©æŸ»ã‚’ç”³è«‹ã™ã‚‹"})})]})]},t.id)})}),W.length>6&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx(a,{to:"/my-parks-management",children:e.jsxs(n,{variant:"secondary",size:"sm",children:["ã™ã¹ã¦è¡¨ç¤º (",W.length,"æ–½è¨­)"]})})})]}),e.jsxs(l,{className:"p-6 bg-gradient-to-br from-teal-50 to-cyan-50 border-teal-200",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(j,{className:"w-6 h-6 text-teal-600 mr-2"}),"ç®¡ç†ä¸­ã®ãƒšãƒƒãƒˆé–¢é€£æ–½è¨­ (",Ye.length,"æ–½è¨­)"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"ãƒšãƒƒãƒˆã‚·ãƒ§ãƒƒãƒ—ã€å‹•ç‰©ç—…é™¢ã€ãƒˆãƒªãƒŸãƒ³ã‚°ã‚µãƒ­ãƒ³ãªã©ã®æ–½è¨­ç®¡ç†"})]}),e.jsx(a,{to:"/my-facilities-management",children:e.jsxs(n,{size:"sm",className:"bg-teal-600 hover:bg-teal-700 text-white",children:[e.jsx(C,{className:"w-4 h-4 mr-1"}),"ä¸€è¦§ãƒ»ç®¡ç†"]})})]}),0===Ye.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"ç®¡ç†ä¸­ã®ãƒšãƒƒãƒˆé–¢é€£æ–½è¨­ãŒã‚ã‚Šã¾ã›ã‚“ã€‚"}),e.jsx(a,{to:"/facility-registration",children:e.jsx(n,{className:"bg-teal-600 hover:bg-teal-700",children:"æ–°è¦æ–½è¨­ç™»éŒ²"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ye.slice(0,4).map(t=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-teal-100",children:[e.jsx("div",{className:"flex justify-between items-start mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.name}),e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1 "+("approved"===t.status?"bg-green-100 text-green-800":"pending"===t.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:["approved"===t.status&&e.jsx(f,{className:"w-3 h-3"}),"pending"===t.status&&e.jsx(w,{className:"w-3 h-3"}),"rejected"===t.status&&e.jsx(_,{className:"w-3 h-3"}),e.jsxs("span",{children:["approved"===t.status&&"å…¬é–‹ä¸­","pending"===t.status&&"å¯©æŸ»ä¸­","rejected"===t.status&&"å´ä¸‹","suspended"===t.status&&"åœæ­¢ä¸­"]})]})})]})}),t.description&&e.jsx("p",{className:"text-gray-600 mb-3 text-sm line-clamp-2",children:t.description}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(D,{className:"w-3 h-3 mr-2"}),e.jsx("span",{className:"text-xs",children:t.address})]}),t.phone&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(T,{className:"w-3 h-3 mr-2"}),e.jsx("span",{className:"text-xs",children:t.phone})]}),t.website&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(O,{className:"w-3 h-3 mr-2"}),e.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-teal-600 hover:text-teal-800",children:"å…¬å¼ã‚µã‚¤ãƒˆ"})]})]}),e.jsx("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:e.jsx("div",{className:"text-xs text-gray-500",children:t.category_name||"ãã®ä»–æ–½è¨­"})})]},t.id))}),Ye.length>4&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx(a,{to:"/my-facilities-management",children:e.jsxs(n,{variant:"secondary",size:"sm",children:["ã™ã¹ã¦è¡¨ç¤º (",Ye.length,"æ–½è¨­)"]})})})]})]}),e.jsxs(l,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"ğŸš€"}),"ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(a,{to:"/parks",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-sky-50 rounded-xl hover:from-blue-100 hover:to-sky-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-blue-200",children:[e.jsx(D,{className:"w-8 h-8 text-blue-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³æ¤œç´¢"}),e.jsx("p",{className:"text-sm text-blue-700",children:"è¿‘ãã®ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã‚’æ¢ã™"})]})}),e.jsx(a,{to:"/dogpark-history",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-teal-50 to-emerald-50 rounded-xl hover:from-teal-100 hover:to-emerald-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-teal-200",children:[e.jsx(L,{className:"w-8 h-8 text-teal-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-teal-900 mb-1",children:"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³åˆ©ç”¨å±¥æ­´"}),e.jsx("p",{className:"text-sm text-teal-700",children:"å…¥é€€å ´å±¥æ­´ã‚’ç¢ºèª"})]})}),e.jsx(a,{to:"/community",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl hover:from-green-100 hover:to-emerald-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-green-200",children:[e.jsx(T,{className:"w-8 h-8 text-green-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£"}),e.jsx("p",{className:"text-sm text-green-700",children:"ä»–ã®é£¼ã„ä¸»ã¨äº¤æµ"})]})}),e.jsx(a,{to:"/petshop",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl hover:from-purple-100 hover:to-violet-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-purple-200",children:[e.jsx(A,{className:"w-8 h-8 text-purple-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-purple-900 mb-1",children:"ãƒšãƒƒãƒˆã‚·ãƒ§ãƒƒãƒ—"}),e.jsx("p",{className:"text-sm text-purple-700",children:"ãƒšãƒƒãƒˆç”¨å“ã‚’è³¼å…¥"})]})}),e.jsx(a,{to:"/order-history",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl hover:from-amber-100 hover:to-yellow-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-amber-200",children:[e.jsx(L,{className:"w-8 h-8 text-amber-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-amber-900 mb-1",children:"æ³¨æ–‡å±¥æ­´"}),e.jsx("p",{className:"text-sm text-amber-700",children:"è³¼å…¥å±¥æ­´ã‚’ç¢ºèª"})]})}),e.jsx(a,{to:"/news",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl hover:from-orange-100 hover:to-amber-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-orange-200",children:[e.jsx(p,{className:"w-8 h-8 text-orange-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-orange-900 mb-1",children:"æ–°ç€æƒ…å ±"}),e.jsx("p",{className:"text-sm text-orange-700",children:"æœ€æ–°ã®ãŠçŸ¥ã‚‰ã›"})]})}),e.jsx(a,{to:"/park-registration-agreement",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl hover:from-yellow-100 hover:to-orange-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border-2 border-orange-200",children:[e.jsx(j,{className:"w-8 h-8 text-orange-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-orange-900 mb-1",children:"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã‚ªãƒ¼ãƒŠãƒ¼å‹Ÿé›†"}),e.jsx("p",{className:"text-sm text-orange-700 mb-2",children:"ã‚ãªãŸã®ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã‚’ç™»éŒ²"}),e.jsx("div",{className:"text-xs text-orange-600 font-semibold bg-orange-100 px-2 py-1 rounded-full inline-block",children:"ğŸ’° åç›ŠåŒ–ã®ãƒãƒ£ãƒ³ã‚¹ï¼"})]})}),e.jsx(a,{to:"/facility-registration",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-teal-50 to-cyan-50 rounded-xl hover:from-teal-100 hover:to-cyan-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border-2 border-teal-200",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(U,{className:"w-6 h-6 text-teal-600 mr-2"}),e.jsx(A,{className:"w-6 h-6 text-teal-600"})]}),e.jsx("h3",{className:"font-semibold text-teal-900 mb-1",children:"ãƒšãƒƒãƒˆé–¢é€£æ–½è¨­ç™»éŒ²"}),e.jsx("p",{className:"text-sm text-teal-700 mb-2",children:"åº—èˆ—ãƒ»å®¿æ³Šæ–½è¨­ãƒ»ã‚µãƒ­ãƒ³ãªã©"}),e.jsx("div",{className:"text-xs text-teal-600 font-semibold bg-teal-100 px-2 py-1 rounded-full inline-block",children:"ğŸ‰ ä»Šãªã‚‰ç„¡æ–™æ²è¼‰ï¼"})]})}),e.jsx(a,{to:"/profile-settings",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl hover:from-indigo-100 hover:to-purple-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-indigo-200",children:[e.jsx(P,{className:"w-8 h-8 text-indigo-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-indigo-900 mb-1",children:"ç™»éŒ²æƒ…å ±"}),e.jsx("p",{className:"text-sm text-indigo-700",children:"ä½æ‰€ãƒ»æ°åãƒ»é€£çµ¡å…ˆã‚’ç·¨é›†"})]})})]})]}),K.length>0&&e.jsx(V,{notifications:K,onMarkAsRead:async e=>{try{await o.from("notifications").update({read:!0}).eq("id",e),ee(t=>t.filter(t=>t.id!==e)),F({type:"info",title:"é€šçŸ¥",message:"é€šçŸ¥ã‚’æ—¢èª­ã«ã—ã¾ã—ãŸ",duration:2e3})}catch(t){ge("é€šçŸ¥ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}}}),je&&be&&e.jsx(J,{park:be,onClose:()=>Ne(!1)})]})}export{ne as UserDashboard,ne as default};
