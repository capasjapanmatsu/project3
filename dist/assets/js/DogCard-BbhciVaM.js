import{j as e}from"./motion-BHsL7Azw.js";import{L as s}from"./router-DXQOdrLL.js";import{d as a}from"./dogBreeds-6lxY8Uni.js";import{B as r}from"./index-CSTJwaVF.js";import{I as t}from"./Input-524E3-F-.js";import{L as l}from"./LazyImage-B03kzHSK.js";import{S as i}from"./Select-YTmN6qyT.js";import{g as c,V as n}from"./VaccineBadge-frxHPS40.js";import{c as d,b as m,V as o,Y as x,X as g,a1 as h,F as b,at as j}from"./ui-basic-B0S5JnE3.js";function u({dog:a,onEdit:t}){const i=c(a),x=N(a.gender);return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:a.image_url?e.jsx(l,{src:a.image_url,alt:a.name,width:64,height:64,loading:"lazy",priority:!1,className:"w-full h-full object-cover rounded-full",placeholderSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMzIiIGN5PSIzMiIgcj0iMzIiIGZpbGw9IiNGM0Y0RjYiLz4KPHN2ZyB4PSIyNCIgeT0iMjQiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KPGVsbGlwc2UgY3g9IjEyIiBjeT0iMTMiIHJ4PSIxMCIgcnk9IjQiLz4KPHBhdGggZD0ibTEyIDEzIDQuNS05IDQuNSA5Ii8+CjxwYXRoIGQ9Im0xMiAxMyA0LjUtOUw3IDEzIi8+CjxwYXRoIGQ9Im0xMiAxM0w3IDQgNy41IDEzIi8+Cjwvc3ZnPgo8L3N2Zz4K"}):e.jsx(d,{className:"w-8 h-8 text-gray-500"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:[a.name,x]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a.breed," • ",a.gender]}),a.microchip_number&&e.jsxs("p",{className:"text-xs text-gray-500",children:["マイクロチップ: ",a.microchip_number]}),e.jsx("div",{className:"flex items-center space-x-2 mt-1",children:e.jsx(n,{status:i,size:"sm"})})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(s,{to:"/jp-passport",children:e.jsx(r,{size:"sm",className:"bg-emerald-50 hover:bg-emerald-100 text-emerald-600 border-0",title:"JPパスポートを確認",children:e.jsx(m,{className:"w-4 h-4"})})}),e.jsx(r,{size:"sm",className:"bg-blue-50 hover:bg-blue-100 text-blue-600 border-0",onClick:()=>t(a),children:e.jsx(o,{className:"w-4 h-4"})})]})]})}function N(e){return"オス"===e?"くん":"ちゃん"}function p({dog:s,isUpdating:l,error:d,success:o,dogFormData:u,dogImagePreview:p,onClose:v,onSubmit:y,onDelete:I,onFormChange:f,onImageSelect:w,onImageRemove:C,rabiesVaccineFile:D,comboVaccineFile:G,rabiesExpiryDate:M,comboExpiryDate:z,onRabiesVaccineSelect:P,onComboVaccineSelect:S,onRabiesExpiryDateChange:B,onComboExpiryDateChange:Z}){if(!s)return null;const k=N(s.gender),E=c(s);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold",children:[s.name,k,"の情報編集"]}),e.jsxs("div",{className:"flex space-x-2",children:[I&&e.jsx("button",{type:"button",onClick:()=>{window.confirm(`${s.name}${k}を削除しますか？\n\nこの操作は元に戻せません。`)&&I(s)},className:"text-red-500 hover:text-red-700 p-1 rounded-lg hover:bg-red-50 transition-colors",title:"このワンちゃんを削除",children:e.jsx(x,{className:"w-5 h-5"})}),e.jsx("button",{onClick:v,className:"text-gray-500 hover:text-gray-700 p-1 rounded-lg hover:bg-gray-100 transition-colors",title:"編集を閉じる",children:e.jsx(g,{className:"w-5 h-5"})})]})]}),d&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:d}),o&&e.jsxs("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-lg flex items-center",children:[e.jsx(m,{className:"w-5 h-5 mr-2"}),o]}),e.jsx("form",{onSubmit:y,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"基本情報"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ワンちゃんの写真"}),p?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:p,alt:"ワンちゃんのプレビュー",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-300"}),e.jsx("button",{type:"button",onClick:C,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:e.jsx(x,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden",id:"dog-image-edit"}),e.jsxs("label",{htmlFor:"dog-image-edit",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(h,{className:"w-12 h-12 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"クリックして画像を選択"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (最大10MB)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(t,{label:"名前",value:u.name,onChange:e=>f({...u,name:e.target.value}),required:!0}),e.jsx(i,{label:"犬種",options:a.map(e=>({value:e,label:e})),value:u.breed,onChange:e=>f({...u,breed:e.target.value}),required:!0}),e.jsx(i,{label:"性別",options:[{value:"",label:"性別を選択してください"},{value:"オス",label:"オス"},{value:"メス",label:"メス"}],value:u.gender,onChange:e=>f({...u,gender:e.target.value}),required:!0}),e.jsx(t,{label:"生年月日",type:"date",value:u.birthDate,onChange:e=>f({...u,birthDate:e.target.value}),required:!0}),e.jsx(t,{label:"マイクロチップNO",type:"text",value:u.microchipNumber,onChange:e=>f({...u,microchipNumber:e.target.value}),placeholder:"15桁の数字（任意）",maxLength:15})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(m,{className:"w-5 h-5 mr-2"}),"ワクチン証明書"]}),e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"現在のステータス:"}),e.jsx(n,{status:E,size:"md"})]}),"pending"===E&&e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"新しい証明書をアップロードすると、再度承認待ち状態になります。"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"狂犬病ワクチン証明書"}),D?e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800",children:D.name}),e.jsx("button",{type:"button",onClick:()=>{const e=document.getElementById("rabies-vaccine-edit");e&&(e.value="");P({target:{files:[]}})},className:"text-red-600 hover:text-red-800",children:e.jsx(x,{className:"w-4 h-4"})})]})}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden",id:"rabies-vaccine-edit"}),e.jsxs("label",{htmlFor:"rabies-vaccine-edit",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(j,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"証明書をアップロード"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (最大10MB)"})]})]}),e.jsx(t,{label:"有効期限",type:"date",value:M,onChange:e=>B(e.target.value),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"混合ワクチン証明書"}),G?e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800",children:G.name}),e.jsx("button",{type:"button",onClick:()=>{const e=document.getElementById("combo-vaccine-edit");e&&(e.value="");S({target:{files:[]}})},className:"text-red-600 hover:text-red-800",children:e.jsx(x,{className:"w-4 h-4"})})]})}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden",id:"combo-vaccine-edit"}),e.jsxs("label",{htmlFor:"combo-vaccine-edit",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(j,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"証明書をアップロード"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (最大10MB)"})]})]}),e.jsx(t,{label:"有効期限",type:"date",value:z,onChange:e=>Z(e.target.value),className:"mt-2"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"注意:"})," 新しいワクチン証明書をアップロードすると、管理者による再承認が必要になります。 承認されるまでドッグランのご利用はできません。"]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx(r,{type:"button",className:"bg-white hover:bg-gray-50 border border-gray-300 text-gray-700",onClick:v,children:"キャンセル"}),e.jsxs(r,{type:"submit",isLoading:l,children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"保存"]})]})]})})]})})})}export{u as D,p as a};
