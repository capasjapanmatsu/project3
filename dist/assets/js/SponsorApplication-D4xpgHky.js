import{j as e}from"./motion-CuO0nkIV.js";import{r as s}from"./react-vendor-cniURDpR.js";import{u as l,S as a,B as i}from"./index-C8-ZovGr.js";import{C as t}from"./Card-roTxPFVC.js";import{I as n}from"./Input-pnFPNpa9.js";import{S as r}from"./Select-Dd_IZFKg.js";import{a as c}from"./router-CiK0M--J.js";import"./heavy-features-BIdEME4r.js";import"./supabase-DJQiR77k.js";import"./ui-basic-DtvVsAeD.js";const d=[{id:"banner-top",name:"トップバナー広告",size:"レクタングル",dimensions:"800×200px",position:"トップページメインエリア（最上部）",monthlyPrice:5e4,features:["最も目立つ位置での表示","自動スライド表示（4秒間隔）","クリック統計レポート","月間表示回数保証：10,000回以上"],popular:!0},{id:"banner-sidebar",name:"サイドバー広告",size:"スクエア",dimensions:"300×300px",position:"各ページサイドバー",monthlyPrice:25e3,features:["全ページ共通表示","固定表示（スクロール追従）","クリック統計レポート","月間表示回数保証：5,000回以上"]},{id:"banner-footer",name:"フッター広告",size:"ワイドバナー",dimensions:"728×90px",position:"ページ下部フッターエリア",monthlyPrice:15e3,features:["全ページ共通表示","控えめで目立ちすぎない配置","クリック統計レポート","月間表示回数保証：3,000回以上"]}],m={companyName:"",contactName:"",email:"",phone:"",website:"",adTitle:"",adDescription:"",targetUrl:"",imageFile:null,selectedPlan:"",duration:3,message:""};function o(){const{user:o}=l(),x=c(),[h,j]=s.useState(m),[u,p]=s.useState(1),[b,g]=s.useState(!1),[N,f]=s.useState(null),[v,y]=s.useState(!1);if(s.useEffect(()=>{new URLSearchParams(window.location.search).get("token")||o&&"capasjapan@gmail.com"===o.email||y(!0)},[o]),v)return e.jsxs(e.Fragment,{children:[e.jsx(a,{title:"アクセス制限",description:"このページへのアクセス権限がありません"}),e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-8",children:e.jsx("div",{className:"max-w-md mx-auto px-4",children:e.jsxs(t,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"アクセス制限"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["このページは事業者様専用です。",e.jsx("br",{}),"アクセスするには事前のお問い合わせが必要です。"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{onClick:()=>x("/sponsor-inquiry"),className:"w-full bg-blue-600 hover:bg-blue-700",children:"スポンサー広告お問い合わせ"}),e.jsx(i,{onClick:()=>x("/"),variant:"outline",className:"w-full",children:"トップページに戻る"})]})]})})})]});const w=(e,s)=>{j(l=>({...l,[e]:s}))},C=d.find(e=>e.id===h.selectedPlan),k=C?C.monthlyPrice*h.duration:0,S=()=>{u<3&&p(e=>e+1)},L=()=>{u>1&&p(e=>e-1)},P=s.useCallback(async()=>{g(!0),f(null);try{alert(`申し込みありがとうございます！\n合計金額: ¥${k.toLocaleString()}\n決済画面に進みます。`)}catch(e){f("申し込みの送信に失敗しました。")}finally{g(!1)}},[h,k]);return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"スポンサー広告申し込み"}),e.jsx("p",{className:"text-gray-600",children:"ドッグパークJPで効果的な広告を掲載しませんか？"})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+(u>=s?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"),children:s}),s<3&&e.jsx("div",{className:"w-16 h-1 mx-2 "+(u>s?"bg-blue-600":"bg-gray-300")})]},s))})}),1===u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"広告プランを選択"}),e.jsx("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:d.map(s=>e.jsxs("div",{className:`relative border-2 rounded-lg p-6 cursor-pointer transition-all ${h.selectedPlan===s.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${s.popular?"ring-2 ring-yellow-400":""}`,onClick:()=>w("selectedPlan",s.id),children:[s.popular&&e.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-xs font-bold",children:"人気"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:s.name}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:["¥",s.monthlyPrice.toLocaleString(),e.jsx("span",{className:"text-sm text-gray-500",children:"/月"})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[e.jsxs("p",{children:["サイズ: ",s.size]}),e.jsxs("p",{children:["(",s.dimensions,")"]}),e.jsx("p",{className:"mt-1",children:s.position})]}),e.jsx("ul",{className:"text-sm text-left space-y-1",children:s.features.map((s,l)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),s]},l))})]})]},s.id))}),C&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"掲載期間を選択"}),e.jsx(r,{value:h.duration.toString(),onChange:e=>w("duration",parseInt(e.target.value)),options:[{value:"1",label:"1ヶ月"},{value:"3",label:"3ヶ月（おすすめ）"},{value:"6",label:"6ヶ月（10%割引）"},{value:"12",label:"12ヶ月（20%割引）"}]}),e.jsxs("div",{className:"mt-2 text-lg font-semibold",children:["合計金額: ¥",k.toLocaleString(),h.duration>=6&&e.jsxs("span",{className:"text-sm text-green-600 ml-2",children:["(",6===h.duration?"10":"20","%割引適用済み)"]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(i,{onClick:S,disabled:!h.selectedPlan,className:"bg-blue-600 hover:bg-blue-700",children:"次へ"})})]}),2===u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"企業情報"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsx(n,{label:"企業・団体名 *",value:h.companyName,onChange:e=>w("companyName",e.target.value),required:!0}),e.jsx(n,{label:"担当者名 *",value:h.contactName,onChange:e=>w("contactName",e.target.value),required:!0}),e.jsx(n,{label:"メールアドレス *",type:"email",value:h.email,onChange:e=>w("email",e.target.value),required:!0}),e.jsx(n,{label:"電話番号",type:"tel",value:h.phone,onChange:e=>w("phone",e.target.value)}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(n,{label:"企業サイトURL",type:"url",value:h.website,onChange:e=>w("website",e.target.value)})})]})]}),e.jsxs(t,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"広告内容"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{label:"広告タイトル *",value:h.adTitle,onChange:e=>w("adTitle",e.target.value),placeholder:"例：プレミアムドッグフード30%OFF",required:!0}),e.jsx(n,{label:"広告説明文 *",value:h.adDescription,onChange:e=>w("adDescription",e.target.value),placeholder:"例：愛犬の健康を考えた厳選商品をお届け",multiline:!0,rows:3,required:!0}),e.jsx(n,{label:"リンク先URL *",type:"url",value:h.targetUrl,onChange:e=>w("targetUrl",e.target.value),placeholder:"https://example.com",required:!0}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["広告画像 * (",C?.dimensions,")"]}),e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const s=e.target.files?.[0]||null;j(e=>({...e,imageFile:s}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["JPG, PNG形式。最大5MB。推奨サイズ: ",C?.dimensions]})]}),e.jsx(n,{label:"その他ご要望",value:h.message,onChange:e=>w("message",e.target.value),multiline:!0,rows:3,placeholder:"特別な要望やご質問がありましたらお書きください"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(i,{onClick:L,variant:"outline",children:"戻る"}),e.jsx(i,{onClick:S,disabled:!(h.companyName&&h.contactName&&h.email&&h.adTitle&&h.adDescription&&h.targetUrl),className:"bg-blue-600 hover:bg-blue-700",children:"次へ"})]})]}),3===u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"申し込み内容確認"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"選択プラン"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("p",{className:"font-medium",children:C?.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["サイズ: ",C?.dimensions]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["掲載期間: ",h.duration,"ヶ月"]}),e.jsxs("p",{className:"text-lg font-semibold mt-2",children:["合計金額: ¥",k.toLocaleString()]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"企業情報"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"企業名:"})," ",h.companyName]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"担当者:"})," ",h.contactName]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"メール:"})," ",h.email]}),h.phone&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"電話:"})," ",h.phone]}),h.website&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"サイト:"})," ",h.website]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"広告内容"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"タイトル:"})," ",h.adTitle]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"説明:"})," ",h.adDescription]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"リンク先:"})," ",h.targetUrl]}),h.imageFile&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"画像:"})," ",h.imageFile.name]})]})]}),N&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:N}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"お支払いについて"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"• お支払いはクレジットカード（Stripe決済）で行います"}),e.jsx("li",{children:"• 決済完了後、3営業日以内に広告掲載を開始いたします"}),e.jsx("li",{children:"• 広告内容は事前審査を行います"}),e.jsx("li",{children:"• 審査で不適切と判断された場合は全額返金いたします"})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(i,{onClick:L,variant:"outline",children:"戻る"}),e.jsx(i,{onClick:P,disabled:b,className:"bg-green-600 hover:bg-green-700",children:b?"処理中...":`¥${k.toLocaleString()}で決済に進む`})]})]})]})})}export{o as SponsorApplication,o as default};
