const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/css/ImageCropper-OEN34m2J.css"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,s=(s,t,a)=>((s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a)(s,"symbol"!=typeof t?t+"":t,a);import{j as t}from"./motion-CuO0nkIV.js";import{Q as a,a as n}from"./heavy-features-BIdEME4r.js";import{d as r,r as i,b as l}from"./react-vendor-cniURDpR.js";import{L as o,u as c,a as d,R as m,b as x,N as h,B as u}from"./router-Cg6wfOY4.js";import{c as p,_ as j}from"./supabase-B0bqaRGb.js";import{H as g,a as f,M as y,K as b,U as _,b as w,P as v,S as k,c as N,B as S,d as E,D as P,e as I,L as A,f as D,A as R,g as L,h as T,i as O,E as C,j as z,k as V,l as M}from"./ui-basic-icnN6BOT.js";var F={},W=r;F.createRoot=W.createRoot,F.hydrateRoot=W.hydrateRoot;const q=i.createContext(null),U={didCatch:!1,error:null};class $ extends i.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=U}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var s,t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];null===(s=(t=this.props).onReset)||void 0===s||s.call(t,{args:n,reason:"imperative-api"}),this.setState(U)}}componentDidCatch(e,s){var t,a;null===(t=(a=this.props).onError)||void 0===t||t.call(a,e,s)}componentDidUpdate(e,s){const{didCatch:t}=this.state,{resetKeys:a}=this.props;var n,r;t&&null!==s.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==s.length||e.some((e,t)=>!Object.is(e,s[t]))}(e.resetKeys,a)&&(null===(n=(r=this.props).onReset)||void 0===n||n.call(r,{next:a,prev:e.resetKeys,reason:"keys"}),this.setState(U))}render(){const{children:e,fallbackRender:s,FallbackComponent:t,fallback:a}=this.props,{didCatch:n,error:r}=this.state;let l=e;if(n){const e={error:r,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof s)l=s(e);else if(t)l=i.createElement(t,e);else{if(void 0===a)throw r;l=a}}return i.createElement(q.Provider,{value:{didCatch:n,error:r,resetErrorBoundary:this.resetErrorBoundary}},l)}}const B=i.createContext({isLoaded:!1,isLoading:!0,error:null,google:null});function G({children:e,apiKey:s,libraries:a=["places"]}){const[n,r]=i.useState(!1),[l,o]=i.useState(!0),[c,d]=i.useState(null),[m,x]=i.useState(null);i.useEffect(()=>{(async()=>{try{const t=s||"AIzaSyC9sxGamDZmdKIz3vP1CWLJORl-QkoWgHg";if(window.google?.maps)return x(window.google),r(!0),void o(!1);if(window._googleMapsLoading){const e=setInterval(()=>{window.google?.maps&&(clearInterval(e),x(window.google),r(!0),o(!1))},100);return void setTimeout(()=>{if(clearInterval(e),!window.google?.maps){d("Google Maps API読み込みタイムアウト（待機中）"),o(!1)}},3e4)}window._googleMapsLoading=!0;const n=document.createElement("script"),i=`https://maps.googleapis.com/maps/api/js?key=${t}${a.length>0?`&libraries=${a.join(",")}`:""}`;n.src=i,n.async=!0,n.defer=!0;const l=new Promise((e,s)=>{n.onload=()=>{if(window._googleMapsLoading=!1,window.google?.maps)x(window.google),r(!0),o(!1),e();else{const e="Google Maps APIの初期化に失敗しました";d(e),o(!1),s(new Error(e))}},n.onerror=e=>{window._googleMapsLoading=!1;const t="Google Maps API の読み込みに失敗しました - ネットワークエラーまたはAPIキーが無効です";d(t),o(!1),s(new Error(t))},setTimeout(()=>{if(!window.google?.maps){window._googleMapsLoading=!1;const e="Google Maps API の読み込みがタイムアウトしました（30秒）";d(e),o(!1),s(new Error(e))}},3e4),document.head.appendChild(n)});try{await l}catch(e){}}catch(t){const e=t instanceof Error?t.message:"Google Maps の初期化で予期しないエラーが発生しました";d(e),o(!1)}})()},[s,a]);const h={isLoaded:n,isLoading:l,error:c,google:m};return t.jsx(B.Provider,{value:h,children:e})}function J(){const e=i.useContext(B);if(void 0===e)throw new Error("useGoogleMaps must be used within a GoogleMapsProvider");return e}async function X(){try{const e=await fetch("/auth/me",{credentials:"include"});return e.ok?await e.json():null}catch{return null}}const H=p("https://onmcivwxtzqajcovptgf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9ubWNpdnd4dHpxYWpjb3ZwdGdmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxODk3OTUsImV4cCI6MjA2NDc2NTc5NX0.AqFCz3GQUVeGaG2988LCzsE4aJpeio3xScoxv5T0-OU",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Y=e=>{if(!e)return"不明なエラーが発生しました";switch(e.code){case"23505":return"このデータは既に存在しています";case"23503":return"関連するデータが存在しません";case"23502":return"必須項目が入力されていません";case"42501":return"操作する権限がありません";case"42703":return"データベースの構造に問題があります";case"PGRST116":return"データが見つかりません";case"PGRST301":return"送信されたデータが無効です";default:if(e.message){const s=e.message.toLowerCase();return s.includes("duplicate key")?"このデータは既に存在しています":s.includes("foreign key")?"関連するデータが存在しません":s.includes("not null")?"必須項目が入力されていません":s.includes("permission")?"操作する権限がありません":s.includes("authentication")?"認証に失敗しました":s.includes("network")?"ネットワークエラーが発生しました":e.message}return"データベース処理中にエラーが発生しました"}},K=i.createContext({user:null,session:null,loading:!0,effectiveUserId:null,logout:async()=>{await Promise.resolve()},isAuthenticated:!1,signInWithMagicLink:async()=>(await Promise.resolve(),{success:!1}),signInWithPassword:async()=>(await Promise.resolve(),{success:!1}),signInWithGoogle:async()=>(await Promise.resolve(),{success:!1}),signInWithTwitter:async()=>(await Promise.resolve(),{success:!1}),verify2FA:async()=>(await Promise.resolve(),{success:!1}),setIsTrustedDevice:()=>{},isAdmin:!1,userProfile:null,lineUser:null,isLineAuthenticated:!1}),Q=({children:e})=>{const[s,a]=i.useState(null),[n,r]=i.useState(null),[l,o]=i.useState(!0),[c,d]=i.useState(!1),[m,x]=i.useState(!1),[h,u]=i.useState(null),[p,j]=i.useState(null),[g,f]=i.useState(null),[y,b]=i.useState(!1);i.useCallback(async(e,s)=>{try{const{data:s,error:t}=await H.from("profiles").select("*").eq("id",e).single();return t?null:s}catch(t){return null}},[]),i.useEffect(()=>{let e=!0;(async()=>{try{const{data:{user:s}}=await H.auth.getUser();if(s&&e){a(s),d(!0),u(null),x("capasjapan@gmail.com"===s.email),j(s.id),o(!1);try{const s=await X();s&&e&&(f(s),b(!0))}catch{}return}try{const s=await X();if(s&&e){f(s),b(!0),j(s.app_user_id||s.id);try{const s=await fetch("/line/exchange-supabase-session",{method:"POST",credentials:"include"});if(s.ok){const{access_token:t,refresh_token:n}=await s.json(),{data:i}=await H.auth.setSession({access_token:t,refresh_token:n});if(i?.session&&e)return r(i.session),a(i.session.user),d(!0),u(null),x("capasjapan@gmail.com"===i.session.user.email),j(i.session.user.id),void o(!1)}}catch{}return void o(!1)}}catch{}e&&(r(null),a(null),d(!1),u(null),x(!1),f(null),b(!1),j(null),o(!1))}catch{e&&o(!1)}})();const{data:{subscription:s}}=H.auth.onAuthStateChange((s,t)=>{if(e)if("SIGNED_OUT"===s)r(null),a(null),d(!1),u(null),x(!1),j(null),o(!1);else if("SIGNED_IN"===s&&t){r(t),a(t.user),d(!0),u(null),x("capasjapan@gmail.com"===t.user.email),j(t.user.id),o(!1);try{H.rpc("rpc_daily_login_bonus",{p_user:t.user.id}).catch(console.warn)}catch{}}else"TOKEN_REFRESHED"===s&&t&&(r(t),a(t.user),j(t.user.id),o(!1))});return()=>{e=!1,s.unsubscribe()}},[]);const _=i.useCallback(async e=>{try{const{error:s}=await H.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/dashboard`}});return s?{success:!1,error:s.message}:{success:!0}}catch(s){return{success:!1,error:String(s)}}},[]),w=i.useCallback(async(e,s)=>{try{const{data:t,error:a}=await H.auth.signInWithPassword({email:e,password:s});return a?{success:!1,error:a.message}:{success:!0}}catch(t){return{success:!1,error:String(t)}}},[]),v=i.useCallback(async()=>{try{const{data:e,error:s}=await H.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`,queryParams:{}}});return s?{success:!1,error:s.message}:{success:!0}}catch(e){return{success:!1,error:String(e)}}},[]),k=i.useCallback(async()=>{try{const{data:e,error:s}=await H.auth.signInWithOAuth({provider:"twitter",options:{redirectTo:`${window.location.origin}/dashboard`}});return s?{success:!1,error:s.message}:{success:!0}}catch(e){return{success:!1,error:String(e)}}},[]),N=i.useCallback(async e=>{try{if(!s)return{success:!1,error:"ユーザーが認証されていません"};const{data:{session:t}}=await H.auth.getSession();if(!t?.access_token)return{success:!1,error:"認証が必要です"};const a=await fetch("https://onmcivwxtzqajcovptgf.supabase.co/functions/v1/verify-2fa",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify({userId:s.id,code:e})});if(!a.ok){return{success:!1,error:(await a.json()).error||"認証に失敗しました"}}const n=await a.json();return{success:n.success,...n.error&&{error:n.error}}}catch(t){return{success:!1,error:String(t)}}},[s]),S=i.useCallback(e=>{try{localStorage.setItem("isTrustedDevice",JSON.stringify(e))}catch(s){}},[]),E=i.useCallback(async()=>{try{if(g||y)try{await fetch("/auth/logout",{method:"POST",credentials:"include"})}catch(e){}(s||c)&&await H.auth.signOut({scope:"global"}),r(null),a(null),d(!1),u(null),x(!1),f(null),b(!1),j(null);try{localStorage.removeItem("isTrustedDevice"),localStorage.removeItem("pre_payment_auth_state"),localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("skipSplashOnce"),sessionStorage.clear();const e=[];for(let s=0;s<localStorage.length;s++){const t=localStorage.key(s);t&&t.startsWith("sb-")&&e.push(t)}e.forEach(e=>localStorage.removeItem(e))}catch(t){}setTimeout(()=>{window.location.href="/"},100)}catch(t){r(null),a(null),d(!1),u(null),x(!1),f(null),b(!1),j(null),setTimeout(()=>{window.location.href="/"},100)}},[g,y,s,c]),P=i.useMemo(()=>({user:s,session:n,loading:l,logout:E,isAuthenticated:c,effectiveUserId:p,signInWithMagicLink:_,signInWithPassword:w,signInWithGoogle:v,signInWithTwitter:k,verify2FA:N,setIsTrustedDevice:S,isAdmin:m,userProfile:h,lineUser:g,isLineAuthenticated:y}),[s,n,l,E,c,p,_,w,v,k,N,S,m,h,g,y]);return t.jsx(K.Provider,{value:P,children:e})},Z=()=>{const e=i.useContext(K);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ee=i.createContext({isMaintenanceActive:!1,maintenanceInfo:null,loading:!0,error:null,clientIP:null,isIPWhitelisted:!1,refreshMaintenanceStatus:async()=>{}}),se=({children:e})=>{const[s,a]=i.useState(!1),[n,r]=i.useState(null),[l,o]=i.useState(!0),[c,d]=i.useState(null),[m,x]=i.useState(null),[h,u]=i.useState(!1),p=i.useCallback(async()=>{try{x("127.0.0.1"),u(!0)}catch(e){x("127.0.0.1"),u(!0)}},[]),j=i.useCallback(async()=>{try{let e=H.from("maintenance_schedules").select("*").eq("is_active",!0).is("dog_park_id",null).order("start_time",{ascending:!1}).limit(1),{data:s,error:t}=await e;if(t&&"object"==typeof t&&"42703"===t.code){const e=await H.from("maintenance_schedules").select("*").eq("status","active").order("start_date",{ascending:!1}).limit(1);s=e.data,t=e.error}if(t)throw t;if(s&&s.length>0){const e=s[0],t=e.start_time??e.start_date??null,n=e.end_time??e.end_date??null,i=e.is_emergency??!1;a(!0),r({id:e.id,title:e.title??e.name??"メンテナンス",message:e.message??e.description??"",start_time:t,end_time:n,is_emergency:!!i})}else a(!1),r(null)}catch(e){a(!1),r(null)}},[]),g=i.useCallback(async()=>{o(!0);try{await j()}finally{o(!1)}},[j]);i.useEffect(()=>{(async()=>{o(!0);try{await p(),await j()}finally{o(!1)}})()},[p,j]);const f={isMaintenanceActive:s,maintenanceInfo:n,loading:l,error:c,clientIP:m,isIPWhitelisted:h,refreshMaintenanceStatus:g};return t.jsx(ee.Provider,{value:f,children:e})},te=()=>{const e=i.useContext(ee);if(!e)throw new Error("useMaintenance must be used within a MaintenanceProvider");return e},ae=i.forwardRef(({children:e,className:s="",onClick:a,elevation:n="md",rounded:r="lg",border:i=!1,hoverEffect:l=!1,as:o="div",...c},d)=>{const m=i?"border border-gray-200":"",x=l?"hover:shadow-lg transition-shadow duration-300":"",h=a?"cursor-pointer":"";return t.jsx(o,{ref:d,className:`bg-white ${{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"}[n]} ${{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"}[r]} ${m} ${x} ${h} ${s}`,onClick:a,...c,children:e})});function ne({title:e="ドッグパークJP",description:s="愛犬とのお散歩をもっと楽しく。全国のドッグランを簡単に検索・予約できるサービスです。",canonicalUrl:a,ogType:n="website",ogImage:r="https://dogparkjp.com/og-image.jpg"}){const i="ドッグパークJP"===e?e:`${e} | ドッグパークJP`;return t.jsxs(g,{children:[t.jsx("title",{children:i}),t.jsx("meta",{name:"description",content:s}),a&&t.jsx("link",{rel:"canonical",href:a}),t.jsx("meta",{property:"og:type",content:n}),t.jsx("meta",{property:"og:title",content:i}),t.jsx("meta",{property:"og:description",content:s}),t.jsx("meta",{property:"og:image",content:r}),a&&t.jsx("meta",{property:"og:url",content:a}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:title",content:i}),t.jsx("meta",{name:"twitter:description",content:s}),t.jsx("meta",{name:"twitter:image",content:r}),t.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),t.jsx("meta",{httpEquiv:"Content-Language",content:"ja"}),t.jsx("meta",{name:"theme-color",content:"#3B82F6"})]})}function re(){return t.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[t.jsx(ne,{title:"ドッグラン運営の注意事項",description:"運営にあたっての重要な注意事項"}),t.jsx("h1",{className:"text-2xl font-bold mb-4",children:"ドッグラン運営の注意事項"}),t.jsxs(ae,{className:"p-6 space-y-4",children:[t.jsx("p",{children:"運営開始前に、以下の事項を必ずご確認ください。"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[t.jsxs("li",{children:["万が一、事故やトラブルが発生した場合は、",t.jsx("span",{className:"font-semibold",children:"早急に現場へ向かい対応"}),"してください。"]}),t.jsxs("li",{children:[t.jsx("span",{className:"font-semibold",children:"ウンチ等の廃棄用ゴミ箱の設置は必須"}),"です。定期的に袋を交換し、衛生管理を徹底してください。"]}),t.jsxs("li",{children:["施設内での",t.jsx("span",{className:"font-semibold",children:"除草剤の使用は禁止"}),"です。手作業や安全な方法での雑草管理をお願いします。"]}),t.jsxs("li",{children:["ワンちゃんが飲み込んでしまいそうな小さな物が落ちていないか、",t.jsx("span",{className:"font-semibold",children:"定期巡回"}),"してください。"]}),t.jsxs("li",{children:["フェンスや設備に",t.jsx("span",{className:"font-semibold",children:"突起物・鋭利な箇所が無いか"}),"を点検し、怪我の恐れがある箇所は速やかに是正してください。"]}),t.jsxs("li",{children:["フェンスは",t.jsx("strong",{children:"金属製または樹脂等の丈夫な素材"}),"を使用し、",t.jsx("strong",{children:"ネット等は使用禁止"}),"としてください。",t.jsx("br",{}),"高さは",t.jsx("strong",{children:"1m20cm以上"}),"を目安とし、",t.jsx("strong",{children:"下側に15cm以上の隙間が生じない"}),"構造にしてください。"]}),t.jsxs("li",{children:["入退場口は",t.jsx("strong",{children:"必ず二重扉"}),"（前室）とし、",t.jsx("strong",{children:"外側はスマートロック付きの扉"}),"を設置してください。"]}),t.jsxs("li",{children:["エリア分けの目安：",t.jsx("strong",{children:"大型犬は10kg以上"}),"／",t.jsx("strong",{children:"小型犬は10kg以下"}),"で区分し、混雑時は安全上の配慮を優先してください。"]}),t.jsxs("li",{children:["施設内の見やすい場所に",t.jsx("strong",{children:"緊急連絡先"}),"（運営者名・電話番号）を必ず掲示してください。"]})]}),t.jsx("p",{className:"text-sm text-gray-600",children:"上記は最低限の事項です。安全で快適な運営のため、随時点検・改善をお願いします。"})]}),t.jsx("div",{className:"mt-6",children:t.jsx(o,{to:"/my-parks-management",className:"text-blue-700 hover:text-blue-900 underline",children:"管理中ドッグラン一覧へ戻る"})})]})}function ie(){const e=c(),[s,a]=i.useState("/"),{user:n,lineUser:r,effectiveUserId:l}=Z(),d=n?.id||r?.id||l,[m,x]=i.useState(0),[h,u]=i.useState(0);i.useEffect(()=>{const s=e.pathname.split("/")[1];a(s?`/${s}`:"/")},[e]),i.useEffect(()=>{let e=!0;const s=async()=>{if(d)try{const[s,t]=await Promise.all([H.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",d).eq("read",!1),H.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",d).eq("read",!1)]);e&&(x(s?.data||0),u(t?.data||0))}catch{e&&(x(0),u(0))}else e&&(x(0),u(0))};if(s(),!d)return()=>{e=!1};const t=H.channel("bn_notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${d}`},()=>{s()}).subscribe(),a=H.channel("bn_messages").on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`receiver_id=eq.${d}`},()=>{s()}).subscribe();return()=>{e=!1;try{t.unsubscribe()}catch{}try{a.unsubscribe()}catch{}}},[d]);const p=[{path:"/",label:"ホーム",icon:f,badge:0},{path:"/parks",label:"ドッグラン",icon:y,badge:0},{path:"/access-control",label:"入退場",icon:b,badge:0},{path:"/community",label:"コミュニティ",icon:_,badge:m+h},{path:"/dashboard",label:"マイページ",icon:w,badge:0}];return t.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden",children:[t.jsx("div",{className:"flex justify-around items-center h-16",children:p.map(e=>{const a=e.icon,n="/"===(r=e.path)?"/"===s:s.startsWith(r);var r;return t.jsxs(o,{to:e.path,className:"flex flex-col items-center justify-center w-full h-full no-underline hover:no-underline relative "+(n?"text-blue-600":"text-gray-500"),children:[t.jsxs("div",{className:"relative",children:[t.jsx(a,{className:"w-6 h-6 "+(n?"text-blue-600":"text-gray-500")}),e.badge>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] rounded-full min-w-[16px] h-[16px] px-1 flex items-center justify-center",children:e.badge>9?"9+":e.badge})]}),t.jsx("span",{className:"text-xs mt-1",children:e.label})]},e.path)})}),t.jsx("div",{className:"h-safe-bottom bg-white"})]})}function le(){const{isAuthenticated:e}=Z(),s=(new Date).getFullYear();return t.jsx("footer",{className:"bg-gray-900 text-white py-16 pb-28 md:pb-16",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[t.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx(v,{className:"h-8 w-8 text-blue-400 mr-2"}),t.jsx("h3",{className:"text-xl font-bold",children:"ドッグパークJP"})]}),t.jsx("p",{className:"text-gray-400 leading-relaxed",children:"愛犬とのお散歩をもっと楽しく。 全国のドッグランを簡単に検索・予約できるサービスです。"}),t.jsx("div",{className:"mt-4",children:t.jsx("a",{href:"https://line.me/R/ti/p/%40662udgcy",target:"_blank",rel:"noopener noreferrer","aria-label":"公式LINEに登録",className:"inline-flex items-center px-4 py-2 rounded-lg bg-[#06C755] hover:bg-[#05b34d] text-white font-semibold shadow",children:"公式LINEに登録"})})]}),t.jsxs("div",{children:[e&&t.jsx(o,{to:"/inquiry",className:"block w-full text-center bg-gradient-to-r from-pink-500 to-red-500 hover:from-pink-600 hover:to-red-600 text-white font-bold py-2 rounded-lg shadow mb-3",children:"要望・お問い合わせはこちら"}),t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"サービス"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(o,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"ホーム"})}),t.jsx("li",{children:t.jsx(o,{to:"/parks",className:"text-gray-400 hover:text-white transition-colors",children:"ドッグラン一覧"})}),t.jsx("li",{children:t.jsx(o,{to:"/rules",className:"text-gray-400 hover:text-white transition-colors",children:"利用ルール"})}),t.jsx("li",{children:t.jsx(o,{to:"/petshop",className:"text-gray-400 hover:text-white transition-colors",children:"ペットショップ"})}),t.jsx("li",{children:t.jsx(o,{to:e?"/subscription-intro":"/login",className:"text-gray-400 hover:text-white transition-colors",children:"サブスクリプション"})}),t.jsx("li",{children:t.jsx(o,{to:"/news",className:"text-gray-400 hover:text-white transition-colors",children:"新着情報"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ご利用者様向け"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(o,{to:"/register",className:"text-gray-400 hover:text-white transition-colors",children:"新規登録"})}),t.jsx("li",{children:t.jsx(o,{to:"/liff/login",className:"text-gray-400 hover:text-white transition-colors",children:"ログイン"})}),t.jsx("li",{children:t.jsx(o,{to:"/dog-registration",className:"text-gray-400 hover:text-white transition-colors",children:"ワンちゃん登録"})}),t.jsx("li",{children:t.jsx(o,{to:e?"/access-control":"/login",className:"text-gray-400 hover:text-white transition-colors",children:"入場管理"})}),t.jsx("li",{children:t.jsx(o,{to:e?"/community":"/login",className:"text-gray-400 hover:text-white transition-colors",children:"コミュニティ"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"事業者向け"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsxs(o,{to:"/park-registration-agreement",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[t.jsx(v,{className:"w-4 h-4 mr-2"}),"ドッグラン経営者募集"]})}),t.jsx("li",{children:t.jsxs(o,{to:"/facility-registration",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[t.jsx(k,{className:"w-4 h-4 mr-2"}),"ワンちゃんを行ける施設オーナー募集"]})}),t.jsx("li",{children:t.jsxs(o,{to:"/sponsor-inquiry",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[t.jsx(N,{className:"w-4 h-4 mr-2"}),"スポンサー募集"]})})]})]})]}),t.jsx("hr",{className:"border-gray-700 my-8"}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[t.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["© ",s," ドッグパークJP. All rights reserved."]}),t.jsxs("div",{className:"flex space-x-6",children:[t.jsx(o,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"プライバシーポリシー"}),t.jsx(o,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"利用規約"}),t.jsx(o,{to:"/legal/tokushoho",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"特定商取引法に基づく表記"}),t.jsx(o,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"お問い合わせ"}),t.jsx("a",{href:"https://line.me/R/ti/p/%40662udgcy",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"公式LINE"})]})]})]})})}ae.displayName="Card";const oe=()=>t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 animate-scale-in",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]}),t.jsxs("div",{className:"mt-4 space-y-2",children:[t.jsx("div",{className:"h-3 bg-gray-200 rounded"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-4/6"})]})]})}),ce=()=>t.jsx("div",{className:"min-h-screen bg-gray-50 animate-fade-in",children:t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8 animate-slide-up",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}),t.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((e,s)=>t.jsx("div",{className:"animate-scale-in",style:{animationDelay:100*s+"ms"},children:t.jsx(oe,{})},s))})]})}),de=()=>t.jsx("div",{className:"min-h-screen bg-gray-50 animate-fade-in",children:t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[t.jsxs("div",{className:"mb-6 animate-slide-up",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:[...Array(8)].map((e,s)=>t.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm animate-scale-in",style:{animationDelay:80*s+"ms"},children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-32 bg-gray-200 rounded mb-3"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-3"}),t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"})]})},s))})]})}),me=()=>t.jsx("div",{className:"min-h-screen bg-gray-50 animate-fade-in",children:t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[t.jsx("div",{className:"mb-8 animate-slide-up",children:t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})}),t.jsx("div",{className:"grid gap-4 md:grid-cols-3 mb-8",children:[...Array(3)].map((e,s)=>t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm animate-scale-in",style:{animationDelay:150*s+"ms"},children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-3"}),t.jsx("div",{className:"h-12 bg-gray-200 rounded w-3/4"})]})},s))}),t.jsx("div",{className:"grid gap-6 lg:grid-cols-2",children:[...Array(4)].map((e,s)=>t.jsx("div",{className:"animate-scale-in",style:{animationDelay:120*(s+3)+"ms"},children:t.jsx(oe,{})},s))})]})});function xe(){const{user:e}=Z(),[s,t]=i.useState(null),[a,n]=i.useState(!0),[r,l]=i.useState(null),[o,c]=i.useState(!1);i.useEffect(()=>{e?d():(t(null),n(!1),c(!1))},[e]);const d=async()=>{try{n(!0),l(null);let{data:e,error:s}=await H.from("stripe_user_subscriptions").select("customer_id, subscription_id, status, price_id, current_period_start, current_period_end, cancel_at_period_end, payment_method_brand, payment_method_last4").maybeSingle();if(s||!e){const{data:e}=await H.from("stripe_customers").select("customer_id").maybeSingle();if(e?.customer_id){const{data:s}=await H.from("stripe_subscriptions").select("customer_id, subscription_id, status, price_id, current_period_start, current_period_end, cancel_at_period_end, payment_method_brand, payment_method_last4").eq("customer_id",e.customer_id).maybeSingle();if(s)return t(s),void c("paused"===s.status)}t(null),c(!1)}else t(e),c("paused"===e.status)}catch(e){l(e.message||"サブスクリプションの取得に失敗しました")}finally{n(!1)}},m=e=>e?new Date(1e3*e).toLocaleDateString("ja-JP"):null;return{subscription:s,isActive:"active"===s?.status||"trialing"===s?.status,isPaused:o,loading:a,error:r,refresh:d,currentPeriodEnd:m(s?.current_period_end??null),currentPeriodStart:m(s?.current_period_start??null),paymentMethod:s?.payment_method_last4?`${s.payment_method_brand} **** ${s.payment_method_last4}`:null,willCancel:s?.cancel_at_period_end}}const he=e=>{if(!e)return"不明なエラーが発生しました";if("string"==typeof e)return e;if(e&&"object"==typeof e&&"message"in e){const s=e;if("PGRST116"===s.code)return"データが見つかりません。Netlify の環境変数設定を確認してください。";if("PGRST301"===s.code)return"データベース接続エラー。Netlify Supabase Extension の設定を確認してください。";switch(s.message){case"Invalid API key":return"API キーが無効です。Netlify の環境変数 VITE_SUPABASE_ANON_KEY を確認してください。";case"Invalid URL":return"データベース URL が無効です。Netlify の環境変数 VITE_SUPABASE_URL を確認してください。";case"Network error":return"ネットワークエラーが発生しました。インターネット接続を確認してください。";case"Authentication required":return"認証が必要です。ログインしてください。";default:return s.message||"不明なエラーが発生しました"}}return"不明なエラーが発生しました"},ue=async(e,s={})=>{const{retries:t=0,timeout:a=5e3}=s;for(let r=0;r<=t;r++)try{const s=new AbortController,t=setTimeout(()=>s.abort(),a),n=await e();return clearTimeout(t),{...n,isOffline:!1}}catch(n){if(r===t){const e=n instanceof Error&&(n.message.includes("Network")||n.message.includes("fetch")||n.message.includes("AbortError"));return{data:null,error:n,isOffline:e}}await new Promise(e=>setTimeout(e,1e3*Math.pow(2,r)))}return{data:null,error:new Error("Max retries exceeded"),isOffline:!1}},pe=(e,s,t)=>{(new Date).toISOString()},je=i.lazy(()=>j(()=>import("./PWADebugPanel-CKYxfb2S.js"),[])),ge=i.memo(function(){const{user:e,logout:s,isAdmin:a,effectiveUserId:n}=Z(),[r,l]=i.useState(null),c=d(),[m,x]=i.useState(""),[h,u]=i.useState(0),[p,j]=i.useState(0),{isActive:g}=xe(),[f,y]=i.useState(!1),[b,_]=i.useState(!1),[w,v]=i.useState(!1),[k,N]=i.useState(!1),D=i.useRef(null),R=i.useCallback(()=>{const e=document.getElementById("pwa-install-button");e&&e.click()},[]);i.useEffect(()=>{_(window.matchMedia("(display-mode: standalone)").matches);const e=()=>{y(!0)},s=()=>{y(!1),_(!0)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",s),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",s)}},[]),i.useEffect(()=>{let e=!0;return(async()=>{try{const s=await X();e&&l(s)}catch{e&&l(null)}})(),()=>{e=!1}},[]),i.useEffect(()=>{const e=e=>{k&&D.current&&!D.current.contains(e.target)&&N(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[k]);const L=Boolean(e||r||n),T=i.useCallback(async()=>{if(r?.display_name)x(r.display_name);else if(e)try{const s=await ue(()=>H.from("profiles").select("name").eq("id",e.id).maybeSingle());if(s.error&&"PGRST116"!==s.error.code&&pe("error",0,(s.error,e.id)),s.data?.name)x(s.data.name);else{const s=e.user_metadata?.name||e.email?.split("@")[0]||"";s&&x(s)}}catch(s){pe("error",0,e.id)}},[e,r]),O=i.useCallback(async()=>{if(e)try{const s=await ue(()=>H.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e?.id||n).eq("read",!1));u(s.data||0)}catch(s){pe("error",0,e.id)}},[e]),C=i.useCallback(async()=>{try{const s=e?.id||n;if(!s)return void j(0);const t=await ue(()=>H.from("cart_items").select("*",{count:"exact",head:!0}).eq("user_id",s));j(t.data||0)}catch(s){pe("error")}},[e,n]);i.useEffect(()=>{e?(T(),O(),C()):r?(x(r.display_name||""),u(0),C()):(x(""),u(0),j(0))},[e,r,a,T,O,C]);const z=i.useCallback(async()=>{try{await async function(){try{await fetch("/auth/logout",{method:"POST",credentials:"include"})}catch{}}(),await s(),window.location.assign("/"),c("/")}catch(e){pe("error")}},[s,c]);return t.jsxs(t.Fragment,{children:[t.jsx("style",{children:"\n        @keyframes logoSlideIn {\n          0% {\n            transform: translateX(-100px) rotate(-180deg);\n            opacity: 0;\n          }\n          50% {\n            transform: translateX(10px) rotate(10deg);\n          }\n          100% {\n            transform: translateX(0) rotate(0deg);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes textReveal {\n          0% {\n            transform: translateY(20px);\n            opacity: 0;\n            letter-spacing: 0.3em;\n          }\n          50% {\n            letter-spacing: 0.1em;\n          }\n          100% {\n            transform: translateY(0);\n            opacity: 1;\n            letter-spacing: normal;\n          }\n        }\n        \n        @keyframes jpPop {\n          0% {\n            transform: scale(0) rotate(180deg);\n            opacity: 0;\n          }\n          50% {\n            transform: scale(1.2) rotate(10deg);\n          }\n          100% {\n            transform: scale(1) rotate(0deg);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes subtitleFade {\n          0% {\n            transform: translateX(-20px);\n            opacity: 0;\n          }\n          100% {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n        \n        .navbar-logo-icon {\n          animation: logoSlideIn 0.8s ease-out forwards !important;\n          animation-duration: 0.8s !important;\n          animation-iteration-count: 1 !important;\n        }\n        \n        .navbar-text-dogpark {\n          animation: textReveal 0.6s ease-out 0.3s forwards !important;\n          animation-duration: 0.6s !important;\n          animation-delay: 0.3s !important;\n          animation-iteration-count: 1 !important;\n          opacity: 0;\n        }\n        \n        .navbar-text-jp {\n          animation: jpPop 0.5s ease-out 0.7s forwards !important;\n          animation-duration: 0.5s !important;\n          animation-delay: 0.7s !important;\n          animation-iteration-count: 1 !important;\n          opacity: 0;\n          display: inline-block;\n        }\n        \n        .navbar-subtitle-text {\n          animation: subtitleFade 0.6s ease-out 1s forwards !important;\n          animation-duration: 0.6s !important;\n          animation-delay: 1s !important;\n          animation-iteration-count: 1 !important;\n          opacity: 0;\n        }\n        "}),t.jsx("nav",{className:"bg-white shadow-lg sticky top-0 z-50",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsxs(o,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer group no-underline hover:no-underline","aria-label":"ドッグパークJP ホーム",children:[t.jsx("div",{className:"navbar-logo-icon",children:t.jsx("img",{src:"/icons/icon_android_48x48.png",alt:"ドッグパーク",className:"w-12 h-12",onError:e=>{e.target.style.display="none";const s=e.target.parentElement;if(s){const t=document.createElement("div");t.className="w-12 h-12 bg-gradient-to-br from-blue-500 to-green-400 rounded-full flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",t.innerHTML='<svg class="h-7 w-7 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M18,4C16.29,4 15.25,4.33 14.65,4.61C13.88,4.23 13,4 12,4C11,4 10.12,4.23 9.35,4.61C8.75,4.33 7.71,4 6,4C3,4 1,12 1,14C1,14.83 2.32,15.59 4.14,15.9C4.78,18.14 7.8,19.85 11.5,20V15.72C10.91,15.35 10,14.68 10,14C10,13 11,12 12,12C13,12 14,13 14,14C14,14.68 13.09,15.35 12.5,15.72V20C16.2,19.85 19.22,18.14 19.86,15.9C21.68,15.59 23,14.83 23,14C23,12 21,4 18,4Z"/></svg>',s.replaceChild(t,e.target)}}})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{className:"text-xl font-bold leading-tight",children:[t.jsx("span",{className:"navbar-text-dogpark text-gray-800",children:"ドッグパーク"}),t.jsx("span",{className:"navbar-text-jp text-blue-600 ml-1",children:"JP"})]}),t.jsx("span",{className:"navbar-subtitle-text text-xs text-gray-500 leading-none",children:"愛犬との素敵な時間を"})]})]}),t.jsx("div",{className:"flex items-center space-x-4",children:L?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-gray-700 hidden md:inline-block",children:["こんにちは、",m||"ユーザー","さん",g&&t.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[t.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),t.jsx("path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6"})]}),"サブスク会員"]})]}),t.jsx(o,{to:"/dashboard",className:"text-gray-600 hover:text-blue-600 transition-colors hidden md:inline-block no-underline hover:no-underline",children:"マイページ"}),t.jsx(o,{to:"/parks",className:"text-gray-600 hover:text-blue-600 transition-colors hidden md:inline-block no-underline hover:no-underline",children:"ドッグラン一覧"}),t.jsx(o,{to:"/petshop",className:"text-gray-600 hover:text-green-600 transition-colors hidden md:inline-block no-underline hover:no-underline",children:"ペットショップ"}),t.jsxs(o,{to:"/community",className:"relative text-gray-600 hover:text-blue-600 transition-colors no-underline hover:no-underline","aria-label":"通知 "+(h>0?`${h}件の未読通知があります`:""),children:[t.jsx(S,{className:"h-5 w-5","aria-hidden":"true"}),h>0&&t.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center","aria-hidden":"true",children:h>9?"9+":h})]}),t.jsxs(o,{to:"/petshop",className:"relative text-gray-600 hover:text-green-600 transition-colors no-underline hover:no-underline","aria-label":"カート "+(p>0?`${p}点の商品があります`:""),children:[t.jsx(E,{className:"h-5 w-5","aria-hidden":"true","data-cart-target":"true"}),p>0&&t.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] rounded-full min-w-[18px] h-[18px] px-1 flex items-center justify-center","aria-hidden":"true",children:p>9?"9+":p})]}),f&&!b&&t.jsxs("button",{onClick:R,className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 transition-colors bg-blue-50 hover:bg-blue-100 px-2 py-1 rounded-md","aria-label":"アプリをインストール",children:[t.jsx(P,{className:"h-4 w-4","aria-hidden":"true"}),t.jsx("span",{className:"hidden lg:inline text-sm",children:"アプリ化"})]}),b&&t.jsxs("div",{className:"flex items-center space-x-1 text-green-600 bg-green-50 px-2 py-1 rounded-md",children:[t.jsx(P,{className:"h-4 w-4","aria-hidden":"true"}),t.jsx("span",{className:"hidden lg:inline text-sm",children:"PWA"})]}),!1,a&&t.jsxs(o,{to:"/admin",className:"flex items-center space-x-1 text-red-600 hover:text-red-700 transition-colors no-underline hover:no-underline","aria-label":"管理者ページ",children:[t.jsx(I,{className:"h-4 w-4","aria-hidden":"true"}),t.jsx("span",{className:"hidden md:inline",children:"管理者"})]}),t.jsxs("button",{onClick:()=>{z()},className:"flex items-center space-x-1 text-gray-600 hover:text-red-600 transition-colors","aria-label":"ログアウト",children:[t.jsx(A,{className:"h-4 w-4","aria-hidden":"true"}),t.jsx("span",{className:"hidden md:inline",children:"ログアウト"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(o,{to:"/login?method=password",className:"text-gray-600 hover:text-blue-600 transition-colors no-underline hover:no-underline",children:"ログイン"}),t.jsx(o,{to:"/register",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors no-underline hover:no-underline",children:"新規登録"})]})})]})})}),t.jsx(i.Suspense,{fallback:t.jsx("div",{children:"Loading debug panel..."}),children:t.jsx(je,{isOpen:w,onClose:()=>v(!1)})})]})});function fe(){const{pathname:e}=c();return i.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const ye=new class{constructor(){s(this,"isDevelopment",!1),s(this,"isDebugEnabled",this.isDevelopment)}debug(e,...s){this.isDebugEnabled}info(e,...s){this.isDevelopment||this.isDebugEnabled}warn(e,...s){}error(e,...s){}};(()=>{{const e=()=>{};console.log=e,console.debug=e,console.info=e;const s=console.warn,t=console.error;console.warn=(...e)=>{const t=e[0]?.toString()||"";(t.includes("React")||t.includes("Warning")||t.includes("Error"))&&s(...e)},console.error=(...e)=>{t(...e)}}})();const be=e=>new Promise(s=>{const t=new Image;t.onload=()=>s(),t.onerror=()=>s(),t.src=e}),_e=({onComplete:e})=>{const s=d(),a=c(),{signInWithMagicLink:n,signInWithPassword:r,signInWithGoogle:l,signInWithTwitter:o}=Z(),[m,x]=i.useState(0),[h]=i.useState(!0),[u,p]=i.useState(!1),[j,g]=i.useState(""),[f,y]=i.useState(""),[b,_]=i.useState(""),[w,v]=i.useState(!1),[k,N]=i.useState(!0),[S,E]=i.useState(.1),[P,I]=i.useState(.3),[A,M]=i.useState(0),[F,W]=i.useState(!1),q=i.useRef(null),U=i.useRef(null),[$,B]=i.useState(0),[G,J]=i.useState(0),[X,H]=i.useState([]),[Y,K]=i.useState(!0),Q=" さあ！ワンちゃんと",ee=" 冒険に出かけましょう",[se,te]=i.useState(!1),[ae,ne]=i.useState(!1),[re,ie]=i.useState(!1),[le,oe]=i.useState(()=>new Array(10).fill(!1)),[ce,de]=i.useState(()=>new Array(11).fill(!1)),me=new URLSearchParams(a.search);me.get("redirect");const xe=me.get("message");i.useCallback(()=>{te(!0),setTimeout(()=>ne(!0),80),ie(!0)},[]);const he=i.useCallback(()=>{const e=Date.now(),s=()=>{const t=Date.now()-e,a=Math.min(t/3e3,1),n=a<.5?2*a*a:1-Math.pow(-2*a+2,3)/2;E(.1+.9*n);I(.3+.7*n),a<1?requestAnimationFrame(s):setTimeout(()=>{ue()},0)};requestAnimationFrame(s)},[]),ue=i.useCallback(()=>{const e=Date.now(),s=()=>{const t=Date.now()-e,a=Math.min(t/400,1);let n;if(a<.1)n=10*a;else{const e=(a-.1)/.9;n=1-Math.pow(e,2)}if(M(n),a<1)requestAnimationFrame(s);else{M(0);let e=0;const s=()=>{if(e<10)oe(s=>{const t=[...s];return t[e]=!0,t}),e++,setTimeout(s,60);else{let e=0;const s=()=>{e<11?(de(s=>{const t=[...s];return t[e]=!0,t}),e++,setTimeout(s,60)):setTimeout(()=>{W(!0)},100)};s()}};s()}};requestAnimationFrame(s)},[10,11]);i.useEffect(()=>{try{if("1"===localStorage.getItem("skipSplashOnce"))return localStorage.removeItem("skipSplashOnce"),void e()}catch{}setTimeout(()=>{const e=()=>{x(s=>{const t=Math.min(s+.02,1);return t<1?requestAnimationFrame(e):setTimeout(he,500),t})};requestAnimationFrame(e)},800)},[he]);const pe=i.useCallback(async(e,s)=>{let t=0,a=0;const n=e.length,r=Array.from({length:Math.min(1,n)},()=>(async()=>{for(;t<n;){const i=t++,l=e[i];try{await l.loader()}catch(r){}finally{a++,s(a,n),await new Promise(e=>setTimeout(e,120))}}})());await Promise.all(r)},[]);i.useEffect(()=>{let e=!0;const s=Date.now();return(async()=>{if(!e)return;const t=[{name:"Splash",loader:()=>be("/images/splash-dog-running.webp")},{name:"Passport",loader:()=>be("/images/passport-watermark.webp")},{name:"Icon192",loader:()=>be("/icons/icon_android_192x192.png")},{name:"Icon144",loader:()=>be("/icons/icon_android_144x144.png")},{name:"Favicon",loader:()=>be("/favicon.svg")}];["/login"].forEach(e=>(e=>{try{const s=document.createElement("link");s.rel="prefetch",s.href=e,document.head.appendChild(s)}catch{}})(e));const a=[...t];H(a.map(e=>e.name));let n=0;await pe(a,(s,t)=>{if(!e)return;const a=Math.max(n,Math.round(s/t*100));n=a,B(a),J(a)});const r=Date.now()-s;r<3500&&await new Promise(e=>setTimeout(e,3500-r)),e&&K(!1)})(),()=>{e=!1}},[pe]),i.useEffect(()=>{},[]);return t.jsxs("div",{className:"fixed inset-0 z-[9999] overflow-y-auto",style:{background:"linear-gradient(135deg, #E8F4FD 0%, #F0F8FF 25%, #FFF8E1 50%, #F3E5F5 75%, #E1F5FE 100%)"},children:[t.jsx("div",{className:"fixed inset-0 z-[10000] bg-white pointer-events-none transition-opacity duration-100",style:{opacity:A,mixBlendMode:"screen"}}),t.jsx("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@700;800;900&display=swap');\n        \n        @keyframes logoSlideIn {\n          0% {\n            transform: translateX(-100px) rotate(-180deg);\n            opacity: 0;\n          }\n          50% {\n            transform: translateX(10px) rotate(10deg);\n          }\n          100% {\n            transform: translateX(0) rotate(0deg);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes textReveal {\n          0% {\n            transform: translateY(20px);\n            opacity: 0;\n            letter-spacing: 0.3em;\n          }\n          50% {\n            letter-spacing: 0.1em;\n          }\n          100% {\n            transform: translateY(0);\n            opacity: 1;\n            letter-spacing: normal;\n          }\n        }\n        \n        @keyframes jpPop {\n          0% {\n            transform: scale(0) rotate(180deg);\n            opacity: 0;\n          }\n          50% {\n            transform: scale(1.2) rotate(10deg);\n          }\n          100% {\n            transform: scale(1) rotate(0deg);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes subtitleFade {\n          0% {\n            transform: translateX(-20px);\n            opacity: 0;\n          }\n          100% {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n        \n        /* スプラッシュスクリーンのアニメーションは常に有効にする */\n        .logo-icon {\n          animation: logoSlideIn 0.8s ease-out forwards !important;\n          animation-duration: 0.8s !important;\n          animation-iteration-count: 1 !important;\n        }\n        \n        .text-dogpark {\n          animation: textReveal 0.6s ease-out 0.3s forwards !important;\n          animation-duration: 0.6s !important;\n          animation-delay: 0.3s !important;\n          animation-iteration-count: 1 !important;\n          opacity: 0;\n        }\n        \n        .text-jp {\n          animation: jpPop 0.5s ease-out 0.7s forwards !important;\n          animation-duration: 0.5s !important;\n          animation-delay: 0.7s !important;\n          animation-iteration-count: 1 !important;\n          opacity: 0;\n          display: inline-block;\n        }\n        \n        .subtitle-text {\n          animation: subtitleFade 0.6s ease-out 1s forwards !important;\n          animation-duration: 0.6s !important;\n          animation-delay: 1s !important;\n          animation-iteration-count: 1 !important;\n          opacity: 0;\n        }\n\n        /* ロゴタイトルに合わせた挙動: それぞれ独立に出現 */\n        .hidden-left { transform: translate3d(-120%,0,0); opacity: 0; }\n        .hidden-right { transform: translate3d(120%,0,0); opacity: 0; }\n        .hidden-up { transform: translate3d(0,24px,0); opacity: 0; }\n\n        .anim-left { animation: animLeft 20s cubic-bezier(0.18, 0.9, 0.2, 1) forwards; }\n        .anim-right { animation: animRight 20s cubic-bezier(0.18, 0.9, 0.2, 1) forwards; }\n        .anim-up { animation: animUp 20s cubic-bezier(0.18, 0.9, 0.2, 1) forwards; }\n\n        @keyframes animLeft {\n          0% { transform: translate3d(-120%,0,0); opacity: 0; }\n          70% { transform: translate3d(1.5%,0,0); opacity: 1; }\n          88% { transform: translate3d(0,-6px,0); }\n          100% { transform: translate3d(0,0,0); opacity: 1; }\n        }\n        @keyframes animRight {\n          0% { transform: translate3d(120%,0,0); opacity: 0; }\n          70% { transform: translate3d(-1.5%,0,0); opacity: 1; }\n          88% { transform: translate3d(0,-6px,0); }\n          100% { transform: translate3d(0,0,0); opacity: 1; }\n        }\n        @keyframes animUp {\n          0% { transform: translate3d(0,24px,0); opacity: 0; }\n          75% { transform: translate3d(0,-2px,0); opacity: 1; }\n          100% { transform: translate3d(0,0,0); opacity: 1; }\n        }\n        "}),t.jsxs("div",{className:"min-h-screen flex flex-col",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("img",{src:"/images/splash-dog-running.webp",alt:"走るワンちゃん",className:"w-full h-full object-cover transition-opacity duration-1000",style:{opacity:m,filter:`opacity(${P})`},onError:e=>{e.target.style.display="none";const s=e.target.parentElement;s&&(s.innerHTML='<div class="w-full h-full bg-gradient-to-br from-blue-200 to-green-200 flex items-center justify-center"><span class="text-8xl">🐕</span></div>')}}),t.jsx("div",{className:"absolute top-2 left-0 right-0 px-4 sm:px-6 z-[2]",children:t.jsx("div",{className:"mx-auto max-w-6xl",children:t.jsxs("div",{className:"inline-flex items-center bg-transparent",children:[t.jsx("div",{className:"logo-icon",children:t.jsx("img",{src:"/icons/icon_ios_180x180.png",alt:"ドッグパーク",className:"w-12 h-12 sm:w-16 sm:h-16",onError:e=>{e.target.style.display="none"}})}),t.jsxs("div",{className:"ml-3",children:[t.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 text-dogpark",children:["ドッグパーク",t.jsx("span",{className:"text-jp text-blue-600 ml-1",children:"JP"})]}),t.jsx("p",{className:"subtitle-text text-sm sm:text-lg text-gray-700 -mt-2",children:"愛犬との素敵な時間を"})]})]})})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 pb-4",children:t.jsx("div",{className:"text-center w-full pl-2",children:t.jsxs("div",{className:"space-y-2 px-4",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-black leading-tight tracking-wide",style:{fontFamily:'"M PLUS Rounded 1c", Zen Maru Gothic, sans-serif',textShadow:"0 0 10px rgba(255,255,255,0.9), 0 0 20px rgba(255,255,255,0.8), 0 0 30px rgba(255,255,255,0.6), 2px 2px 4px rgba(255,255,255,0.9), -2px -2px 4px rgba(255,255,255,0.9), 2px -2px 4px rgba(255,255,255,0.9), -2px 2px 4px rgba(255,255,255,0.9)",color:"#355E3B"},children:t.jsxs("span",{ref:q,className:"relative inline-block",children:[Q.split("").map((e,s)=>t.jsx("span",{className:"inline-block transition-opacity duration-150 "+(le[s]?"opacity-100":"opacity-0"),children:e},s)),t.jsx("svg",{className:"absolute left-0",style:{bottom:"-0.15em"},width:q.current?.offsetWidth||0,height:24,children:t.jsx("path",{d:`M0 12 Q ${.25*(q.current?.offsetWidth||0)} 24, ${.5*(q.current?.offsetWidth||0)} 12 Q ${.75*(q.current?.offsetWidth||0)} 0, ${q.current?.offsetWidth||0} 12`,fill:"none",stroke:"rgba(239, 68, 68, 0.5)",strokeWidth:12,strokeLinecap:"round",style:{strokeDasharray:1200,strokeDashoffset:F?0:1200,transition:"stroke-dashoffset 700ms ease-out 80ms"}})})]})}),t.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-black leading-tight tracking-wide",style:{fontFamily:'"M PLUS Rounded 1c", Zen Maru Gothic, sans-serif',textShadow:"0 0 10px rgba(255,255,255,0.9), 0 0 20px rgba(255,255,255,0.8), 0 0 30px rgba(255,255,255,0.6), 2px 2px 4px rgba(255,255,255,0.9), -2px -2px 4px rgba(255,255,255,0.9), 2px -2px 4px rgba(255,255,255,0.9), -2px 2px 4px rgba(255,255,255,0.9)",color:"#3C6E47"},children:t.jsxs("span",{ref:U,className:"relative inline-block",children:[ee.split("").map((e,s)=>t.jsx("span",{className:"inline-block transition-opacity duration-150 "+(ce[s]?"opacity-100":"opacity-0"),children:e},s)),t.jsx("svg",{className:"absolute left-0",style:{bottom:"-0.15em"},width:U.current?.offsetWidth||0,height:24,children:t.jsx("path",{d:`M0 12 Q ${.25*(U.current?.offsetWidth||0)} 24, ${.5*(U.current?.offsetWidth||0)} 12 Q ${.75*(U.current?.offsetWidth||0)} 0, ${U.current?.offsetWidth||0} 12`,fill:"none",stroke:"rgba(239, 68, 68, 0.5)",strokeWidth:12,strokeLinecap:"round",style:{strokeDasharray:1200,strokeDashoffset:F?0:1200,transition:"stroke-dashoffset 700ms ease-out 220ms"}})})]})})]})})}),Y&&t.jsxs("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 w-80 max-w-[90vw]",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-gray-400/50 rounded-full"}),t.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-gray-500 border-t-transparent rounded-full animate-spin"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:t.jsx(D,{className:"w-8 h-8 text-gray-600"})})]})}),t.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-2 shadow-lg",children:t.jsxs("div",{className:"relative bg-white/30 rounded-full h-8 overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400 to-blue-600 rounded-full transition-all duration-300 ease-out",style:{width:`${$}%`}}),t.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 transition-all duration-300 ease-out",style:{left:`calc(${G}% - 12px)`,transform:"translateY(-50%)"},children:t.jsx(D,{className:"w-6 h-6 text-gray-700 drop-shadow-md"})})]})}),t.jsxs("div",{className:"text-center mt-3",children:[t.jsxs("p",{className:"text-white text-sm font-medium",style:{textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:["準備中... ",Math.round($),"%"]}),t.jsx("p",{className:"text-white/80 text-xs mt-1",style:{textShadow:"0 1px 2px rgba(0,0,0,0.5)"},children:"アプリを最適化しています"})]})]})]}),!h&&t.jsxs("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 flex items-center space-x-3 text-white opacity-80",children:[t.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),t.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse",style:{animationDelay:"0.3s"}}),t.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse",style:{animationDelay:"0.6s"}}),t.jsx("span",{className:"ml-4 text-lg font-light",children:"準備中..."})]}),t.jsx("div",{className:`w-full transition-all duration-800 ${h?"opacity-100 translate-y-0":"opacity-0 translate-y-8"} ${h?"":"absolute top-full"}`,children:t.jsxs("div",{className:"max-w-md mx-auto p-4",children:[xe&&t.jsx("div",{className:"mb-6 p-4 bg-blue-50/80 backdrop-blur-sm border border-blue-200/50 rounded-xl",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(R,{className:"w-4 h-4 text-blue-600"})})}),t.jsx("div",{className:"ml-3",children:t.jsx("p",{className:"text-sm text-blue-800",children:decodeURIComponent(xe)})})]})}),t.jsxs("div",{className:"backdrop-blur-sm bg-white/90 shadow-xl border border-white/20 rounded-lg p-6",children:[t.jsxs("div",{className:"flex mb-6 bg-gray-100/50 p-1 rounded-lg",children:[t.jsxs("button",{type:"button",onClick:()=>N(!0),className:"flex-1 flex items-center justify-center py-2 px-4 rounded-md transition-all "+(k?"bg-blue-500 text-white shadow-sm":"text-blue-500 hover:bg-white/50"),children:[t.jsx(L,{className:"w-4 h-4 mr-2"}),"パスワード"]}),t.jsxs("button",{type:"button",onClick:()=>N(!1),className:"flex-1 flex items-center justify-center py-2 px-4 rounded-md transition-all "+(k?"text-blue-500 hover:bg-white/50":"bg-blue-500 text-white shadow-sm"),children:[t.jsx(T,{className:"w-4 h-4 mr-2"}),"Magic Link"]})]}),j&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50/80 backdrop-blur-sm border border-red-200/50 rounded-lg flex items-center",children:[t.jsx(O,{className:"w-5 h-5 text-red-500 mr-2 flex-shrink-0"}),t.jsx("span",{className:"text-sm text-red-700",children:j})]}),t.jsxs("div",{className:"min-h-[220px] flex flex-col justify-between",children:[t.jsxs("div",{className:"space-y-2 mb-2",children:[t.jsxs("button",{type:"button",onClick:async()=>{try{localStorage.setItem("skipSplashOnce","1"),localStorage.setItem("hasSeenSplash","true")}catch{}await l()},className:"w-full py-2 px-4 bg-white border border-gray-300 hover:bg-gray-50 text-gray-900 font-medium rounded-md transition-all flex items-center justify-center","aria-label":"Googleアカウントでログイン",children:[t.jsx("img",{src:"/icons/google.svg",alt:"",className:"w-5 h-5 mr-2"}),t.jsx("span",{className:"text-gray-900 font-semibold",children:"Googleアカウントでログイン"})]}),t.jsxs("button",{type:"button",onClick:async()=>{try{localStorage.setItem("skipSplashOnce","1"),localStorage.setItem("hasSeenSplash","true")}catch{}await o()},className:"w-full py-2 px-4 bg-black hover:bg-gray-900 text-white font-medium rounded-md transition-all flex items-center justify-center","aria-label":"X (Twitter) でログイン",children:[t.jsx("img",{src:"/icons/x.svg",alt:"",className:"w-5 h-5 mr-2"}),"X (Twitter) でログイン"]}),t.jsxs("button",{type:"button",onClick:()=>{try{localStorage.setItem("skipSplashOnce","1"),localStorage.setItem("hasSeenSplash","true")}catch{}window.location.assign("/liff/login")},className:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-md transition-all flex items-center justify-center","aria-label":"LINEでログイン（スプラッシュをスキップ）",children:[t.jsx("img",{src:"/icons/line.svg",alt:"",className:"w-5 h-5 mr-2"}),"LINEアカウントでログイン"]})]}),t.jsx("div",{className:"mb-4 text-center",children:t.jsx("button",{type:"button",onClick:()=>{try{localStorage.setItem("hasSeenSplash","true")}catch{}e()},className:"text-xs text-blue-600 hover:text-blue-700 underline",children:"今はスキップして先へ進む"})}),k?t.jsxs("form",{onSubmit:s=>{(async s=>{s.preventDefault(),p(!0),g("");try{const s=await r(f,b);s.success?(localStorage.setItem("lastUsedEmail",f),setTimeout(()=>{e()},100)):g(s.error||"ログインに失敗しました。もう一度お試しください。")}catch(t){ye.error("❌ Password login error:",t),g(t instanceof Error?t.message:"ログインに失敗しました。もう一度お試しください。")}finally{p(!1)}})(s)},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"メールアドレス"}),t.jsx("input",{id:"email",type:"email",value:f,onChange:e=>y(e.target.value),placeholder:"メールアドレスを入力",required:!0,disabled:u,className:"w-full px-3 py-2 bg-white/70 backdrop-blur-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"パスワード"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"password",type:w?"text":"password",value:b,onChange:e=>_(e.target.value),placeholder:"パスワードを入力",required:!0,disabled:u,className:"w-full px-3 py-2 bg-white/70 backdrop-blur-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10"}),t.jsx("button",{type:"button",onClick:()=>v(!w),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:u,children:w?t.jsx(C,{className:"w-4 h-4 text-gray-400"}):t.jsx(z,{className:"w-4 h-4 text-gray-400"})})]})]}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{type:"submit",disabled:u||!f||!b,className:"w-full py-2 px-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium rounded-md transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:u?"処理中...":"ログイン"})})]}):t.jsxs("form",{onSubmit:e=>{(async e=>{e.preventDefault(),p(!0),g("");try{const e=await n(f);e.success?(localStorage.setItem("lastUsedEmail",f),g("")):g(e.error||"Magic Linkの送信に失敗しました。もう一度お試しください。")}catch(s){ye.error("❌ Magic link error:",s),g(s instanceof Error?s.message:"Magic Linkの送信に失敗しました。もう一度お試しください。")}finally{p(!1)}})(e)},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"magic-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"メールアドレス"}),t.jsx("input",{id:"magic-email",type:"email",value:f,onChange:e=>y(e.target.value),placeholder:"メールアドレスを入力",required:!0,disabled:u,className:"w-full px-3 py-2 bg-white/70 backdrop-blur-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsx("div",{className:"h-[68px] flex items-end",children:t.jsx("p",{className:"text-xs text-gray-500 text-center w-full",children:"メールアドレスに送信されるリンクをクリックしてログインします"})}),t.jsx("div",{className:"mt-6",children:t.jsx("button",{type:"submit",disabled:u||!f,className:"w-full py-2 px-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium rounded-md transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:u?"送信中...":"メールを送信"})})]})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200/50",children:t.jsxs("p",{className:"text-center text-sm text-gray-600",children:["アカウントをお持ちでない方は"," ",t.jsxs("button",{onClick:()=>{try{localStorage.setItem("hasSeenSplash","true")}catch{}e(),s("/register")},className:"text-blue-500 hover:text-blue-700 underline font-medium inline-flex items-center",children:[t.jsx(V,{className:"w-4 h-4 mr-1"}),"こちらから新規登録"]})]})})]}),t.jsx("div",{className:"text-center mt-4",children:t.jsx("button",{onClick:()=>{try{localStorage.setItem("hasSeenSplash","true")}catch{}e()},className:"text-sm text-blue-500 hover:text-blue-700 underline","aria-label":"スプラッシュをスキップして本編へ進む",children:"スキップ"})})]})}),t.jsx("div",{className:"flex-shrink-0 text-center pb-6",children:t.jsx("div",{className:"text-sm text-gray-600 opacity-80",children:"© 2025 CAPAS Co., Ltd. All rights reserved."})})]})]})},we=l.lazy(()=>j(()=>import("./CampaignModal-BHgqfT7g.js"),[])),ve=l.lazy(()=>j(()=>import("./FloatingActionButton-Dlhff5Lc.js"),[])),ke=l.lazy(()=>j(()=>import("./Inquiry-Dll2xcJ0.js"),[])),Ne=l.lazy(()=>j(()=>import("./AdminInquiries-Bd9DCil9.js"),[])),Se=({children:e})=>{const{user:s,loading:a}=Z(),n=d(),r=c(),[l,o]=i.useState(null);return i.useEffect(()=>{if(a)return;if(s)return void o(!0);let e=!0;return(async()=>{const s=await X();if(e){if(s)try{if(!(await fetch("/line/exchange-supabase-session",{method:"POST",credentials:"include"})).ok)throw new Error("exchange failed")}catch{}if(o(Boolean(s)),!s){const e=encodeURIComponent(r.pathname+r.search);n(`/login?redirect=${e}`,{replace:!0})}}})(),()=>{e=!1}},[s,a,r.pathname,r.search,n]),a||null===l?t.jsx(ce,{}):s||l?t.jsx(t.Fragment,{children:e}):null},Ee=({children:e})=>{const{user:s,isAuthenticated:a,isAdmin:n,loading:r}=Z();return r?t.jsx(ce,{}):s&&a?n?t.jsx(t.Fragment,{children:e}):t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"アクセス拒否"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"管理者権限が必要です。"}),t.jsx(h,{to:"/dashboard",replace:!0})]})}):t.jsx(h,{to:"/liff/login",replace:!0})},Pe=l.lazy(()=>j(()=>import("./Home-DPQ7BsHk.js"),[]).then(e=>({default:e.Home}))),Ie=l.lazy(()=>j(()=>import("./Login-CnXVzi5V.js"),[]).then(e=>({default:e.Login}))),Ae=l.lazy(()=>j(()=>import("./Register-DTGZ4pUM.js"),[]).then(e=>({default:e.Register}))),De=l.lazy(()=>j(()=>import("./ForgotPassword-DBW39sVQ.js"),[]).then(e=>({default:e.ForgotPassword}))),Re=l.lazy(()=>j(()=>import("./ResetPassword-CBvfDjs9.js"),[])),Le=l.lazy(()=>j(()=>import("./Landing-CmcHbuIU.js"),[])),Te=l.lazy(()=>j(()=>import("./DogParkList-iadHnSvo.js"),[]).then(e=>({default:e.DogParkList}))),Oe=l.lazy(()=>j(()=>import("./DogParkDetail-CcdsY-oO.js"),[]).then(e=>({default:e.DogParkDetail}))),Ce=l.lazy(()=>j(()=>import("./DogParkRules-3u2MPjvE.js"),[]).then(e=>({default:e.DogParkRules}))),ze=l.lazy(()=>j(()=>import("./FacilityDetail-D6dQz3_z.js"),__vite__mapDeps([0])).then(e=>({default:e.FacilityDetail}))),Ve=l.lazy(()=>j(()=>import("./FacilityReserve-YxXlQcy-.js"),[])),Me=l.lazy(()=>j(()=>import("./PetShop-CfkNyzPA.js"),[]).then(e=>({default:e.PetShop}))),Fe=l.lazy(()=>j(()=>import("./Cart-Dhet9cIm.js"),[]).then(e=>({default:e.Cart}))),We=l.lazy(()=>j(()=>import("./Checkout-DBOuZVfD.js"),[]).then(e=>({default:e.Checkout}))),qe=l.lazy(()=>j(()=>import("./ProductDetail-ChXMPjtU.js"),[]).then(e=>({default:e.ProductDetail}))),Ue=l.lazy(()=>j(()=>import("./News-DnLAwOIW.js"),[]).then(e=>({default:e.News}))),$e=l.lazy(()=>j(()=>import("./NewsDetail-DPlmCdlm.js"),[]).then(e=>({default:e.NewsDetail}))),Be=l.lazy(()=>j(()=>import("./DogInfo-DyOqEjd0.js"),[])),Ge=l.lazy(()=>j(()=>import("./Breeds-D_1Cj6U7.js"),[]).then(e=>({default:e.Breeds}))),Je=l.lazy(()=>j(()=>import("./Care-D8H56zaL.js"),[]).then(e=>({default:e.Care}))),Xe=l.lazy(()=>j(()=>import("./Food-DEwV3Lq-.js"),[]).then(e=>({default:e.Food}))),He=l.lazy(()=>j(()=>import("./Training-DwUIOaYb.js"),[]).then(e=>({default:e.Training}))),Ye=l.lazy(()=>j(()=>import("./HealthManagement-aewi8Mzf.js"),[]).then(e=>({default:e.HealthManagement}))),Ke=l.lazy(()=>j(()=>import("./Walk-CIbyFu1n.js"),[]).then(e=>({default:e.Walk}))),Qe=l.lazy(()=>j(()=>import("./Community-qL-ZldXK.js"),[]).then(e=>({default:e.Community}))),Ze=l.lazy(()=>j(()=>import("./Contact-BRR7Mt1k.js"),[]).then(e=>({default:e.Contact}))),es=l.lazy(()=>j(()=>import("./AccessControl-Bg2RV8kq.js"),[]).then(e=>({default:e.AccessControl}))),ss=l.lazy(()=>j(()=>import("./SubscriptionIntro-Bx1QdFX_.js"),[]).then(e=>({default:e.SubscriptionIntro}))),ts=l.lazy(()=>j(()=>import("./InviteUnlock-BIV9XWif.js"),[])),as=l.lazy(()=>j(()=>import("./PaymentConfirmation-BvUGEy00.js"),[])),ns=l.lazy(()=>j(()=>import("./TermsOfService-D2D84FNG.js"),[]).then(e=>({default:e.TermsOfService}))),rs=l.lazy(()=>j(()=>import("./PrivacyPolicy-D074dwDY.js"),[]).then(e=>({default:e.PrivacyPolicy}))),is=l.lazy(()=>j(()=>import("./BusinessInformation-v0iES_JH.js"),[]).then(e=>({default:e.BusinessInformation}))),ls=l.lazy(()=>j(()=>import("./SponsorApplication-T-ZlNIcS.js"),[]).then(e=>({default:e.SponsorApplication}))),os=l.lazy(()=>j(()=>import("./SponsorInquiry-CFSUCuUf.js"),[])),cs=l.lazy(()=>j(()=>import("./LegalTokushoho-CYftrEkE.js"),[])),ds=l.lazy(()=>j(()=>import("./NotFound-QgE2qeJi.js"),[]).then(e=>({default:e.NotFound})));l.lazy(()=>j(()=>import("./TestPinGenerator-CR9poHwi.js"),[]));const ms=l.lazy(()=>j(()=>import("./UserDashboard-CdRo9b0L.js"),__vite__mapDeps([0]))),xs=l.lazy(()=>j(()=>import("./DogRegistration-WsHaIjaC.js"),__vite__mapDeps([0])).then(e=>({default:e.DogRegistration}))),hs=l.lazy(()=>j(()=>import("./DogManagement-BqN330UM.js"),__vite__mapDeps([0])).then(e=>({default:e.DogManagement}))),us=l.lazy(()=>j(()=>import("./DogProfile-DzDk9wpU.js"),[]).then(e=>({default:e.DogProfile}))),ps=l.lazy(()=>j(()=>import("./JPPassport-BG1NbiyU.js"),[]).then(e=>({default:e.JPPassport}))),js=l.lazy(()=>j(()=>import("./ProfileSettings-B1jcIodz.js"),[]).then(e=>({default:e.ProfileSettings}))),gs=l.lazy(()=>j(()=>import("./PaymentMethodSettings-BQ3ie07a.js"),[]).then(e=>({default:e.PaymentMethodSettings}))),fs=l.lazy(()=>j(()=>import("./DogParkHistory-BqMhZ8XL.js"),[]).then(e=>({default:e.DogParkHistory}))),ys=l.lazy(()=>j(()=>import("./LikedDogs-BOtipIej.js"),[]).then(e=>({default:e.LikedDogs}))),bs=l.lazy(()=>j(()=>import("./MyCoupons-D_hRBVXs.js"),[]).then(e=>({default:e.MyCoupons}))),_s=l.lazy(()=>j(()=>import("./MyReservations-p0Ms07B1.js"),[])),ws=l.lazy(()=>j(()=>import("./OrderHistory-3CF6UPbi.js"),[]).then(e=>({default:e.OrderHistory}))),vs=l.lazy(()=>j(()=>import("./PointsHistory-B7Rb0AYY.js"),[])),ks=l.lazy(()=>j(()=>import("./PhotoGallery-BAsLpaz2.js"),[])),Ns=l.lazy(()=>j(()=>import("./PrefBoard-BNhoArp9.js"),[])),Ss=l.lazy(()=>j(()=>import("./PrefThread-BB5uB2Nb.js"),[])),Es=l.lazy(()=>j(()=>import("./ParkReservation-1MNMjBlt.js"),[]).then(e=>({default:e.ParkReservation}))),Ps=l.lazy(()=>j(()=>import("./ParkRegistration-DoLrbwgT.js"),__vite__mapDeps([0]))),Is=l.lazy(()=>j(()=>import("./ParkRegistrationAgreement-Ch5KJBSv.js"),[])),As=l.lazy(()=>j(()=>import("./ParkRegistrationSecondStage-CCv7lFDS.js"),__vite__mapDeps([0])).then(e=>({default:e.ParkRegistrationSecondStage}))),Ds=l.lazy(()=>j(()=>import("./ParkManagement-uA3JlMRA.js"),__vite__mapDeps([0])).then(e=>({default:e.ParkManagement}))),Rs=l.lazy(()=>j(()=>import("./ParkEdit-BFDR6svm.js"),[])),Ls=l.lazy(()=>j(()=>import("./ParkPublishingSetup-BLumpGIi.js"),[]).then(e=>({default:e.ParkPublishingSetup}))),Ts=l.lazy(()=>j(()=>import("./FacilityRegistration-CKnfRq1H.js"),[])),Os=l.lazy(()=>j(()=>import("./FacilityEdit-A6ECeve0.js"),__vite__mapDeps([0]))),Cs=l.lazy(()=>j(()=>import("./OwnerPaymentSystem-EqSsQNDV.js"),[]).then(e=>({default:e.OwnerPaymentSystem}))),zs=l.lazy(()=>j(()=>import("./AdminDashboard-BlVxGGNR.js"),[]).then(e=>({default:e.AdminDashboard}))),Vs=l.lazy(()=>j(()=>import("./AdminUserManagement-ghmG93T2.js"),[]).then(e=>({default:e.AdminUserManagement}))),Ms=l.lazy(()=>j(()=>import("./AdminUserDetail-JA-v0Edy.js"),[]).then(e=>({default:e.AdminUserDetail}))),Fs=l.lazy(()=>j(()=>import("./AdminParkManagement-C_sQoltP.js"),[]).then(e=>({default:e.AdminParkManagement}))),Ws=l.lazy(()=>j(()=>import("./AdminReservationManagement-BtLxX35Z.js"),[]).then(e=>({default:e.AdminReservationManagement}))),qs=l.lazy(()=>j(()=>import("./AdminSalesManagement-DvPp8Iq6.js"),[]).then(e=>({default:e.AdminSalesManagement}))),Us=l.lazy(()=>j(()=>import("./AdminVaccineApproval-r-plDVxX.js"),[])),$s=l.lazy(()=>j(()=>import("./AdminFacilityApproval-DwOPIyZy.js"),[])),Bs=l.lazy(()=>j(()=>import("./AdminShopManagement-BPccofrQ.js"),[]).then(e=>({default:e.AdminShopManagement}))),Gs=l.lazy(()=>j(()=>import("./AdminRevenueReport-B3Q0U1o_.js"),[]).then(e=>({default:e.AdminRevenueReport}))),Js=l.lazy(()=>j(()=>import("./AdminNewsManagement-DB0Ktlza.js"),[]).then(e=>({default:e.AdminNewsManagement}))),Xs=l.lazy(()=>j(()=>import("./AdminSponsors-jSJlPZtz.js"),[]).then(e=>({default:e.AdminSponsors}))),Hs=l.lazy(()=>j(()=>import("./AdminSalesOverview-da_Z0e0m.js"),[])),Ys=l.lazy(()=>j(()=>import("./AdminOwnerPayoutDetail-D8jQmGnI.js"),[])),Ks=l.lazy(()=>j(()=>import("./AdminParkRevenueDetail-CoY4IhY2.js"),[])),Qs=l.lazy(()=>j(()=>import("./MyParksManagement-CAH6vZXD.js"),[]).then(e=>({default:e.MyParksManagement}))),Zs=l.lazy(()=>j(()=>import("./MyFacilitiesManagement-B191MI-0.js"),[]).then(e=>({default:e.MyFacilitiesManagement}))),et=({children:e})=>t.jsx(M,{children:t.jsx(G,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[t.jsx(ne,{}),t.jsx(ge,{}),t.jsx("main",{className:"flex-1",children:e}),t.jsx(le,{}),t.jsx(ie,{}),t.jsx(i.Suspense,{fallback:null,children:t.jsx(ve,{})})]})})}),st=()=>{const e=d(),s=c(),{isAuthenticated:a,user:n}=Z(),[r,l]=i.useState(()=>{if("/sponsor-application"===s.pathname||"/sponsor-inquiry"===s.pathname)return!1;return!localStorage.getItem("hasSeenSplash")}),[o,h]=i.useState(!1);i.useEffect(()=>{if(!localStorage.getItem("campaignModalShown")){const e=setTimeout(()=>{h(!0)},1e3);return()=>clearTimeout(e)}},[]);return t.jsxs(t.Fragment,{children:[r&&t.jsx(_e,{onComplete:()=>{localStorage.setItem("hasSeenSplash","true"),l(!1);const t=["/sponsor-inquiry","/sponsor-application","/contact","/about","/terms","/privacy","/business-information","/parks","/facilities","/products","/dog-info"].some(e=>s.pathname.startsWith(e));if(a&&n&&!t){const t=new URLSearchParams(s.search).get("redirect")||"/dashboard";e(t,{replace:!0})}}}),!r&&t.jsx(se,{children:t.jsxs(et,{children:[t.jsx(fe,{}),t.jsx(i.Suspense,{fallback:null,children:t.jsx(we,{isOpen:o,onClose:()=>{h(!1),localStorage.setItem("campaignModalShown","true")}})}),t.jsxs(m,{children:[t.jsx(x,{path:"/",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Pe,{})})}),t.jsx(x,{path:"/landing",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Le,{})})}),t.jsx(x,{path:"/login",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Ie,{})})}),t.jsx(x,{path:"/register",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Ae,{})})}),t.jsx(x,{path:"/forgot-password",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(De,{})})}),t.jsx(x,{path:"/reset-password",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Re,{})})}),t.jsx(x,{path:"/parks",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Te,{})})}),t.jsx(x,{path:"/parks/:id",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Oe,{})})}),t.jsx(x,{path:"/facilities/:id",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(ze,{})})}),t.jsx(x,{path:"/facilities/:id/reserve",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Ve,{})})}),t.jsx(x,{path:"/rules",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Ce,{})})}),t.jsx(x,{path:"/petshop",element:t.jsx(i.Suspense,{fallback:t.jsx(de,{}),children:t.jsx(Me,{})})}),t.jsx(x,{path:"/cart",element:t.jsx(i.Suspense,{fallback:t.jsx(de,{}),children:t.jsx(Fe,{})})}),t.jsx(x,{path:"/checkout",element:t.jsx(i.Suspense,{fallback:t.jsx(de,{}),children:t.jsx(We,{})})}),t.jsx(x,{path:"/products/:id",element:t.jsx(i.Suspense,{fallback:t.jsx(de,{}),children:t.jsx(qe,{})})}),t.jsx(x,{path:"/news",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Ue,{})})}),t.jsx(x,{path:"/news/:newsId",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx($e,{})})}),t.jsx(x,{path:"/dog-info",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Be,{})})}),t.jsx(x,{path:"/dog-info/breeds",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Ge,{})})}),t.jsx(x,{path:"/dog-info/care",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Je,{})})}),t.jsx(x,{path:"/dog-info/food",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Xe,{})})}),t.jsx(x,{path:"/dog-info/training",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(He,{})})}),t.jsx(x,{path:"/dog-info/health",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Ye,{})})}),t.jsx(x,{path:"/dog-info/walk",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Ke,{})})}),t.jsx(x,{path:"/community",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Qe,{})})}),t.jsx(x,{path:"/invite/:token",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(ts,{})})})}),t.jsx(x,{path:"/inquiry",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(ke,{})})})}),t.jsx(x,{path:"/contact",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Ze,{})})}),t.jsx(x,{path:"/terms",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(ns,{})})}),t.jsx(x,{path:"/privacy",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(rs,{})})}),t.jsx(x,{path:"/legal/tokushoho",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(cs,{})})}),t.jsx(x,{path:"/business-information",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(is,{})})}),t.jsx(x,{path:"/sponsor-inquiry",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(os,{})})}),t.jsx(x,{path:"/sponsor-application",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(ls,{})})}),t.jsx(x,{path:"/subscription-intro",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(ss,{})})}),t.jsx(x,{path:"/payment-confirmation",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(as,{})})}),t.jsx(x,{path:"/access-control",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(es,{})})})}),t.jsx(x,{path:"/my-parks-management",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Qs,{})})})}),t.jsx(x,{path:"/park-operation-guidelines",element:t.jsx(Se,{children:t.jsx(re,{})})}),!1,t.jsx(x,{path:"/my-facilities-management",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Zs,{})})})}),t.jsx(x,{path:"/dashboard",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(ms,{})})})}),t.jsx(x,{path:"/dog-registration",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(xs,{})})})}),t.jsx(x,{path:"/dog-management",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(hs,{})})})}),t.jsx(x,{path:"/dog-profile/:id",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(us,{})})})}),t.jsx(x,{path:"/jp-passport",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(ps,{})})})}),t.jsx(x,{path:"/profile-settings",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(js,{})})})}),t.jsx(x,{path:"/payment-method-settings",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(gs,{})})})}),t.jsx(x,{path:"/dogpark-history",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(fs,{})})})}),t.jsx(x,{path:"/my-coupons",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(bs,{})})})}),t.jsx(x,{path:"/my-reservations",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(_s,{})})})}),t.jsx(x,{path:"/order-history",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(ws,{})})})}),t.jsx(x,{path:"/photos",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(ks,{})})})}),t.jsx(x,{path:"/community/boards",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ns,{})})})}),t.jsx(x,{path:"/community/boards/:id",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ss,{})})})}),t.jsx(x,{path:"/orders",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(ws,{})})})}),t.jsx(x,{path:"/points",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(vs,{})})})}),t.jsx(x,{path:"/reservation/:parkId",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Es,{})})})}),t.jsx(x,{path:"/liked-dogs",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(ys,{})})})}),t.jsx(x,{path:"/park-registration",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ps,{})})})}),t.jsx(x,{path:"/park-registration-agreement",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Is,{})})})}),t.jsx(x,{path:"/parks/:id/second-stage",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(As,{})})})}),t.jsx(x,{path:"/parks/:id/manage",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ds,{})})})}),t.jsx(x,{path:"/parks/:id/edit",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Rs,{})})})}),t.jsx(x,{path:"/parks/:id/reserve",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Es,{})})})}),t.jsx(x,{path:"/parks/:id/publish-setup",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ls,{})})})}),t.jsx(x,{path:"/facility-registration",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ts,{})})})}),t.jsx(x,{path:"/facilities/:id/edit",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Os,{})})})}),t.jsx(x,{path:"/owner-payment-system",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Cs,{})})})}),t.jsx(x,{path:"/register-park",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ps,{})})})}),t.jsx(x,{path:"/admin",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(zs,{})})})}),t.jsx(x,{path:"/admin/inquiries",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ne,{})})})}),t.jsx(x,{path:"/admin/users",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Vs,{})})})}),t.jsx(x,{path:"/admin/users/:userId",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ms,{})})})}),t.jsx(x,{path:"/admin/sponsors",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Xs,{})})})}),t.jsx(x,{path:"/admin/parks",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Fs,{})})})}),t.jsx(x,{path:"/admin/reservations",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ws,{})})})}),t.jsx(x,{path:"/admin/sales",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(qs,{})})})}),t.jsx(x,{path:"/admin/sales-overview",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Hs,{})})})}),t.jsx(x,{path:"/admin/vaccine-approval",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Us,{})})})}),t.jsx(x,{path:"/admin/facility-approval",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx($s,{})})})}),t.jsx(x,{path:"/admin/shop",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Bs,{})})})}),t.jsx(x,{path:"/admin/revenue",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Gs,{})})})}),t.jsx(x,{path:"/admin/revenue/owner/:ownerId",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ys,{})})})}),t.jsx(x,{path:"/admin/revenue/park/:parkId",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Ks,{})})})}),t.jsx(x,{path:"/admin/news",element:t.jsx(Ee,{children:t.jsx(i.Suspense,{fallback:t.jsx(me,{}),children:t.jsx(Js,{})})})}),t.jsx(x,{path:"/my-parks",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Qs,{})})})}),t.jsx(x,{path:"/my-facilities",element:t.jsx(Se,{children:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(Zs,{})})})}),t.jsx(x,{path:"*",element:t.jsx(i.Suspense,{fallback:t.jsx(ce,{}),children:t.jsx(ds,{})})})]})]})})]})},tt=new a({defaultOptions:{queries:{staleTime:6e4,gcTime:3e5,retry:1,refetchOnWindowFocus:!1,refetchIntervalInBackground:!1},mutations:{retry:1}}}),at=({resetErrorBoundary:e})=>t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"エラーが発生しました"}),t.jsx("button",{onClick:e,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"再試行"})]})}),nt=document.getElementById("root");if(nt){F.createRoot(nt).render(t.jsx($,{FallbackComponent:at,children:t.jsx(n,{client:tt,children:t.jsx(u,{children:t.jsx(Q,{children:t.jsx(st,{})})})})}))}export{ae as C,ne as S,J as a,xe as b,pe as c,ue as d,te as e,he as f,Y as h,ye as l,H as s,Z as u};
