import{j as e}from"./motion-BHsL7Azw.js";import{r as s}from"./react-vendor-CMvmJHsS.js";import{a,L as r}from"./router-DXQOdrLL.js";import{u as t,S as l,B as i,s as n}from"./index-pfXXv_mo.js";import{C as c}from"./Card-DqVnP9TA.js";import{Y as d,n as x,M as m,I as o,F as g,Q as h,r as j,q as b,b as p,J as N,aL as f,t as u}from"./ui-basic-kZxfFvQj.js";import"./heavy-features-Dlg1c9Yc.js";import"./supabase-D2tiogv8.js";function v(){const{user:v}=t(),w=a(),[y,_]=s.useState([]),[k,S]=s.useState({}),[$,L]=s.useState(!0);s.useEffect(()=>{if(!v)return;(async()=>{try{L(!0);const{data:e,error:s}=await n.from("dog_parks").select("\n            *,\n            profiles!dog_parks_owner_id_fkey(display_name, name)\n          ").eq("owner_id",v.id).order("created_at",{ascending:!1});if(s)return;_(e||[])}catch(e){}finally{L(!1)}})()},[v]);const C=s=>{const a={approved:{bg:"bg-green-100",text:"text-green-800",label:"å…¬é–‹ä¸­",icon:u},pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"ç¬¬ä¸€å¯©æŸ»ä¸­",icon:N},first_stage_passed:{bg:"bg-blue-100",text:"text-blue-800",label:"ç¬¬äºŒå¯©æŸ»ç”³è«‹å¯èƒ½",icon:g},second_stage_waiting:{bg:"bg-orange-100",text:"text-orange-800",label:"ç¬¬äºŒå¯©æŸ»ç”³è«‹æº–å‚™ä¸­",icon:f},second_stage_review:{bg:"bg-purple-100",text:"text-purple-800",label:"ç¬¬äºŒå¯©æŸ»ä¸­",icon:N},smart_lock_testing:{bg:"bg-indigo-100",text:"text-indigo-800",label:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯å®Ÿè¨¼æ¤œæŸ»ä¸­",icon:p},rejected:{bg:"bg-red-100",text:"text-red-800",label:"å´ä¸‹",icon:b}},r=a[s]||a.pending,t=r.icon;return e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1 ${r.bg} ${r.text}`,children:[e.jsx(t,{className:"w-4 h-4"}),e.jsx("span",{children:r.label})]})};return $?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):e.jsxs(e.Fragment,{children:[e.jsx(l,{title:"ç®¡ç†ä¸­ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ä¸€è¦§",description:"ã‚ãªãŸãŒç®¡ç†ã™ã‚‹ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã®ä¸€è¦§ã¨è©³ç´°ç®¡ç†ãƒšãƒ¼ã‚¸ã§ã™ã€‚"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsxs(i,{variant:"secondary",size:"sm",onClick:()=>w("/dashboard"),className:"mr-4",children:[e.jsx(d,{className:"w-4 h-4 mr-1"}),"ãƒã‚¤ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹"]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[e.jsx(x,{className:"w-8 h-8 text-green-600 mr-3"}),"ç®¡ç†ä¸­ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ä¸€è¦§"]}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["ã‚ãªãŸãŒç®¡ç†ã™ã‚‹ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ (",y.length,"æ–½è¨­) ã®è©³ç´°ç®¡ç†"]})]}),e.jsx(r,{to:"/park-registration",children:e.jsxs(i,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"æ–°è¦ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ç™»éŒ²"]})})]}),e.jsx("div",{className:"mt-6 mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg font-semibold text-green-800 mb-2",children:"ğŸŒŸ æ–°è¦ãƒ‰ãƒƒã‚°ãƒ©ãƒ³å‹Ÿé›†ä¸­ï¼"}),e.jsx("p",{className:"text-green-700 text-sm",children:"ã‚ãªãŸã®åœŸåœ°ã‚’æ´»ç”¨ã—ã¦ãƒ‰ãƒƒã‚°ãƒ©ãƒ³äº‹æ¥­ã‚’å§‹ã‚ã¾ã›ã‚“ã‹ï¼ŸåˆæœŸè²»ç”¨ãƒ»é‹å–¶ã‚µãƒãƒ¼ãƒˆå……å®Ÿï¼"})]}),e.jsx(r,{to:"/park-registration",className:"ml-6 flex-shrink-0",children:e.jsxs(i,{className:"bg-green-600 hover:bg-green-700 px-6 py-3 font-semibold",children:[e.jsx(x,{className:"w-5 h-5 mr-2"}),"æ–°è¦ãƒ‰ãƒƒã‚°ãƒ©ãƒ³å‹Ÿé›†è©³ç´°"]})})]})})})]}),0===y.length?e.jsxs(c,{className:"p-12 text-center",children:[e.jsx(x,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ç®¡ç†ä¸­ã®ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ãŒã‚ã‚Šã¾ã›ã‚“"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"ã¾ãšã¯ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã‚’ç™»éŒ²ã—ã¦ã€é‹å–¶ã‚’é–‹å§‹ã—ã¾ã—ã‚‡ã†ã€‚"}),e.jsx(r,{to:"/park-registration",children:e.jsxs(i,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ç™»éŒ²ã‚’å§‹ã‚ã‚‹"]})})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:y.map(s=>e.jsx(c,{className:"hover:shadow-lg transition-all duration-200",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s.name}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:s.address})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(o,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:s.average_rating?.toFixed(1)||"0.0"})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[s.review_count||0,"ä»¶ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼"]})]})]}),e.jsx("div",{className:"ml-4",children:C(s.status)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"æ–™é‡‘"}),e.jsxs("div",{className:"font-semibold",children:["Â¥",s.price_per_hour?.toLocaleString()||"æœªè¨­å®š","/æ™‚é–“"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"åå®¹äººæ•°"}),e.jsxs("div",{className:"font-semibold",children:[s.capacity||"æœªè¨­å®š","äºº"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"}),e.jsx("div",{children:C(s.status||"pending")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"ä½œæˆæ—¥"}),e.jsx("div",{className:"font-semibold",children:new Date(s.created_at).toLocaleDateString("ja-JP")})]})]}),e.jsxs("div",{className:"flex gap-3",children:["second_stage_waiting"===s.status?e.jsx(r,{to:`/parks/${s.id}/second-stage`,className:"flex-1",children:e.jsxs(i,{className:"w-full bg-orange-600 hover:bg-orange-700",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"è©³ç´°æƒ…å ±ã‚’å…¥åŠ›"]})}):"pending"===s.status?e.jsxs(i,{disabled:!0,className:"flex-1 bg-gray-400 cursor-not-allowed",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"å¯©æŸ»ä¸­ï¼ˆç·¨é›†ä¸å¯ï¼‰"]}):e.jsx(r,{to:`/parks/${s.id}/manage`,className:"flex-1",children:e.jsxs(i,{className:"w-full bg-blue-600 hover:bg-blue-700",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"ç®¡ç†ãƒ»ä¿®æ­£"]})}),"approved"===s.status&&e.jsx(r,{to:`/parks/${s.id}`,children:e.jsxs(i,{variant:"secondary",className:"px-4",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"å…¬é–‹ãƒšãƒ¼ã‚¸"]})})]})]})},s.id))})]})]})}export{v as MyParksManagement};
