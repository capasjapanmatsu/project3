import{j as e}from"./motion-CuO0nkIV.js";import{r as s}from"./react-vendor-cniURDpR.js";import{L as a}from"./router-Cg6wfOY4.js";import{B as t}from"./Button-CJFAG6V0.js";import{S as r,C as n,s as l}from"./index-CVZFmpsT.js";import{I as i}from"./Input-D3zjVn42.js";import{p as m,af as c,N as o,b as x,h as d}from"./ui-basic-CaMd9YQ-.js";import"./supabase-B0bqaRGb.js";import"./heavy-features-BIdEME4r.js";const p=()=>{const[p,h]=s.useState({company_name:"",contact_person:"",email:""}),[j,u]=s.useState(!1),[b,g]=s.useState(!1),y=(e,s)=>{h(a=>({...a,[e]:s}))};return b?e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"スポンサー広告お問い合わせ完了",description:"スポンサー広告に関するお問い合わせを承りました"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs(n,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(m,{className:"w-8 h-8 text-green-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"お問い合わせありがとうございます"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["スポンサー広告に関するお問い合わせを承りました。",e.jsx("br",{}),"ご入力いただいたメールアドレスに招待メールをお送りいたしました。"]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-green-800",children:[e.jsx("strong",{children:"✅ 招待メール送信完了"}),e.jsx("br",{}),"Supabaseの「Invite user」機能を使用して、スポンサー申し込みページへの招待メールを自動送信いたしました。",e.jsx("br",{}),"メールが届かない場合は、迷惑メールフォルダもご確認ください。"]})}),e.jsxs("p",{className:"text-sm text-gray-500 mb-8",children:["お急ぎの場合は、直接 ",e.jsx("a",{href:"mailto:info@dogparkjp.com",className:"text-blue-600 hover:underline",children:"info@dogparkjp.com"})," までお問い合わせください。"]}),e.jsx(a,{to:"/",children:e.jsx(t,{className:"bg-blue-600 hover:bg-blue-700",children:"トップページに戻る"})})]})})})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{title:"スポンサー広告お問い合わせ",description:"ドッグパークJPでスポンサー広告を掲載しませんか？効果的な広告プランをご提案いたします"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(a,{to:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4",children:[e.jsx(c,{className:"w-4 h-4 mr-2"}),"トップページに戻る"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"スポンサー広告お問い合わせ"}),e.jsxs("p",{className:"text-gray-600",children:["ドッグパークJPで効果的な広告を掲載しませんか？",e.jsx("br",{}),"まずは事業者様の情報をお聞かせください。"]})]}),e.jsxs(n,{className:"p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"事業者情報の入力"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"ご入力いただいた情報を確認後、詳細な広告プランと料金をメールでお送りいたします。"})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!p.company_name||!p.contact_person||!p.email)return void alert("すべての項目を入力してください。");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email)){u(!0);try{const{data:e,error:a}=await l.from("sponsor_inquiries").insert([{company_name:p.company_name,contact_person:p.contact_person,email:p.email,status:"pending"}]).select().single();if(a)return void alert("送信に失敗しました。しばらく経ってから再度お試しください。");const{error:t}=await l.from("admin_notifications").insert([{type:"sponsor_inquiry",title:"スポンサー広告のお問い合わせ",message:`${p.company_name}（${p.contact_person}様）からスポンサー広告のお問い合わせがありました。`,data:{email:p.email,company_name:p.company_name,contact_person:p.contact_person,inquiry_id:e.id}}]);try{const{error:s}=await l.functions.invoke("send-sponsor-invitation",{body:{email:p.email,company_name:p.company_name,contact_person:p.contact_person,inquiry_id:e.id}})}catch(s){}g(!0)}catch(a){alert("送信中にエラーが発生しました。しばらく経ってから再度お試しください。")}finally{u(!1)}}else alert("正しいメールアドレスを入力してください。")},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(o,{className:"w-4 h-4 inline mr-1"}),"会社名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{type:"text",value:p.company_name,onChange:e=>y("company_name",e.target.value),placeholder:"株式会社〇〇",required:!0,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(x,{className:"w-4 h-4 inline mr-1"}),"担当者名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{type:"text",value:p.contact_person,onChange:e=>y("contact_person",e.target.value),placeholder:"山田 太郎",required:!0,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(d,{className:"w-4 h-4 inline mr-1"}),"メールアドレス ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{type:"email",value:p.email,onChange:e=>y("email",e.target.value),placeholder:"example@company.com",required:!0,className:"w-full"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"こちらのメールアドレス宛に詳細資料をお送りします"})]}),e.jsx("div",{className:"pt-4",children:e.jsx(t,{type:"submit",disabled:j,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3",children:j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"送信中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"資料請求・お問い合わせ"]})})})]}),e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"ご注意"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[e.jsx("li",{children:"• 事業者様のみを対象としたサービスです"}),e.jsx("li",{children:"• お問い合わせ後、24時間以内にメールをお送りします"}),e.jsx("li",{children:"• 詳細な広告プランと料金表をメールでご案内いたします"}),e.jsx("li",{children:"• ご不明な点がございましたら、お気軽にお問い合わせください"})]})]})]})]})})]})};export{p as default};
