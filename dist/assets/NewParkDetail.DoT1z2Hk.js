/*! Build: 2025-07-17T07:59:15.523Z
Version: 0.0.0 */
import{ab as s,u as e,r as a,j as t,n as r,A as l,f as i,B as c,p as m,M as n,z as x,aM as d}from"./vendor-react.D8SVeCGP.js";import{C as o,B as h}from"./components-admin.GT3qRZg5.js";import{s as j}from"./utils.C9ZsMnW6.js";import"./vendor-misc.qnLj5toF.js";import"./hooks.CTtJlocA.js";import"./vendor-stripe.B5MJ2ewd.js";import"./pages-dog.BrfoFXaJ.js";import"./vendor-supabase.RBPF72ft.js";function p(){const{parkId:p}=s(),N=e(),[f,u]=a.useState(null),[g,v]=a.useState(null),[b,w]=a.useState(!0),[y,k]=a.useState("");a.useEffect((()=>{p&&_()}),[p]);const _=async()=>{try{w(!0);const{data:s,error:e}=await j.from("new_park_openings").select("*").eq("id",p).single();if(e)throw e;if(u(s),s.park_id){const{data:e,error:a}=await j.from("dog_parks").select("*").eq("id",s.park_id).single();a||v(e)}}catch(s){k("新規オープン情報の取得に失敗しました。")}finally{w(!1)}};return b?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):y||!f?t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsx("div",{className:"mb-6",children:t.jsxs(r,{to:"/news",className:"flex items-center text-blue-600 hover:text-blue-800",children:[t.jsx(l,{className:"w-4 h-4 mr-2"}),"新着情報一覧に戻る"]})}),t.jsxs(o,{className:"p-6 text-center",children:[t.jsx(i,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold mb-4",children:y||"新規オープン情報が見つかりませんでした"}),t.jsx(h,{onClick:()=>N("/news"),children:"新着情報一覧に戻る"})]})]}):t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsx("div",{className:"mb-6",children:t.jsxs(r,{to:"/news",className:"flex items-center text-blue-600 hover:text-blue-800",children:[t.jsx(l,{className:"w-4 h-4 mr-2"}),"新着情報一覧に戻る"]})}),t.jsxs(o,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[t.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[t.jsx(c,{className:"w-4 h-4 mr-1"}),"新規オープン"]}),t.jsxs("div",{className:"flex items-center text-gray-500 text-sm ml-auto",children:[t.jsx(m,{className:"w-4 h-4 mr-1"}),t.jsx("span",{children:(S=f.created_at,new Date(S).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}))})]})]}),t.jsxs("h1",{className:"text-2xl font-bold mb-6",children:[f.name,"がオープンしました"]}),t.jsx("div",{className:"mb-6",children:t.jsx("img",{src:f.image_url,alt:f.name,className:"w-full h-auto rounded-lg object-cover",onError:s=>{s.currentTarget.src="https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg"}})}),t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(n,{className:"w-5 h-5 text-gray-500 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"住所"}),t.jsx("p",{className:"text-gray-700",children:f.address})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(m,{className:"w-5 h-5 text-gray-500 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"オープン日"}),t.jsx("p",{className:"text-gray-700",children:f.opening_date})]})]}),g&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(x,{className:"w-5 h-5 text-gray-500 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"営業時間"}),t.jsx("p",{className:"text-gray-700",children:"24時間営業"})]})]}),t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(c,{className:"w-5 h-5 text-gray-500 mt-1 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"施設情報"}),t.jsx("p",{className:"text-gray-700",children:g.description}),t.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:Object.entries({parking:"駐車場",shower:"シャワー設備",restroom:"トイレ",agility:"アジリティ設備",rest_area:"休憩スペース",water_station:"給水設備"}).map((([s,e])=>g.facilities[s]&&t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),t.jsx("span",{children:e})]},s)))})]})]})]})]}),t.jsxs("div",{className:"flex justify-between items-center mt-8",children:[t.jsx(r,{to:"/news",children:t.jsxs(h,{variant:"secondary",children:[t.jsx(l,{className:"w-4 h-4 mr-2"}),"新着情報一覧に戻る"]})}),f.park_id&&t.jsx(r,{to:`/parks/${f.park_id}`,children:t.jsxs(h,{children:["施設詳細を見る",t.jsx(d,{className:"w-4 h-4 ml-2"})]})})]})]})]});var S}export{p as NewParkDetail};
