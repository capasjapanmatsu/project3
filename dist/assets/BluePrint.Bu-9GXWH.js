/*! Build: 2025-07-17T07:59:15.523Z
Version: 0.0.0 */
import{r as e,j as s,aH as t}from"./vendor-react.D8SVeCGP.js";import{m as a}from"./vendor-ui.PcbqjdkP.js";const l=()=>{const[l,r]=e.useState(0),[n,i]=e.useState(!1),[d,c]=e.useState(new Set),o=[{name:"VITE_SUPABASE_URL",description:"SupabaseプロジェクトのURL",example:"https://your-project-id.supabase.co",required:!0,type:"url"},{name:"VITE_SUPABASE_ANON_KEY",description:"Supabase匿名キー（公開可能）",example:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",required:!0,type:"key"},{name:"VITE_SUPABASE_SERVICE_ROLE_KEY",description:"Supabaseサービスロールキー（管理者機能用）",example:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",required:!1,type:"secret"},{name:"VITE_SUPABASE_JWT_SECRET",description:"JWT署名用シークレット",example:"your-jwt-secret-key",required:!1,type:"secret"}],x=[{id:"netlify-extension",title:"Netlify Supabase Extension のインストール",description:"NetlifyサイトにSupabase Extensionを追加します。",command:"Netlify Dashboard > Site Settings > Extensions > Browse Extensions > Supabase",tip:"このExtensionにより、環境変数が自動的に設定されます。"},{id:"supabase-connection",title:"Supabaseプロジェクトの接続",description:"Supabaseプロジェクトをネットリファイサイトに接続します。",warning:"Supabaseプロジェクトの認証情報が必要です。"},{id:"environment-variables",title:"環境変数の確認",description:"必要な環境変数が正しく設定されているか確認します。"},{id:"build-deploy",title:"ビルドとデプロイ",description:"サイトを再ビルド・デプロイして設定を反映します。",command:"npm run build && netlify deploy --prod"},{id:"verification",title:"動作確認",description:"アプリケーションが正常に動作することを確認します。"}],m=async()=>{try{return(await fetch("/api/health",{method:"GET",headers:{"Content-Type":"application/json"}})).ok}catch(e){return!1}};e.useEffect((()=>{m().then(i)}),[]);const h=e=>{navigator.clipboard.writeText(e).then((()=>{alert("クリップボードにコピーしました！")}))};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs(t,{children:[s.jsx("title",{children:"Netlify Supabase Extension 設定ガイド - ドッグパーク予約システム"}),s.jsx("meta",{name:"description",content:"Netlify Supabase Extensionの完全な設定ガイド。自動設定、環境変数、トラブルシューティングまで網羅。"})]}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Netlify Supabase Extension 設定ガイド"}),s.jsx("p",{className:"text-lg text-gray-600",children:"完全自動設定でSupabaseをNetlifyに統合しましょう"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"接続ステータス"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full mr-2 "+(n?"bg-green-500":"bg-red-500")}),s.jsxs("span",{className:"font-medium "+(n?"text-green-700":"text-red-700"),children:["Supabase: ",n?"接続済み":"未接続"]})]}),s.jsx("button",{onClick:()=>{m().then(i)},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"再テスト"})]})]}),s.jsx("div",{className:"flex items-center mb-8",children:x.map(((e,t)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+(t<=l?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:t+1}),t<x.length-1&&s.jsx("div",{className:"w-16 h-0.5 "+(t<l?"bg-blue-600":"bg-gray-200")})]},e.id)))}),(()=>{const e=x[l];return e?s.jsxs(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:e.title}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.description}),e.warning&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),s.jsx("p",{className:"text-yellow-800",children:e.warning})]})}),e.tip&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-blue-800",children:e.tip})]})}),e.command&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"実行コマンド:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("code",{className:"flex-1 bg-gray-800 text-green-400 px-3 py-2 rounded font-mono text-sm",children:e.command}),s.jsx("button",{onClick:()=>h(e.command||""),className:"text-blue-600 hover:text-blue-700",children:"コピー"})]})]}),e.code&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"設定コード:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("pre",{className:"flex-1 bg-gray-800 text-green-400 px-3 py-2 rounded text-sm overflow-x-auto",children:s.jsx("code",{children:e.code})}),s.jsx("button",{onClick:()=>h(e.code||""),className:"text-blue-600 hover:text-blue-700",children:"コピー"})]})]}),"environment-variables"===e.id&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"環境変数チェック"}),o.map((e=>{const t=d.has(e.name),a=!!t&&(e.name,Math.random()>.5);return s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description}),e.required&&s.jsx("span",{className:"inline-block bg-red-100 text-red-800 text-xs px-2 py-1 rounded mt-1",children:"必須"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[t&&s.jsx("span",{className:"inline-block w-3 h-3 rounded-full "+(a?"bg-green-500":"bg-red-500")}),s.jsx("button",{onClick:()=>{const s=new Set(d);t?s.delete(e.name):s.add(e.name),c(s)},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:t?"再チェック":"チェック"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded p-3",children:[s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"設定例:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("code",{className:"flex-1 bg-white px-2 py-1 rounded text-sm font-mono",children:[e.name,"=",e.example]}),s.jsx("button",{onClick:()=>h(`${e.name}=${e.example}`),className:"text-blue-600 hover:text-blue-700 text-sm",children:"コピー"})]})]})]},e.name)}))]}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsx("button",{onClick:()=>r(Math.max(0,l-1)),disabled:0===l,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-400",children:"前のステップ"}),s.jsx("button",{onClick:()=>r(Math.min(x.length-1,l+1)),disabled:l===x.length-1,className:"bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700",children:"次のステップ"})]})]},e.id):s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:s.jsx("p",{className:"text-red-600",children:"ステップが見つかりません。"})})})(),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-8",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"トラブルシューティング"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"💡 よくある問題と解決方法"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-l-4 border-yellow-400 pl-4",children:[s.jsx("h4",{className:"font-medium",children:"環境変数が認識されない"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["• ビルドを再実行してください",s.jsx("br",{}),"• 環境変数名がVITE_で始まっているか確認",s.jsx("br",{}),"• Netlify Dashboardで環境変数が設定されているか確認"]})]}),s.jsxs("div",{className:"border-l-4 border-red-400 pl-4",children:[s.jsx("h4",{className:"font-medium",children:"Supabase接続エラー"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["• URLとキーが正しいか確認",s.jsx("br",{}),"• Supabaseプロジェクトがアクティブか確認",s.jsx("br",{}),"• CORSの設定を確認"]})]}),s.jsxs("div",{className:"border-l-4 border-blue-400 pl-4",children:[s.jsx("h4",{className:"font-medium",children:"デプロイが失敗する"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["• ビルドログを確認",s.jsx("br",{}),"• 依存関係をチェック",s.jsx("br",{}),"• Node.jsバージョンを確認"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"🔧 診断ツール"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{m()},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"接続テスト"}),s.jsx("button",{onClick:()=>{alert("診断情報をコンソールに出力しました")},className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"診断情報出力"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-8",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"📚 追加リソース"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"公式ドキュメント"}),s.jsx("a",{href:"https://docs.netlify.com/integrations/supabase/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 block text-sm",children:"Netlify Supabase Extension"}),s.jsx("a",{href:"https://supabase.com/docs",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 block text-sm",children:"Supabase Documentation"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"サポート"}),s.jsx("a",{href:"https://community.netlify.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 block text-sm",children:"Netlify Community"}),s.jsx("a",{href:"https://supabase.com/support",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 block text-sm",children:"Supabase Support"})]})]})]})]})]})},r=Object.freeze(Object.defineProperty({__proto__:null,default:l},Symbol.toStringTag,{value:"Module"})),n=Object.freeze(Object.defineProperty({__proto__:null,default:l},Symbol.toStringTag,{value:"Module"}));export{n as B,r as N};
