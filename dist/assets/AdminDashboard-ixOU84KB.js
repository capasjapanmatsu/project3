import{A as H,s as g,j as e,C as n,B as d,u as Q}from"./index-B2nIfDq6.js";import{r as h,d as W,L as l}from"./react-vendor-ClX3xUyT.js";import{I as F}from"./Input-_c6WZwIR.js";import{Q as V,n as M,E as Z,w as X,aM as G,a0 as K,H as Y,d as L,i as R,S as z,aN as ee,aO as se,A as U,U as q,M as T,o as ae,al as te,aP as A,t as B,p as ie,aK as O,B as ne,N as re,D as le}from"./ui-vendor-Bbvw08tP.js";import"./supabase-vendor-CRpuwX9I.js";const ce=({onError:i,onSuccess:j})=>{const{clientIP:v}=H(),[x,N]=h.useState([]),[s,P]=h.useState(!0),[C,b]=h.useState(!1),[w,f]=h.useState(null),[m,p]=h.useState({ip_address:"",description:"",is_active:!0});h.useEffect(()=>{y()},[]);const y=async()=>{try{P(!0);const{data:t,error:o}=await g.from("ip_whitelist").select("*").order("created_at",{ascending:!1});if(o){i(`IPホワイトリストの取得に失敗しました: ${o.message}`);return}N(t||[])}catch{i("IPホワイトリストの取得中にエラーが発生しました")}finally{P(!1)}},_=async t=>{if(t.preventDefault(),!m.ip_address||!m.description){i("IPアドレスと説明は必須です");return}try{const o={ip_address:m.ip_address,description:m.description,is_active:m.is_active};if(w){const{error:a}=await g.from("ip_whitelist").update(o).eq("id",w.id);if(a){i(`IPホワイトリストの更新に失敗しました: ${a.message}`);return}j("IPホワイトリストを更新しました")}else{const{error:a}=await g.from("ip_whitelist").insert([o]);if(a){i(`IPホワイトリストの作成に失敗しました: ${a.message}`);return}j("IPホワイトリストを作成しました")}p({ip_address:"",description:"",is_active:!0}),b(!1),f(null),await y()}catch{i("IPホワイトリストの保存中にエラーが発生しました")}},r=async t=>{try{const{error:o}=await g.from("ip_whitelist").update({is_active:!t.is_active}).eq("id",t.id);if(o){i(`IPホワイトリストの状態変更に失敗しました: ${o.message}`);return}j(`IPホワイトリストを${t.is_active?"無効":"有効"}にしました`),await y()}catch{i("IPホワイトリストの状態変更中にエラーが発生しました")}},c=t=>{f(t),p({ip_address:t.ip_address,description:t.description,is_active:t.is_active}),b(!0)},k=async t=>{if(confirm("このIPホワイトリストエントリを削除しますか？"))try{const{error:o}=await g.from("ip_whitelist").delete().eq("id",t);if(o){i(`IPホワイトリストの削除に失敗しました: ${o.message}`);return}j("IPホワイトリストを削除しました"),await y()}catch{i("IPホワイトリストの削除中にエラーが発生しました")}},$=()=>{v&&(p({ip_address:`${v}/32`,description:"現在のIPアドレス",is_active:!0}),b(!0))},S=t=>new Date(t).toLocaleString("ja-JP",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),I=t=>t.includes("127.0.0.1")||t.includes("::1")?e.jsx(Y,{className:"w-4 h-4 text-blue-500"}):t.includes("192.168.")||t.includes("10.")||t.includes("172.")?e.jsx(L,{className:"w-4 h-4 text-green-500"}):e.jsx(V,{className:"w-4 h-4 text-orange-500"});return e.jsxs("div",{className:"space-y-6",children:[e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(V,{className:"w-5 h-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"現在のIPアドレス"}),e.jsx("p",{className:"text-sm text-gray-600",children:v||"取得中..."})]})]}),e.jsxs(d,{variant:"secondary",size:"sm",onClick:$,disabled:!v,children:[e.jsx(M,{className:"w-4 h-4 mr-1"}),"ホワイトリストに追加"]})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"IPホワイトリスト管理"}),e.jsxs(d,{onClick:()=>b(!0),className:"flex items-center space-x-2",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"新規作成"})]})]}),C&&e.jsxs(n,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:w?"IPホワイトリスト編集":"IPホワイトリスト作成"}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["IPアドレス/CIDR ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{type:"text",value:m.ip_address,onChange:t=>p({...m,ip_address:t.target.value}),placeholder:"例: 192.168.1.0/24 または 192.168.1.100/32",label:"IPアドレス/CIDR",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"CIDR形式で入力してください。単一IPの場合は /32 を付けてください。"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["説明 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{type:"text",value:m.description,onChange:t=>p({...m,description:t.target.value}),placeholder:"例: 本社オフィス",label:"説明",required:!0})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:m.is_active,onChange:t=>p({...m,is_active:t.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium",children:"有効"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(d,{type:"button",variant:"secondary",onClick:()=>{b(!1),f(null),p({ip_address:"",description:"",is_active:!0})},children:"キャンセル"}),e.jsx(d,{type:"submit",children:w?"更新":"作成"})]})]})]}),e.jsxs(n,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"IPホワイトリスト一覧"}),s?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"text-gray-600",children:"読み込み中..."})}):x.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"IPホワイトリストエントリがありません"}):e.jsx("div",{className:"space-y-4",children:x.map(t=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[I(t.ip_address),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium",children:t.ip_address}),t.is_active&&e.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"有効"}),!t.is_active&&e.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:"無効"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:["作成: ",S(t.created_at)]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{variant:t.is_active?"warning":"success",size:"sm",onClick:()=>r(t),children:t.is_active?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-4 h-4 mr-1"}),"無効化"]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-4 h-4 mr-1"}),"有効化"]})}),e.jsx(d,{variant:"secondary",size:"sm",onClick:()=>c(t),children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx(d,{variant:"danger",size:"sm",onClick:()=>k(t.id),children:e.jsx(K,{className:"w-4 h-4"})})]})]})},t.id))})]})]})},E=i=>i?new Date(i).toISOString():null,J=i=>{if(!i)return"";const j=new Date(i);return new Date(j.getTime()-j.getTimezoneOffset()*6e4).toISOString().slice(0,16)},de=({onError:i,onSuccess:j})=>{const{refreshMaintenanceStatus:v,isMaintenanceActive:x,maintenanceInfo:N}=H(),[s,P]=h.useState([]),[C,b]=h.useState(!0),[w,f]=h.useState(!1),[m,p]=h.useState(null),[y,_]=h.useState("schedules"),[r,c]=h.useState({title:"",message:"",start_time:"",end_time:"",is_emergency:!1});h.useEffect(()=>{k()},[]);const k=async()=>{try{b(!0);const{data:a,error:u}=await g.from("maintenance_schedules").select("*").order("created_at",{ascending:!1});if(u){i(`メンテナンス予定の取得に失敗しました: ${u.message}`);return}P(a||[])}catch{i("メンテナンス予定の取得中にエラーが発生しました")}finally{b(!1)}},$=async a=>{if(a.preventDefault(),!r.title||!r.message){i("タイトルとメッセージは必須です");return}try{const u={title:r.title,message:r.message,start_time:E(r.start_time),end_time:E(r.end_time),is_emergency:r.is_emergency};if(m){const{error:D}=await g.from("maintenance_schedules").update(u).eq("id",m.id);if(D){i(`メンテナンス予定の更新に失敗しました: ${D.message}`);return}j("メンテナンス予定を更新しました")}else{const{error:D}=await g.from("maintenance_schedules").insert([u]);if(D){i(`メンテナンス予定の作成に失敗しました: ${D.message}`);return}j("メンテナンス予定を作成しました")}c({title:"",message:"",start_time:"",end_time:"",is_emergency:!1}),f(!1),p(null),await k()}catch{i("メンテナンス予定の保存中にエラーが発生しました")}},S=async a=>{try{const{error:u}=await g.from("maintenance_schedules").update({is_active:!a.is_active}).eq("id",a.id);if(u){i(`メンテナンス状態の変更に失敗しました: ${u.message}`);return}j(`メンテナンスを${a.is_active?"無効":"有効"}にしました`),await k(),await v()}catch{i("メンテナンス状態の変更中にエラーが発生しました")}},I=a=>{p(a),c({title:a.title,message:a.message,start_time:J(a.start_time||""),end_time:J(a.end_time||""),is_emergency:a.is_emergency}),f(!0)},t=async a=>{if(confirm("このメンテナンス予定を削除しますか？"))try{const{error:u}=await g.from("maintenance_schedules").delete().eq("id",a);if(u){i(`メンテナンス予定の削除に失敗しました: ${u.message}`);return}j("メンテナンス予定を削除しました"),await k(),await v()}catch{i("メンテナンス予定の削除中にエラーが発生しました")}},o=a=>a?new Date(a).toLocaleString("ja-JP",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Asia/Tokyo"}):"未設定";return e.jsxs("div",{className:"space-y-6",children:[e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${x?"bg-red-500":"bg-green-500"}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:x?"メンテナンス中":"サービス稼働中"}),x&&N&&e.jsx("p",{className:"text-sm text-gray-600",children:N.title})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:x?e.jsx(R,{className:"w-5 h-5 text-red-500"}):e.jsx(R,{className:"w-5 h-5 text-green-500"})})]})}),e.jsxs("div",{className:"flex space-x-4 border-b",children:[e.jsxs("button",{className:`px-4 py-2 font-medium ${y==="schedules"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>_("schedules"),children:[e.jsx(z,{className:"w-4 h-4 inline mr-2"}),"メンテナンス予定"]}),e.jsxs("button",{className:`px-4 py-2 font-medium ${y==="whitelist"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>_("whitelist"),children:[e.jsx(L,{className:"w-4 h-4 inline mr-2"}),"IPホワイトリスト"]})]}),y==="schedules"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"メンテナンス予定管理"}),e.jsxs(d,{onClick:()=>f(!0),className:"flex items-center space-x-2",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"新規作成"})]})]}),w&&e.jsxs(n,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:m?"メンテナンス予定編集":"メンテナンス予定作成"}),e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["タイトル ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(F,{type:"text",value:r.title,onChange:a=>c({...r,title:a.target.value}),placeholder:"例: システムメンテナンス",label:"タイトル",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["メッセージ ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:r.message,onChange:a=>c({...r,message:a.target.value}),placeholder:"メンテナンス中に表示されるメッセージ",className:"w-full p-2 border border-gray-300 rounded-lg",rows:3,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"開始時刻（日本時間）"}),e.jsx(F,{type:"datetime-local",value:r.start_time,onChange:a=>c({...r,start_time:a.target.value}),label:"開始時刻"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"日本時間で入力してください"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"終了時刻（日本時間）"}),e.jsx(F,{type:"datetime-local",value:r.end_time,onChange:a=>c({...r,end_time:a.target.value}),label:"終了時刻"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"日本時間で入力してください"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"is_emergency",checked:r.is_emergency,onChange:a=>c({...r,is_emergency:a.target.checked}),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),e.jsx("label",{htmlFor:"is_emergency",className:"text-sm font-medium",children:"緊急メンテナンス"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(d,{type:"button",variant:"secondary",onClick:()=>{f(!1),p(null),c({title:"",message:"",start_time:"",end_time:"",is_emergency:!1})},children:"キャンセル"}),e.jsx(d,{type:"submit",children:m?"更新":"作成"})]})]})]}),e.jsxs(n,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"メンテナンス予定一覧"}),C?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"text-gray-600",children:"読み込み中..."})}):s.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"メンテナンス予定がありません"}):e.jsx("div",{className:"space-y-4",children:s.map(a=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium",children:a.title}),a.is_active&&e.jsx("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded",children:"有効"}),a.is_emergency&&e.jsx("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded",children:"緊急"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.message}),e.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[e.jsxs("div",{children:["開始: ",o(a.start_time)]}),e.jsxs("div",{children:["終了: ",o(a.end_time)]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{variant:a.is_active?"danger":"success",size:"sm",onClick:()=>S(a),children:a.is_active?e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-4 h-4 mr-1"}),"無効化"]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"w-4 h-4 mr-1"}),"有効化"]})}),e.jsx(d,{variant:"secondary",size:"sm",onClick:()=>I(a),children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx(d,{variant:"danger",size:"sm",onClick:()=>t(a.id),children:e.jsx(K,{className:"w-4 h-4"})})]})]})},a.id))})]})]}):e.jsx(ce,{onError:i,onSuccess:j})]})};function pe(){const{user:i,isAdmin:j}=Q(),v=W(),[x,N]=h.useState("overview"),[s,P]=h.useState({totalUsers:0,totalParks:0,pendingParks:0,pendingVaccines:0,pendingFacilities:0,totalReservations:0,monthlyRevenue:0,lastMonthRevenue:0,totalSubscriptions:0,activeSubscriptions:0,newUsersThisMonth:0,unreadMessages:0}),[C,b]=h.useState(!0),[w,f]=h.useState(""),[m,p]=h.useState("");h.useEffect(()=>{if(!j){v("/");return}y()},[j,v]);const y=async()=>{try{b(!0),f(""),p("");const{data:_,error:r}=await g.rpc("get_admin_stats");if(r)throw r;const c=_,{data:k,error:$}=await g.from("pet_facilities").select("id",{count:"exact"}).eq("status","pending"),S=k?.length||0,{data:I,error:t}=await g.from("dog_parks").select("id",{count:"exact"}).in("status",["pending","first_stage_passed","second_stage_waiting","second_stage_review","smart_lock_testing"]),o=I?.length||0;P({totalUsers:c?.total_users||0,totalParks:c?.total_parks||0,pendingParks:o,pendingVaccines:c?.pending_vaccines||0,pendingFacilities:S,totalReservations:c?.total_reservations||0,monthlyRevenue:c?.monthly_revenue||0,lastMonthRevenue:c?.last_month_revenue||0,totalSubscriptions:c?.total_subscriptions||0,activeSubscriptions:c?.active_subscriptions||0,newUsersThisMonth:c?.new_users_this_month||0,unreadMessages:c?.unread_messages||0})}catch(_){console.error("Error fetching admin data:",_),f("統計データの取得に失敗しました。")}finally{b(!1)}};return C?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[e.jsx(L,{className:"w-8 h-8 text-red-600 mr-3"}),"管理者ダッシュボード"]}),e.jsx("p",{className:"text-gray-600",children:"システム全体の管理と監視"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["最終更新: ",new Date().toLocaleString("ja-JP")]})]}),w&&e.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded-lg p-4 flex items-start",children:[e.jsx(U,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{children:w})]}),m&&e.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 rounded-lg p-4 flex items-start",children:[e.jsx(R,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{children:m})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(l,{to:"/admin/users",children:e.jsx(n,{className:"p-6 hover:shadow-lg transition-all duration-200 cursor-pointer hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"総ユーザー数"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.totalUsers}),e.jsxs("p",{className:"text-xs text-green-600",children:["+",s.newUsersThisMonth," 今月"]})]}),e.jsx(q,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(l,{to:"/admin/parks",children:e.jsx(n,{className:"p-6 hover:shadow-lg transition-all duration-200 cursor-pointer hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"総ドッグラン数"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.totalParks}),s.pendingParks>0&&e.jsxs("p",{className:"text-xs text-orange-600",children:["承認待ち: ",s.pendingParks]})]}),e.jsx(T,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(l,{to:"/admin/reservations",children:e.jsx(n,{className:"p-6 hover:shadow-lg transition-all duration-200 cursor-pointer hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"今月の予約数"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.totalReservations}),e.jsxs("p",{className:"text-xs text-purple-600",children:["サブスク会員: ",s.activeSubscriptions]})]}),e.jsx(ae,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(l,{to:"/admin/sales",children:e.jsx(n,{className:"p-6 hover:shadow-lg transition-all duration-200 cursor-pointer hover:scale-105",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"今月の売上"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["¥",s.monthlyRevenue.toLocaleString()]}),s.lastMonthRevenue>0&&e.jsxs("p",{className:"text-xs text-gray-500",children:["前月比: ",Math.round((s.monthlyRevenue/s.lastMonthRevenue-1)*100),"%"]})]}),e.jsx(te,{className:"w-8 h-8 text-orange-600"})]})})})]}),(s.pendingParks>0||s.pendingVaccines>0||s.pendingFacilities>0)&&e.jsxs(n,{className:"p-6 bg-red-50 border-red-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(U,{className:"w-6 h-6 text-red-600"}),e.jsx("h2",{className:"text-lg font-semibold text-red-900",children:"緊急対応が必要"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.pendingParks>0&&e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-200",children:[e.jsx("p",{className:"font-medium text-red-900",children:"ドッグラン承認待ち"}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[s.pendingParks,"件"]}),e.jsx(l,{to:"/admin/parks",children:e.jsx(d,{size:"sm",className:"mt-2",children:"確認する"})})]}),s.pendingVaccines>0&&e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-200",children:[e.jsx("p",{className:"font-medium text-red-900",children:"ワクチン証明書承認待ち"}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[s.pendingVaccines,"件"]}),e.jsx(l,{to:"/admin/vaccine-approval",children:e.jsx(d,{size:"sm",className:"mt-2",children:"確認する"})})]}),s.pendingFacilities>0&&e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-200",children:[e.jsx("p",{className:"font-medium text-red-900",children:"ペット関連施設承認待ち"}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[s.pendingFacilities,"件"]}),e.jsx(l,{to:"/admin/facility-approval",children:e.jsx(d,{size:"sm",className:"mt-2",children:"確認する"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(l,{to:"/admin/vaccine-approval",children:e.jsx(n,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(A,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:"ワクチン証明書管理"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ワクチン証明書の承認・管理"}),s.pendingVaccines>0&&e.jsxs("div",{className:"mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-1"}),s.pendingVaccines,"件の承認待ち"]})]})]})})}),e.jsx(l,{to:"/admin/parks",children:e.jsx(n,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(T,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:"ドッグラン管理"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ドッグランの審査・管理"}),s.pendingParks>0&&e.jsxs("div",{className:"mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-1"}),s.pendingParks,"件の承認待ち"]})]})]})})}),e.jsx(l,{to:"/admin/facility-approval",children:e.jsx(n,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:e.jsx(B,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:"ペット関連施設承認"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ペット関連施設の掲載申請承認・管理"}),s.pendingFacilities>0&&e.jsxs("div",{className:"mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-1"}),s.pendingFacilities,"件の承認待ち"]})]})]})})}),e.jsx(l,{to:"/admin/shop",children:e.jsx(n,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(ie,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"ショップ管理"}),e.jsx("p",{className:"text-sm text-gray-600",children:"商品管理・注文管理・在庫管理"})]})]})})}),e.jsx(l,{to:"/admin/revenue",children:e.jsx(n,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:e.jsx(O,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"売上レポート"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ドッグラン別売上・振込管理"})]})]})})}),e.jsx(l,{to:"/admin/news",children:e.jsx(n,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:e.jsx(ne,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"新着情報管理"}),e.jsx("p",{className:"text-sm text-gray-600",children:"サイトの新着情報・お知らせを管理"})]})]})})}),e.jsx("div",{onClick:()=>N("maintenance"),children:e.jsx(n,{className:"p-6 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:e.jsx(z,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"メンテナンス管理"}),e.jsx("p",{className:"text-sm text-gray-600",children:"システムメンテナンス・IP管理"})]})]})})})]}),e.jsxs("div",{className:"flex space-x-4 border-b",children:[e.jsxs("button",{className:`px-4 py-2 font-medium relative flex items-center space-x-2 ${x==="overview"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>N("overview"),children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:"概要"})]}),e.jsxs("button",{className:`px-4 py-2 font-medium relative flex items-center space-x-2 ${x==="parks"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>N("parks"),children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:"ドッグラン管理"}),s.pendingParks>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:s.pendingParks})]}),e.jsxs("button",{className:`px-4 py-2 font-medium relative flex items-center space-x-2 ${x==="vaccines"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>N("vaccines"),children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:"ワクチン承認"}),s.pendingVaccines>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:s.pendingVaccines})]}),e.jsxs("button",{className:`px-4 py-2 font-medium relative flex items-center space-x-2 ${x==="facilities"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>N("facilities"),children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:"施設承認"}),s.pendingFacilities>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:s.pendingFacilities})]}),e.jsxs("button",{className:`px-4 py-2 font-medium relative flex items-center space-x-2 ${x==="users"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>N("users"),children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:"ユーザー管理"})]}),e.jsxs("button",{className:`px-4 py-2 font-medium relative flex items-center space-x-2 ${x==="maintenance"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>N("maintenance"),children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:"メンテナンス"})]})]}),x==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"システム概要"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"プラットフォーム統計"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"アクティブユーザー:"}),e.jsxs("span",{className:"font-medium",children:[s.totalUsers,"人"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"承認済みドッグラン:"}),e.jsxs("span",{className:"font-medium",children:[s.totalParks-s.pendingParks,"施設"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"今月の予約:"}),e.jsxs("span",{className:"font-medium",children:[s.totalReservations,"件"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"今月の売上:"}),e.jsxs("span",{className:"font-medium",children:["¥",s.monthlyRevenue.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"アクティブサブスク:"}),e.jsxs("span",{className:"font-medium",children:[s.activeSubscriptions,"件"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"承認待ち項目"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"ドッグラン:"}),e.jsxs("span",{className:`font-medium ${s.pendingParks>0?"text-red-600":"text-green-600"}`,children:[s.pendingParks,"件"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"ワクチン証明書:"}),e.jsxs("span",{className:`font-medium ${s.pendingVaccines>0?"text-red-600":"text-green-600"}`,children:[s.pendingVaccines,"件"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"ペット関連施設:"}),e.jsxs("span",{className:`font-medium ${s.pendingFacilities>0?"text-red-600":"text-green-600"}`,children:[s.pendingFacilities,"件"]})]})]})]})]})]}),e.jsxs(n,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"売上推移"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(l,{to:"/admin/revenue",children:e.jsxs(d,{size:"sm",variant:"secondary",children:[e.jsx(O,{className:"w-4 h-4 mr-1"}),"詳細レポート"]})}),e.jsxs(d,{size:"sm",variant:"secondary",children:[e.jsx(le,{className:"w-4 h-4 mr-1"}),"CSV"]})]})]}),e.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"売上グラフ（実装予定）"})})]}),e.jsxs(n,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"新着情報管理"}),e.jsxs("p",{className:"text-gray-600",children:["サイトの新着情報・お知らせを管理するには",e.jsx(l,{to:"/admin/news",className:"text-blue-600 hover:text-blue-800 mx-1",children:"こちら"}),"からアクセスしてください。"]})]})]}),x==="parks"&&e.jsxs(n,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ドッグラン管理"}),e.jsxs("p",{className:"text-gray-600",children:["詳細なドッグラン管理は",e.jsx(l,{to:"/admin/parks",className:"text-blue-600 hover:text-blue-800 mx-1",children:"ドッグラン管理ページ"}),"で行えます。"]}),s.pendingParks>0&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("p",{className:"text-red-700",children:[e.jsxs("strong",{children:[s.pendingParks,"件"]}),"のドッグラン承認待ちがあります。"]}),e.jsx(l,{to:"/admin/parks",children:e.jsx(d,{size:"sm",className:"mt-2",children:"今すぐ確認する"})})]})]}),x==="vaccines"&&e.jsxs(n,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ワクチン証明書管理"}),e.jsxs("p",{className:"text-gray-600",children:["詳細なワクチン証明書管理は",e.jsx(l,{to:"/admin/vaccine-approval",className:"text-blue-600 hover:text-blue-800 mx-1",children:"ワクチン証明書管理ページ"}),"で行えます。"]}),s.pendingVaccines>0&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("p",{className:"text-red-700",children:[e.jsxs("strong",{children:[s.pendingVaccines,"件"]}),"のワクチン証明書承認待ちがあります。"]}),e.jsx(l,{to:"/admin/vaccine-approval",children:e.jsx(d,{size:"sm",className:"mt-2",children:"今すぐ確認する"})})]})]}),x==="facilities"&&e.jsxs(n,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ペット関連施設承認管理"}),e.jsxs("p",{className:"text-gray-600",children:["詳細なペット関連施設の承認管理は",e.jsx(l,{to:"/admin/facility-approval",className:"text-blue-600 hover:text-blue-800 mx-1",children:"施設承認ページ"}),"で行えます。"]}),s.pendingFacilities>0&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("p",{className:"text-red-700",children:[e.jsxs("strong",{children:[s.pendingFacilities,"件"]}),"の施設承認待ちがあります。"]}),e.jsx(l,{to:"/admin/facility-approval",children:e.jsx(d,{size:"sm",className:"mt-2",children:"今すぐ確認する"})})]})]}),x==="users"&&e.jsxs(n,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ユーザー管理"}),e.jsxs("p",{className:"text-gray-600",children:["詳細なユーザー管理は",e.jsx(l,{to:"/admin/users",className:"text-blue-600 hover:text-blue-800 mx-1",children:"ユーザー管理ページ"}),"で行えます。"]})]}),x==="maintenance"&&e.jsx(de,{onError:f,onSuccess:p})]})}export{pe as AdminDashboard};
