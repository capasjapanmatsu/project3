import{j as e,m as c,K as I,am as ce,g as O,an as Me,C as ke,R as $e,A as H,Y as ge,i as Z,V as de,p as pe,b as Le,t as qe,y as oe,x as je,e as be,F as fe,ah as K,U as Ne,al as ve,X as xe,ao as ye,r as Ae}from"./ui-vendor-FlUr4cJt.js";import{r as l,h as Re,u as Fe,L as D}from"./react-vendor-_GyjDmDn.js";import{u as Se,C as u,f as W,p as ze,d as z,e as me,B as o,g as He,m as Oe,t as Ve,s as v,i as Ge}from"./index-BSYT0262.js";import{V as Ue,g as we}from"./VaccineBadge-Cj0fQWh5.js";import"./supabase-vendor-Df9iqQzW.js";function Be({lockId:p,parkName:g="ãƒ‰ãƒƒã‚°ãƒ‘ãƒ¼ã‚¯",purpose:y="entry",className:r="",onSuccess:V,onError:G,reservationId:T}){const{user:U}=Se(),[h,q]=l.useState(null),[N,b]=l.useState(null),[C,M]=l.useState(null),[B,$]=l.useState(!1),[A,E]=l.useState(null),[J,L]=l.useState(!1),[Q,w]=l.useState(!1),[ee,R]=l.useState(!1),[se,te]=l.useState(""),[S,d]=l.useState(!1),_=5,ae=async x=>{try{const{data:n,error:a}=await v.from("reservations").select(`
          *,
          dog_park:dog_parks(*),
          dog:dogs(*)
        `).eq("id",x).single();return a?(console.error("Error fetching reservation:",a),null):n}catch(n){return console.error("Error fetching reservation:",n),null}},X=x=>{try{const n=new Date(x.date),a=x.start_time.split(":").map(Number),m=a[0]??0,f=a[1]??0;return n.setHours(m,f,0,0),new Date(n.getTime()+x.duration*60*60*1e3)}catch(n){return console.error("Error calculating reservation end time:",n),null}};l.useEffect(()=>{if(h&&N){const x=setInterval(()=>{const n=new Date,a=N.getTime()-n.getTime();if(a<=0)M("æœŸé™åˆ‡ã‚Œ"),q(null),b(null),clearInterval(x);else{const m=Math.floor(a/6e4),f=Math.floor(a%6e4/1e3);M(`${m}:${f.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(x)}},[h,N]);const Y=async()=>{if(U){$(!0),E(null);try{const{data:{session:x}}=await v.auth.getSession();if(!x?.access_token)throw new Error("èªè¨¼ãŒå¿…è¦ã§ã™");let n=_,a=null;if(T){const k=await ae(T);if(k&&k.reservation_type==="whole_facility"&&(a=X(k),a)){const re=new Date,le=a.getTime()-re.getTime();n=Math.max(1,Math.ceil(le/(1e3*60)))}}const m=await fetch("https://onmcivwxtzqajcovptgf.supabase.co/functions/v1/generate-pin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x.access_token}`},body:JSON.stringify({lock_id:p,purpose:y,expiry_minutes:n,reservation_id:T||void 0})});if(!m.ok){const k=await m.json();throw new Error(k.error||"PINã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ")}const{pin:f,expires_at:F}=await m.json();q(f),b(new Date(F)),d(!0),w(!0),await Ge(),V&&V(f),setTimeout(()=>{w(!1),d(!1)},3e3)}catch(x){console.error("Error generating PIN:",x);const n=x instanceof Error?x.message:"PINã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ";if(n.startsWith("PAYMENT_REQUIRED:")){const a=n.replace("PAYMENT_REQUIRED:","").trim();te(a),R(!0),E(null)}else E(n),R(!1);G&&G(n)}finally{$(!1)}}},P=async()=>{if(h)try{await navigator.clipboard.writeText(h),L(!0),await Ve(),setTimeout(()=>L(!1),2e3)}catch{}};return e.jsx(c.div,{className:r,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs(c.h3,{className:"text-lg font-semibold mb-4 flex items-center justify-center",variants:W,initial:"initial",animate:"animate",children:[e.jsx(c.div,{animate:S?{rotate:[0,15,-15,0]}:{},transition:{duration:.6,repeat:2},children:e.jsx(I,{className:"w-5 h-5 text-blue-600 mr-2"})}),g,"ã®",y==="entry"?"å…¥å£":"å‡ºå£"]}),e.jsx(ce,{mode:"wait",children:h?e.jsxs(c.div,{className:"space-y-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[e.jsxs(c.div,{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border-2 border-blue-200 mx-auto",variants:ze,initial:"initial",animate:S?"animate":"initial",children:[e.jsx("p",{className:"text-sm text-blue-800 mb-1",children:"PINã‚³ãƒ¼ãƒ‰:"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(c.p,{className:"text-3xl font-bold tracking-widest text-blue-700",initial:{scale:1},animate:S?{scale:[1,1.1,1]}:{},transition:{duration:.6},children:h}),e.jsx(c.button,{onClick:P,className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"ã‚³ãƒ”ãƒ¼",variants:z,whileHover:"hover",whileTap:"tap",children:e.jsx(ce,{mode:"wait",children:J?e.jsx(c.div,{variants:me,initial:"initial",animate:"animate",exit:{scale:0,opacity:0},children:e.jsx(O,{className:"w-5 h-5 text-green-600"})},"copied"):e.jsx(c.div,{variants:me,initial:"initial",animate:"animate",exit:{scale:0,opacity:0},children:e.jsx(Me,{className:"w-5 h-5"})},"copy")})})]})]}),e.jsx(c.div,{className:"bg-yellow-50 p-2 rounded-lg",variants:W,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-yellow-800",children:[e.jsx(c.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:e.jsx(ke,{className:"w-4 h-4"})}),e.jsxs("span",{className:"font-medium",children:["æœ‰åŠ¹æœŸé™: ",C]})]})}),e.jsx("div",{className:"flex justify-center space-x-3",children:e.jsx(c.div,{variants:z,whileHover:"hover",whileTap:"tap",children:e.jsxs(o,{onClick:()=>void Y(),variant:"secondary",size:"sm",isLoading:B,children:[e.jsx($e,{className:"w-4 h-4 mr-1"}),"å†ç”Ÿæˆ"]})})}),e.jsxs(c.p,{className:"text-xs text-gray-500",variants:W,children:[y==="entry"?"å…¥å ´":"é€€å ´","æ™‚ã«ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ã®ã‚­ãƒ¼ãƒ‘ãƒƒãƒ‰ã«ä¸Šè¨˜ã®PINã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"]})]},"pin-display"):e.jsxs(c.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[e.jsxs(c.p,{className:"text-gray-600 mb-4",variants:W,children:[y==="entry"?"å…¥å ´":"é€€å ´","ç”¨ã®PINã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚",e.jsx("br",{}),"ç”Ÿæˆã•ã‚ŒãŸPINã‚³ãƒ¼ãƒ‰ã¯5åˆ†é–“æœ‰åŠ¹ã§ã™ã€‚"]}),e.jsxs(ce,{children:[A&&e.jsxs(c.div,{className:"bg-red-50 p-3 rounded-lg flex items-center justify-center text-red-600",variants:He,initial:"initial",animate:"shake",exit:{opacity:0,y:-10},children:[e.jsx(H,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:A})]}),ee&&e.jsxs(c.div,{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",variants:Oe,initial:"initial",animate:"animate",exit:"exit",children:[e.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[e.jsx(ge,{className:"w-6 h-6 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"æ±ºæ¸ˆãŒå¿…è¦ã§ã™"}),e.jsx("p",{className:"text-sm text-blue-800 mb-4",children:se})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c.div,{variants:z,whileHover:"hover",whileTap:"tap",children:e.jsxs(o,{onClick:()=>window.location.href="/subscription",className:"w-full bg-purple-600 hover:bg-purple-700",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã«åŠ å…¥ï¼ˆÂ¥3,800/æœˆï¼‰"]})}),e.jsx(c.div,{variants:z,whileHover:"hover",whileTap:"tap",children:e.jsxs(o,{onClick:()=>window.location.href="/parks",variant:"secondary",className:"w-full",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"1æ—¥åˆ¸ã‚’è³¼å…¥ï¼ˆÂ¥800ï¼‰"]})})]}),e.jsxs("p",{className:"text-xs text-blue-700 mt-3",children:["â€¢ ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ï¼šå…¨å›½ã®ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ãŒä½¿ã„æ”¾é¡Œ",e.jsx("br",{}),"â€¢ 1æ—¥åˆ¸ï¼šé¸æŠã—ãŸãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã§24æ™‚é–“åˆ©ç”¨å¯èƒ½"]})]}),Q&&e.jsxs(c.div,{className:"bg-green-50 p-3 rounded-lg flex items-center justify-center text-green-600",variants:me,initial:"initial",animate:"animate",exit:{opacity:0,scale:.8},children:[e.jsx(O,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"ğŸ‰ PINã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã—ãŸ"})]})]}),e.jsx(c.div,{variants:z,whileHover:"hover",whileTap:"tap",children:e.jsxs(o,{onClick:()=>void Y(),isLoading:B,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"ğŸš€ ",y==="entry"?"å…¥å ´":"é€€å ´","ç”¨PINã‚’ç”Ÿæˆ"]})})]},"pin-generate")})]})})})}const _e=p=>p?new Date(p).toISOString():null;function We(){const{parkId:p}=Re(),{user:g}=Se(),y=Fe(),[r,V]=l.useState(null),[G,T]=l.useState(!0),[U,h]=l.useState(""),[q,N]=l.useState(""),[b,C]=l.useState("overview"),[M,B]=l.useState([]),[$,A]=l.useState(null),[E,J]=l.useState("entry"),[L,Q]=l.useState([]),[w,ee]=l.useState([]),[R,se]=l.useState([]),[te,S]=l.useState(!1),[d,_]=l.useState({title:"",description:"",start_date:"",end_date:"",is_emergency:!1,notify_users:!0}),[ae,X]=l.useState(!1),[Y,P]=l.useState(!1),[x,n]=l.useState(!1),[a,m]=l.useState({max_capacity:0,facilities:{parking:!1,shower:!1,restroom:!1,agility:!1,rest_area:!1,water_station:!1},large_dog_area:!1,small_dog_area:!1,private_booths:!1,private_booth_count:0,facility_details:"",description:""}),f=3;l.useEffect(()=>{if(!g||!p){y("/owner-dashboard");return}F()},[g,p,y]),l.useEffect(()=>{(async()=>{if(g)try{const{data:t,error:i}=await v.from("dogs").select(`
            *,
            vaccine_certifications (
              id,
              status,
              rabies_expiry_date,
              combo_expiry_date,
              approved_at
            )
          `).eq("owner_id",g.id);if(i)throw i;const j=(t||[]).filter(ie=>we(ie)==="approved");Q(j)}catch(t){console.error("Error fetching dogs:",t)}})()},[g]);const F=async()=>{try{T(!0);const{data:s,error:t}=await v.from("dog_parks").select("*").eq("id",p).eq("owner_id",g?.id).single();if(t)throw t;if(!s){y("/owner-dashboard");return}V(s),m({max_capacity:s.max_capacity||0,facilities:s.facilities||{parking:!1,shower:!1,restroom:!1,agility:!1,rest_area:!1,water_station:!1},large_dog_area:s.large_dog_area||!1,small_dog_area:s.small_dog_area||!1,private_booths:s.private_booths||!1,private_booth_count:s.private_booth_count||0,facility_details:s.facility_details||"",description:s.description||""});const{data:i,error:j}=await v.from("smart_locks").select("*").eq("park_id",p);if(j)throw j;B(i||[]),i&&i.length>0&&A(i[0]);const{data:ie,error:ne}=await v.from("dogs").select(`
          *,
          vaccine_certifications!inner(*)
        `).eq("owner_id",g?.id).eq("vaccine_certifications.status","approved");if(ne)throw ne;Q(ie||[]),await k()}catch(s){console.error("Error fetching park data:",s),h("ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}finally{T(!1)}},k=async()=>{try{const{data:s,error:t}=await v.from("park_maintenance").select("*").eq("park_id",p).order("start_date",{ascending:!1});if(t)throw t;se(s||[])}catch(s){console.error("Error fetching maintenance schedules:",s)}},re=async s=>{if(s.preventDefault(),!(!g||!p)){X(!0);try{if(!d.title||!d.start_date||!d.end_date)throw new Error("å¿…é ˆé …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");const t=new Date(d.start_date);if(new Date(d.end_date)<=t)throw new Error("çµ‚äº†æ—¥æ™‚ã¯é–‹å§‹æ—¥æ™‚ã‚ˆã‚Šå¾Œã«è¨­å®šã—ã¦ãã ã•ã„ã€‚");if(t<new Date)throw new Error("é–‹å§‹æ—¥æ™‚ã¯ç¾åœ¨æ™‚åˆ»ã‚ˆã‚Šå¾Œã«è¨­å®šã—ã¦ãã ã•ã„ã€‚");const{error:j}=await v.from("park_maintenance").insert({park_id:p,title:d.title,description:d.description,start_date:_e(d.start_date),end_date:_e(d.end_date),is_emergency:d.is_emergency,notify_users:d.notify_users,created_by:g.id});if(j)throw j;N("ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã—ãŸã€‚"),S(!1),_({title:"",description:"",start_date:"",end_date:"",is_emergency:!1,notify_users:!0}),await k()}catch(t){console.error("Error creating maintenance:",t),h(t instanceof Error?t.message:"ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}finally{X(!1)}}},le=async s=>{if(window.confirm("ã“ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ"))try{const{error:t}=await v.from("park_maintenance").delete().eq("id",s);if(t)throw t;N("ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚"),await k()}catch(t){console.error("Error deleting maintenance:",t),h("ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}},Ce=s=>{const t=new Date,i=new Date(s.start_date),j=new Date(s.end_date);return s.status==="cancelled"?{status:"cancelled",label:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¸ˆã¿",color:"bg-gray-500"}:s.status==="completed"?{status:"completed",label:"å®Œäº†",color:"bg-gray-500"}:t>=i&&t<j?{status:"active",label:"ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­",color:"bg-red-500"}:t<i?{status:"scheduled",label:"äºˆå®š",color:"bg-yellow-500"}:{status:"completed",label:"å®Œäº†",color:"bg-gray-500"}},Ee=async s=>{if(s.preventDefault(),!(!r||!g)){n(!0);try{if(a.max_capacity<1)throw new Error("åå®¹äººæ•°ã¯1äººä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");if(a.private_booths&&a.private_booth_count<1)throw new Error("ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ¼ã‚¹ãŒã‚ã‚‹å ´åˆã¯ã€éƒ¨å±‹æ•°ã‚’1ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");const{error:t}=await v.from("dog_parks").update({max_capacity:a.max_capacity,facilities:a.facilities,large_dog_area:a.large_dog_area,small_dog_area:a.small_dog_area,private_booths:a.private_booths,private_booth_count:a.private_booths?a.private_booth_count:0,facility_details:a.facility_details,description:a.description,updated_at:new Date().toISOString()}).eq("id",r.id);if(t)throw t;N("æ–½è¨­æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã—ãŸã€‚"),P(!1),await F(),setTimeout(()=>{N("")},3e3)}catch(t){console.error("Error updating park:",t),h(t instanceof Error?t.message:"æ–½è¨­æƒ…å ±ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸã€‚"),setTimeout(()=>{h("")},5e3)}finally{n(!1)}}},Pe=s=>{ee(t=>t.includes(s)?t.filter(i=>i!==s):t.length>=f?(h(`æœ€å¤§${f}é ­ã¾ã§é¸æŠå¯èƒ½ã§ã™ã€‚`),t):(h(""),[...t,s]))},De=s=>{N(`PINã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã—ãŸ: ${s}`),setTimeout(()=>{N("")},3e3)},Ie=s=>{h(s),setTimeout(()=>{h("")},5e3)},he=s=>s==="ã‚ªã‚¹"?"ãã‚“":"ã¡ã‚ƒã‚“",Te=()=>w.map(s=>{const t=L.find(i=>i.id===s);return t?`${t.name}${he(t.gender)}`:""}).filter(s=>s).join("ã€"),ue=s=>s?new Date(s).toLocaleString("ja-JP",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Asia/Tokyo"}):"æœªè¨­å®š";return G?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-6",children:e.jsxs(D,{to:"/owner-dashboard",className:"flex items-center text-blue-600 hover:text-blue-800",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹"]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx(pe,{className:"w-8 h-8 text-blue-600 mr-3"}),r.name,"ã®ç®¡ç†"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-4 h-4 text-gray-500"}),e.jsx("p",{className:"text-gray-600",children:r.address})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(D,{to:`/parks/${r.id}`,children:e.jsxs(o,{variant:"secondary",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"å…¬é–‹ãƒšãƒ¼ã‚¸ã‚’è¦‹ã‚‹"]})}),e.jsxs(o,{onClick:()=>P(!0),children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"è¨­å®šã‚’ç·¨é›†"]})]})]}),U&&e.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded-lg p-4 flex items-start",children:[e.jsx(H,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{children:U})]}),q&&e.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 rounded-lg p-4 flex items-start",children:[e.jsx(O,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{children:q})]}),e.jsxs("div",{className:"flex space-x-4 border-b",children:[e.jsxs("button",{className:`px-4 py-2 font-medium ${b==="overview"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>C("overview"),children:[e.jsx(pe,{className:"w-4 h-4 inline mr-2"}),"æ¦‚è¦"]}),e.jsxs("button",{className:`px-4 py-2 font-medium ${b==="stats"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>C("stats"),children:[e.jsx(je,{className:"w-4 h-4 inline mr-2"}),"çµ±è¨ˆãƒ»åç›Š"]}),e.jsxs("button",{className:`px-4 py-2 font-medium ${b==="pins"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>C("pins"),children:[e.jsx(I,{className:"w-4 h-4 inline mr-2"}),"PINã‚³ãƒ¼ãƒ‰ç®¡ç†"]}),e.jsxs("button",{className:`px-4 py-2 font-medium ${b==="settings"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>C("settings"),children:[e.jsx(be,{className:"w-4 h-4 inline mr-2"}),"è¨­å®š"]})]}),b==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(u,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(fe,{className:"w-6 h-6 text-blue-600 mr-2"}),"åŸºæœ¬æƒ…å ±"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"æ–½è¨­æƒ…å ±"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ä½æ‰€:"})," ",r.address]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:"})," ",r.status==="approved"?"é‹å–¶ä¸­":"å¯©æŸ»ä¸­"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"æ–™é‡‘:"})," Â¥",r.price,"/æ—¥"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"æœ€å¤§åå®¹äººæ•°:"})," ",r.max_capacity,"äºº"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ç¾åœ¨ã®åˆ©ç”¨è€…æ•°:"})," ",r.current_occupancy,"äºº"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"è©•ä¾¡:"})," â˜…",r.average_rating.toFixed(1)," (",r.review_count,"ä»¶)"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"è¨­å‚™æƒ…å ±"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries({parking:"é§è»Šå ´",shower:"ã‚·ãƒ£ãƒ¯ãƒ¼è¨­å‚™",restroom:"ãƒˆã‚¤ãƒ¬",agility:"ã‚¢ã‚¸ãƒªãƒ†ã‚£è¨­å‚™",rest_area:"ä¼‘æ†©ã‚¹ãƒšãƒ¼ã‚¹",water_station:"çµ¦æ°´è¨­å‚™"}).map(([s,t])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-4 h-4 rounded ${r.facilities[s]?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-sm",children:t})]},s))}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"å¤§å‹çŠ¬ã‚¨ãƒªã‚¢:"})," ",r.large_dog_area?"ã‚ã‚Š":"ãªã—"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"å°å‹çŠ¬ã‚¨ãƒªã‚¢:"})," ",r.small_dog_area?"ã‚ã‚Š":"ãªã—"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ¼ã‚¹:"})," ",r.private_booths?`${r.private_booth_count}å®¤`:"ãªã—"]})]})]})]})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(Z,{className:"w-6 h-6 text-blue-600 mr-2"}),"ä»Šæ—¥ã®çµ±è¨ˆ"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Z,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"font-medium text-blue-900",children:"ä»Šæ—¥ã®äºˆç´„"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"5ä»¶"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"å‰æ—¥æ¯” +2ä»¶"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(K,{className:"w-5 h-5 text-green-600"}),e.jsx("h4",{className:"font-medium text-green-900",children:"ä»Šæ—¥ã®åç›Š"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Â¥4,000"}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"å‰æ—¥æ¯” +Â¥1,600"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ne,{className:"w-5 h-5 text-purple-600"}),e.jsx("h4",{className:"font-medium text-purple-900",children:"åˆ©ç”¨è€…æ•°"})]}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.current_occupancy,"äºº"]}),e.jsxs("p",{className:"text-xs text-purple-700 mt-1",children:["æœ€å¤§: ",r.max_capacity,"äºº"]})]})]})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(ve,{className:"w-6 h-6 text-blue-600 mr-2"}),"æ–½è¨­ç”»åƒ"]}),e.jsx(D,{to:`/parks/${r.id}/second-stage`,children:e.jsxs(o,{size:"sm",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"ç”»åƒã‚’ç®¡ç†"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.image_url?e.jsx("div",{className:"h-48 rounded-lg overflow-hidden",children:e.jsx("img",{src:r.image_url,alt:`${r.name} - ãƒ¡ã‚¤ãƒ³ç”»åƒ`,className:"w-full h-full object-cover",onError:s=>{s.currentTarget.src="https://via.placeholder.com/400x300?text=No+Image"}})}):e.jsx("div",{className:"h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"ãƒ¡ã‚¤ãƒ³ç”»åƒãªã—"})}),r.cover_image_url?e.jsx("div",{className:"h-48 rounded-lg overflow-hidden",children:e.jsx("img",{src:r.cover_image_url,alt:`${r.name} - ã‚«ãƒãƒ¼ç”»åƒ`,className:"w-full h-full object-cover",onError:s=>{s.currentTarget.src="https://via.placeholder.com/400x300?text=No+Image"}})}):e.jsx("div",{className:"h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"ã‚«ãƒãƒ¼ç”»åƒãªã—"})}),e.jsx("div",{className:"h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsxs(D,{to:`/parks/${r.id}/second-stage`,className:"text-blue-600 hover:text-blue-800 flex flex-col items-center",children:[e.jsx(ve,{className:"w-8 h-8 mb-2"}),e.jsx("p",{children:"ãã®ä»–ã®ç”»åƒã‚’ç®¡ç†"})]})})]})]})]}),b==="stats"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(u,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(je,{className:"w-6 h-6 text-blue-600 mr-2"}),"åˆ©ç”¨çµ±è¨ˆ"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Z,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"font-medium text-blue-900",children:"ä»Šæœˆã®äºˆç´„"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"32ä»¶"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"å‰æœˆæ¯” +12%"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(K,{className:"w-5 h-5 text-green-600"}),e.jsx("h4",{className:"font-medium text-green-900",children:"ä»Šæœˆã®åç›Š"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Â¥25,600"}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"å‰æœˆæ¯” +8%"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ne,{className:"w-5 h-5 text-purple-600"}),e.jsx("h4",{className:"font-medium text-purple-900",children:"åˆ©ç”¨è€…æ•°"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"128äºº"}),e.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"å‰æœˆæ¯” +15%"})]})]}),e.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"åˆ©ç”¨çµ±è¨ˆã‚°ãƒ©ãƒ•ï¼ˆå®Ÿè£…äºˆå®šï¼‰"})})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(K,{className:"w-6 h-6 text-blue-600 mr-2"}),"åç›Šæƒ…å ±"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"åç›Šé…åˆ†"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-800 mb-1",children:"ã‚ªãƒ¼ãƒŠãƒ¼å–ã‚Šåˆ†ï¼ˆ80%ï¼‰"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"Â¥20,480"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-800 mb-1",children:"ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ‰‹æ•°æ–™ï¼ˆ20%ï¼‰"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"Â¥5,120"})]})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"åç›Šå†…è¨³"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-800 mb-1",children:"é€šå¸¸åˆ©ç”¨"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:"Â¥12,800"}),e.jsx("p",{className:"text-xs text-green-700",children:"16ä»¶"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-800 mb-1",children:"æ–½è¨­è²¸ã—åˆ‡ã‚Š"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:"Â¥8,800"}),e.jsx("p",{className:"text-xs text-green-700",children:"2ä»¶"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-800 mb-1",children:"ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ¼ã‚¹"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:"Â¥4,000"}),e.jsx("p",{className:"text-xs text-green-700",children:"2ä»¶"})]})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-3",children:"æŒ¯è¾¼æƒ…å ±"}),e.jsx("p",{className:"text-sm text-purple-800 mb-2",children:"æŒ¯è¾¼ã¯æ¯æœˆ15æ—¥ã«å‰æœˆåˆ†ã‚’ä¸€æ‹¬ã§è¡Œã„ã¾ã™ã€‚æŒ¯è¾¼æ‰‹æ•°æ–™ã¯å½“ç¤¾è² æ‹…ã§ã™ã€‚"}),e.jsx(D,{to:"/owner-payment-system",children:e.jsxs(o,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"æŒ¯è¾¼æƒ…å ±ã‚’ç¢ºèª"]})})]})]})]})]}),b==="pins"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(u,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(I,{className:"w-6 h-6 text-blue-600 mr-2"}),"ã‚ªãƒ¼ãƒŠãƒ¼ç”¨PINã‚³ãƒ¼ãƒ‰ç™ºè¡Œ"]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{className:"w-5 h-5 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"ã‚ªãƒ¼ãƒŠãƒ¼ç‰¹æ¨©"}),e.jsx("p",{children:"ã‚ªãƒ¼ãƒŠãƒ¼ã¯æ±ºæ¸ˆä¸è¦ã§PINã‚³ãƒ¼ãƒ‰ã‚’ç™ºè¡Œã§ãã¾ã™ã€‚æ–½è¨­ã®ç®¡ç†ã‚„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã«ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"PINã‚³ãƒ¼ãƒ‰ã¯5åˆ†é–“æœ‰åŠ¹ã§ã™"}),e.jsx("li",{children:"å…¥å ´ãƒ»é€€å ´ãã‚Œãã‚Œã§PINã‚³ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™"}),e.jsx("li",{children:"ã‚¹ã‚¿ãƒƒãƒ•ã¨å…±æœ‰ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™"}),e.jsx("li",{children:"å…¥å ´ã™ã‚‹çŠ¬ã‚’é¸æŠã—ã¦ãã ã•ã„"})]})]})]})}),e.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[e.jsxs("button",{className:`px-6 py-3 rounded-lg flex items-center space-x-2 ${E==="entry"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>J("entry"),children:[e.jsx(de,{className:"w-5 h-5"}),e.jsx("span",{children:"å…¥å ´"})]}),e.jsxs("button",{className:`px-6 py-3 rounded-lg flex items-center space-x-2 ${E==="exit"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>J("exit"),children:[e.jsx(de,{className:"w-5 h-5 rotate-180"}),e.jsx("span",{children:"é€€å ´"})]})]}),M.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ã‚’é¸æŠ"}),e.jsx("select",{value:$?.id||"",onChange:s=>{const t=M.find(i=>i.id===s.target.value);A(t||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:M.map(s=>e.jsx("option",{value:s.id,children:s.lock_name},s.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["å…¥å ´ã™ã‚‹ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’é¸æŠï¼ˆæœ€å¤§",f,"é ­ï¼‰"]}),L.length===0?e.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg",children:e.jsxs("p",{className:"text-yellow-800",children:["ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®è¨¼æ˜æ›¸ãŒæ‰¿èªã•ã‚ŒãŸãƒ¯ãƒ³ã¡ã‚ƒã‚“ãŒã„ã¾ã›ã‚“ã€‚",e.jsx(D,{to:"/register-dog",className:"text-blue-600 hover:underline ml-1",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’ç™»éŒ²ã™ã‚‹"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L.map(s=>{const t=w.includes(s.id),i=!t&&w.length>=f;return e.jsxs("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-colors relative ${t?"border-green-500 bg-green-50":i?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"}`,onClick:()=>!i&&Pe(s.id),children:[t&&e.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center",children:e.jsx(O,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:s.image_url?e.jsx("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-6 h-6 text-gray-500",children:"ğŸ¾"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsxs("h3",{className:"font-semibold",children:[s.name,he(s.gender)]}),e.jsx(Ue,{status:we(s),size:"sm"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.breed," â€¢ ",s.gender]})]})]})]},s.id)})}),w.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-1",children:"é¸æŠä¸­ã®ãƒ¯ãƒ³ã¡ã‚ƒã‚“"}),e.jsx("p",{className:"text-sm text-green-800",children:Te()}),e.jsxs("p",{className:"text-xs text-green-700 mt-1",children:[w.length,"é ­ãŒåŒæ™‚å…¥å ´ã§ãã¾ã™"]})]})]}),$?e.jsx("div",{className:"mt-6",children:w.length>0?e.jsx(Be,{lockId:$.lock_id,parkName:r.name,purpose:E,onSuccess:De,onError:Ie}):e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg text-center",children:[e.jsx(H,{className:"w-6 h-6 text-yellow-600 mx-auto mb-2"}),e.jsx("p",{className:"text-yellow-800 font-medium",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’1é ­ä»¥ä¸Šé¸æŠã—ã¦ãã ã•ã„"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"PINã‚³ãƒ¼ãƒ‰ã‚’ç™ºè¡Œã™ã‚‹ã«ã¯ã€å…¥å ´ã™ã‚‹ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™"})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(I,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“"}),e.jsx(o,{onClick:()=>C("settings"),children:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ã‚’è¨­å®šã™ã‚‹"})]})]}),e.jsx(u,{className:"p-6 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(I,{className:"w-6 h-6 text-blue-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"PINã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[e.jsx("p",{children:"â€¢ åˆ©ç”¨è€…ã¯PINã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦å…¥é€€å ´ã—ã¾ã™"}),e.jsx("p",{children:"â€¢ PINã‚³ãƒ¼ãƒ‰ã¯5åˆ†é–“æœ‰åŠ¹ã§ã€åˆ©ç”¨è€…ãŒæ”¯æ‰•ã„å¾Œã«ç™ºè¡Œã•ã‚Œã¾ã™"}),e.jsx("p",{children:"â€¢ ã‚ªãƒ¼ãƒŠãƒ¼ã¯æ±ºæ¸ˆä¸è¦ã§PINã‚³ãƒ¼ãƒ‰ã‚’ç™ºè¡Œã§ãã¾ã™"}),e.jsx("p",{children:"â€¢ æ–½è¨­è²¸ã—åˆ‡ã‚Šã®å ´åˆã€åˆ©ç”¨è€…ã¯å‹é”ã«PINã‚³ãƒ¼ãƒ‰ã‚’å…±æœ‰ã§ãã¾ã™"})]})]})]})})]}),b==="settings"&&e.jsxs("div",{className:"space-y-6",children:[Y&&e.jsxs(u,{className:"p-6 bg-blue-50 border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-blue-900",children:"æ–½è¨­æƒ…å ±ã®ç·¨é›†"}),e.jsx("button",{onClick:()=>P(!1),className:"text-blue-600 hover:text-blue-800",children:e.jsx(xe,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Ee,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"å¤‰æ›´ä¸å¯é …ç›®"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"ä½æ‰€:"})," ",r.address]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"æ–™é‡‘:"})," Â¥",r.price,"/æ—¥ï¼ˆå…¨å›½çµ±ä¸€æ–™é‡‘ï¼‰"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æœ€å¤§åå®¹äººæ•° *"}),e.jsx("input",{type:"number",min:"1",max:"100",value:a.max_capacity,onChange:s=>m(t=>({...t,max_capacity:parseInt(s.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"èª¬æ˜æ–‡"}),e.jsx("textarea",{value:a.description,onChange:s=>m(t=>({...t,description:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"æ–½è¨­ã®ç‰¹å¾´ã‚„åˆ©ç”¨æ¡ˆå†…ãªã©"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"ã‚¨ãƒªã‚¢è¨­å®š"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.large_dog_area,onChange:s=>m(t=>({...t,large_dog_area:s.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"å¤§å‹çŠ¬ã‚¨ãƒªã‚¢"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.small_dog_area,onChange:s=>m(t=>({...t,small_dog_area:s.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"å°å‹çŠ¬ã‚¨ãƒªã‚¢"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ¼ã‚¹"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.private_booths,onChange:s=>m(t=>({...t,private_booths:s.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ¼ã‚¹ã‚ã‚Š"})]}),a.private_booths&&e.jsxs("div",{className:"ml-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"éƒ¨å±‹æ•°"}),e.jsx("input",{type:"number",min:"1",max:"10",value:a.private_booth_count,onChange:s=>m(t=>({...t,private_booth_count:parseInt(s.target.value)||0})),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"è¨­å‚™æƒ…å ±"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries({parking:"é§è»Šå ´",shower:"ã‚·ãƒ£ãƒ¯ãƒ¼è¨­å‚™",restroom:"ãƒˆã‚¤ãƒ¬",agility:"ã‚¢ã‚¸ãƒªãƒ†ã‚£è¨­å‚™",rest_area:"ä¼‘æ†©ã‚¹ãƒšãƒ¼ã‚¹",water_station:"çµ¦æ°´è¨­å‚™"}).map(([s,t])=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.facilities[s],onChange:i=>m(j=>({...j,facilities:{...j.facilities,[s]:i.target.checked}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:t})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"è¨­å‚™è©³ç´°èª¬æ˜"}),e.jsx("textarea",{value:a.facility_details,onChange:s=>m(t=>({...t,facility_details:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"è¨­å‚™ã®è©³ç´°èª¬æ˜ã‚„åˆ©ç”¨æ¡ˆå†…ãªã©"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(o,{type:"button",variant:"secondary",onClick:()=>P(!1),children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),e.jsx(o,{type:"submit",isLoading:x,className:"bg-blue-600 hover:bg-blue-700",children:"æ›´æ–°"})]})]})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(be,{className:"w-6 h-6 text-blue-600 mr-2"}),"æ–½è¨­è¨­å®š"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"åŸºæœ¬è¨­å®š"}),e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"æ–½è¨­ã®åŸºæœ¬æƒ…å ±ã‚„è¨­å‚™æƒ…å ±ã‚’ç·¨é›†ã§ãã¾ã™ã€‚ä½æ‰€ã¨æ–™é‡‘ã¯å¤‰æ›´ã§ãã¾ã›ã‚“ã€‚"}),e.jsxs(o,{size:"sm",onClick:()=>P(!0),children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"åŸºæœ¬æƒ…å ±ã‚’ç·¨é›†"]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"æ–™é‡‘è¨­å®š"}),e.jsx("p",{className:"text-sm text-green-800 mb-3",children:"æ–™é‡‘ä½“ç³»ã¯å…¨å›½çµ±ä¸€ã§ã™ã€‚å¤‰æ›´ã¯ã§ãã¾ã›ã‚“ã€‚"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"â€¢ é€šå¸¸åˆ©ç”¨: Â¥800/æ—¥ï¼ˆå›ºå®šï¼‰"}),e.jsx("li",{children:"â€¢ æ–½è¨­è²¸ã—åˆ‡ã‚Š: Â¥4,400/æ™‚é–“ï¼ˆå›ºå®šï¼‰"}),e.jsx("li",{children:"â€¢ ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ¼ã‚¹: ã‚µãƒ–ã‚¹ã‚¯ä½¿ã„æ”¾é¡Œãƒ»1æ—¥åˆ¸ã§ã‚‚åˆ©ç”¨å¯èƒ½ï¼ˆè¿½åŠ æ–™é‡‘ãªã—ï¼‰"})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-3",children:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯è¨­å®š"}),e.jsx("p",{className:"text-sm text-purple-800 mb-3",children:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ã®è¨­å®šã‚’ç®¡ç†ã—ã¾ã™ã€‚"}),e.jsxs(o,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ã‚’ç®¡ç†"]})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-orange-900 mb-3",children:"å–¶æ¥­æ™‚é–“è¨­å®š"}),e.jsx("p",{className:"text-sm text-orange-800 mb-3",children:"å–¶æ¥­æ™‚é–“ã¯24æ™‚é–“ã§ã™ã€‚å¤‰æ›´ã¯ã§ãã¾ã›ã‚“ã€‚"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"24æ™‚é–“å–¶æ¥­"})]})]})]})]}),e.jsxs(u,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(ye,{className:"w-6 h-6 text-blue-600 mr-2"}),"ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ç®¡ç†"]}),e.jsxs(o,{onClick:()=>S(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹äºˆå®šã‚’è¿½åŠ "]})]}),te&&e.jsxs(u,{className:"p-4 mb-6 bg-blue-50 border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"æ–°ã—ã„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹äºˆå®š"}),e.jsx("button",{onClick:()=>S(!1),className:"text-blue-600 hover:text-blue-800",children:e.jsx(xe,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:re,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å†…å®¹ *"}),e.jsx("input",{type:"text",value:d.title,onChange:s=>_(t=>({...t,title:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ä¾‹ï¼šè¨­å‚™ç‚¹æ¤œãƒ»æ¸…æƒä½œæ¥­",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"é–‹å§‹æ—¥æ™‚ * (æ—¥æœ¬æ™‚é–“)"}),e.jsx("input",{type:"datetime-local",value:d.start_date,onChange:s=>_(t=>({...t,start_date:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"æ—¥æœ¬æ™‚é–“ã§å…¥åŠ›ã—ã¦ãã ã•ã„"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"çµ‚äº†æ—¥æ™‚ * (æ—¥æœ¬æ™‚é–“)"}),e.jsx("input",{type:"datetime-local",value:d.end_date,onChange:s=>_(t=>({...t,end_date:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"æ—¥æœ¬æ™‚é–“ã§å…¥åŠ›ã—ã¦ãã ã•ã„"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"è©³ç´°èª¬æ˜"}),e.jsx("textarea",{value:d.description,onChange:s=>_(t=>({...t,description:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹å†…å®¹ã®è©³ç´°èª¬æ˜ï¼ˆä»»æ„ï¼‰"})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:d.is_emergency,onChange:s=>_(t=>({...t,is_emergency:s.target.checked})),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ç·Šæ€¥ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:d.notify_users,onChange:s=>_(t=>({...t,notify_users:s.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(o,{type:"button",variant:"secondary",onClick:()=>S(!1),children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),e.jsx(o,{type:"submit",isLoading:ae,className:"bg-blue-600 hover:bg-blue-700",children:"ä½œæˆ"})]})]})]}),e.jsx("div",{className:"space-y-4",children:R.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ye,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹äºˆå®šãŒã‚ã‚Šã¾ã›ã‚“"}),e.jsx("p",{className:"text-sm",children:"æ–½è¨­ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹äºˆå®šã‚’è¿½åŠ ã—ã¦ãã ã•ã„"})]}):R.map(s=>{const t=Ce(s);return e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.title}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium text-white ${t.color}`,children:t.label}),s.is_emergency&&e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"ç·Šæ€¥"})]}),s.description&&e.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"é–‹å§‹:"})," ",ue(s.start_date)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"çµ‚äº†:"})," ",ue(s.end_date)]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:s.status==="scheduled"&&e.jsx(o,{size:"sm",variant:"secondary",onClick:()=>le(s.id),className:"text-red-600 hover:text-red-800",children:e.jsx(xe,{className:"w-4 h-4"})})})]})},s.id)})}),e.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(H,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ©Ÿèƒ½ã«ã¤ã„ã¦"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"â€¢ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ã¯æ–°è¦äºˆç´„ã‚’å—ã‘ä»˜ã‘ã¾ã›ã‚“"}),e.jsx("li",{children:"â€¢ æ—¢å­˜ã®äºˆç´„ãŒã‚ã‚‹å ´åˆã¯äº‹å‰ã«åˆ©ç”¨è€…ã«é€£çµ¡ã—ã¦ãã ã•ã„"}),e.jsx("li",{children:"â€¢ ç·Šæ€¥ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®å ´åˆã¯å³åº§ã«æ–½è¨­ãŒåˆ©ç”¨åœæ­¢ã«ãªã‚Šã¾ã™"}),e.jsx("li",{children:"â€¢ ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€åˆ©ç”¨è€…ã«ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ãŒé€ä¿¡ã•ã‚Œã¾ã™"})]})]})]})})]}),e.jsx(u,{className:"p-6 bg-gray-50",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(fe,{className:"w-6 h-6 text-gray-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"é‹å–¶ã‚µãƒãƒ¼ãƒˆ"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("p",{children:"â€¢ è¨­å®šã«é–¢ã™ã‚‹ã”è³ªå•ã¯é‹å–¶äº‹å‹™å±€ã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„"}),e.jsx("p",{children:"â€¢ QRã‚³ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã®è¨­ç½®ãƒ»è¨­å®šã‚µãƒãƒ¼ãƒˆã‚’æä¾›ã—ã¦ã„ã¾ã™"}),e.jsx("p",{children:"â€¢ é‹å–¶é–‹å§‹å¾Œã‚‚ç¶™ç¶šçš„ãªã‚µãƒãƒ¼ãƒˆã‚’è¡Œã„ã¾ã™"}),e.jsx("p",{children:"â€¢ ğŸ“§ ã‚µãƒãƒ¼ãƒˆçª“å£: info@dogparkjp.com"})]})]})]})})]})]}):e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[e.jsx(H,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"æŒ‡å®šã•ã‚ŒãŸãƒ‰ãƒƒã‚°ãƒ©ãƒ³ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‹ã€ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚"}),e.jsx(D,{to:"/owner-dashboard",children:e.jsx(o,{children:"ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹"})})]})}export{We as ParkManagement};
