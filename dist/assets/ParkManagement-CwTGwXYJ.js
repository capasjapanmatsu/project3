import{u as e,j as s,B as l,s as a}from"./index-T-nty6Ge.js";import{r as t,h as r,u as c,L as i}from"./vendor-BHVjIt_u.js";import{C as n}from"./Card-DW8Xk96S.js";import{K as d,q as x,au as m,s as o,R as h,k as j,Y as p,i as u,D as N,e as b,b as g,m as f,z as v,N as y,av as w,F as _,a2 as k,h as I,aw as S}from"./ui-srxHNTHo.js";import{V as P,g as C}from"./VaccineBadge-8kOlr-l0.js";import"./supabase-CKbzEL5D.js";function T({lockId:r,parkName:c="ãƒ‰ãƒƒã‚°ãƒ‘ãƒ¼ã‚¯",purpose:i="entry",className:N="",onSuccess:b,onError:g,reservationId:f}){const{user:v}=e(),[y,w]=t.useState(null),[_,k]=t.useState(null),[I,S]=t.useState(null),[P,C]=t.useState(!1),[T,E]=t.useState(null),[$,q]=t.useState(!1),[z,D]=t.useState(!1),[M,R]=t.useState(!1),[Q,A]=t.useState("");t.useEffect((()=>{if(y&&_){const e=setInterval((()=>{const s=new Date,l=_.getTime()-s.getTime();if(l<=0)S("æœŸé™åˆ‡ã‚Œ"),w(null),k(null),clearInterval(e);else{const e=Math.floor(l/6e4),s=Math.floor(l%6e4/1e3);S(`${e}:${s.toString().padStart(2,"0")}`)}}),1e3);return()=>clearInterval(e)}}),[y,_]);const B=async()=>{if(v){C(!0),E(null);try{const{data:{session:e}}=await a.auth.getSession();if(!e?.access_token)throw new Error("èªè¨¼ãŒå¿…è¦ã§ã™");let s=5,l=null;if(f){const e=await(async e=>{try{const{data:s,error:l}=await a.from("reservations").select("\n          *,\n          dog_park:dog_parks(*),\n          dog:dogs(*)\n        ").eq("id",e).single();return l?null:s}catch(s){return null}})(f);if(e&&"whole_facility"===e.reservation_type&&(l=(e=>{try{const s=new Date(e.date),[l,a]=e.start_time.split(":").map(Number);return s.setHours(l,a,0,0),new Date(s.getTime()+60*e.duration*60*1e3)}catch(s){return null}})(e),l)){const e=new Date,a=l.getTime()-e.getTime();s=Math.max(1,Math.ceil(a/6e4))}}const t=await fetch("https://onmcivwxtzqajcovptgf.supabase.co/functions/v1/generate-pin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({lock_id:r,purpose:i,expiry_minutes:s,reservation_id:f||void 0})});if(!t.ok){const e=await t.json();throw new Error(e.error||"PINã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ")}const{pin:c,expires_at:n}=await t.json();w(c),k(new Date(n)),D(!0),b&&b(c),setTimeout((()=>{D(!1)}),3e3)}catch(e){if(e.message&&e.message.startsWith("PAYMENT_REQUIRED:")){const s=e.message.replace("PAYMENT_REQUIRED:","").trim();A(s),R(!0),E(null)}else E(e.message||"PINã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ"),R(!1);g&&g(e.message||"PINã‚³ãƒ¼ãƒ‰ã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ")}finally{C(!1)}}};return s.jsx(n,{className:`p-4 ${N}`,children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center justify-center",children:[s.jsx(d,{className:"w-5 h-5 text-blue-600 mr-2"}),c,"ã®","entry"===i?"å…¥å£":"å‡ºå£"]}),y?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-2 border-blue-200 mx-auto",children:[s.jsx("p",{className:"text-sm text-blue-800 mb-1",children:"PINã‚³ãƒ¼ãƒ‰:"}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("p",{className:"text-3xl font-bold tracking-widest text-blue-700",children:y}),s.jsx("button",{onClick:()=>{y&&navigator.clipboard.writeText(y).then((()=>{q(!0),setTimeout((()=>q(!1)),2e3)}))},className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"ã‚³ãƒ”ãƒ¼",children:$?s.jsx(x,{className:"w-5 h-5"}):s.jsx(m,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"bg-yellow-50 p-2 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-yellow-800",children:[s.jsx(o,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:["æœ‰åŠ¹æœŸé™: ",I]})]})}),s.jsx("div",{className:"flex justify-center space-x-3",children:s.jsxs(l,{onClick:B,variant:"secondary",size:"sm",isLoading:P,children:[s.jsx(h,{className:"w-4 h-4 mr-1"}),"å†ç”Ÿæˆ"]})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["entry"===i?"å…¥å ´":"é€€å ´","æ™‚ã«ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ã®ã‚­ãƒ¼ãƒ‘ãƒƒãƒ‰ã«ä¸Šè¨˜ã®PINã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-600 mb-4",children:["entry"===i?"å…¥å ´":"é€€å ´","ç”¨ã®PINã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚",s.jsx("br",{}),"ç”Ÿæˆã•ã‚ŒãŸPINã‚³ãƒ¼ãƒ‰ã¯5åˆ†é–“æœ‰åŠ¹ã§ã™ã€‚"]}),T&&s.jsxs("div",{className:"bg-red-50 p-3 rounded-lg flex items-center justify-center text-red-600",children:[s.jsx(j,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:T})]}),M&&s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[s.jsx(p,{className:"w-6 h-6 text-blue-600 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"æ±ºæ¸ˆãŒå¿…è¦ã§ã™"}),s.jsx("p",{className:"text-sm text-blue-800 mb-4",children:Q})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(l,{onClick:()=>window.location.href="/subscription",className:"w-full bg-purple-600 hover:bg-purple-700",children:[s.jsx(p,{className:"w-4 h-4 mr-2"}),"ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã«åŠ å…¥ï¼ˆÂ¥3,800/æœˆï¼‰"]}),s.jsxs(l,{onClick:()=>window.location.href="/parks",variant:"secondary",className:"w-full",children:[s.jsx(u,{className:"w-4 h-4 mr-2"}),"1æ—¥åˆ¸ã‚’è³¼å…¥ï¼ˆÂ¥800ï¼‰"]})]}),s.jsxs("p",{className:"text-xs text-blue-700 mt-3",children:["â€¢ ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ï¼šå…¨å›½ã®ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ãŒä½¿ã„æ”¾é¡Œ",s.jsx("br",{}),"â€¢ 1æ—¥åˆ¸ï¼šé¸æŠã—ãŸãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã§24æ™‚é–“åˆ©ç”¨å¯èƒ½"]})]}),z&&s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg flex items-center justify-center text-green-600",children:[s.jsx(x,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"PINã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã—ãŸ"})]}),s.jsxs(l,{onClick:B,isLoading:P,className:"w-full",children:[s.jsx(d,{className:"w-4 h-4 mr-2"}),"entry"===i?"å…¥å ´":"é€€å ´","ç”¨PINã‚’ç”Ÿæˆ"]})]})]})})}function E(){const{parkId:m}=r(),{user:h}=e(),p=c(),[E,$]=t.useState(null),[q,z]=t.useState(!0),[D,M]=t.useState(""),[R,Q]=t.useState(""),[A,B]=t.useState("overview"),[L,O]=t.useState([]),[U,Y]=t.useState(null),[F,V]=t.useState("entry"),[H,J]=t.useState([]),[K,W]=t.useState([]);t.useEffect((()=>{h&&m?G():p("/owner-dashboard")}),[h,m,p]),t.useEffect((()=>{(async()=>{if(h)try{const{data:e,error:s}=await a.from("dogs").select("\n            *,\n            vaccine_certifications (\n              id,\n              status,\n              rabies_expiry_date,\n              combo_expiry_date,\n              approved_at\n            )\n          ").eq("owner_id",h.id);if(s)throw s;const l=(e||[]).filter((e=>"approved"===C(e)));J(l)}catch(e){}})()}),[h]);const G=async()=>{try{z(!0);const{data:e,error:s}=await a.from("dog_parks").select("*").eq("id",m).eq("owner_id",h?.id).single();if(s)throw s;if(!e)return void p("/owner-dashboard");$(e);const{data:l,error:t}=await a.from("smart_locks").select("*").eq("park_id",m);if(t)throw t;O(l||[]),l&&l.length>0&&Y(l[0]);const{data:r,error:c}=await a.from("dogs").select("\n          *,\n          vaccine_certifications!inner(*)\n        ").eq("owner_id",h?.id).eq("vaccine_certifications.status","approved");if(c)throw c;J(r||[])}catch(e){M("ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}finally{z(!1)}},X=e=>"ã‚ªã‚¹"===e?"ãã‚“":"ã¡ã‚ƒã‚“";return q?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):E?s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsx("div",{className:"flex items-center space-x-4 mb-6",children:s.jsxs(i,{to:"/owner-dashboard",className:"flex items-center text-blue-600 hover:text-blue-800",children:[s.jsx(N,{className:"w-4 h-4 mr-2"}),"ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹"]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center",children:[s.jsx(b,{className:"w-8 h-8 text-blue-600 mr-3"}),E.name,"ã®ç®¡ç†"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(g,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-gray-600",children:E.address})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(i,{to:`/parks/${E.id}`,children:s.jsxs(l,{variant:"secondary",children:[s.jsx(f,{className:"w-4 h-4 mr-2"}),"å…¬é–‹ãƒšãƒ¼ã‚¸ã‚’è¦‹ã‚‹"]})}),s.jsxs(l,{children:[s.jsx(v,{className:"w-4 h-4 mr-2"}),"è¨­å®šã‚’ç·¨é›†"]})]})]}),D&&s.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded-lg p-4 flex items-start",children:[s.jsx(j,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),s.jsx("p",{children:D})]}),R&&s.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 rounded-lg p-4 flex items-start",children:[s.jsx(x,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),s.jsx("p",{children:R})]}),s.jsxs("div",{className:"flex space-x-4 border-b",children:[s.jsxs("button",{className:"px-4 py-2 font-medium "+("overview"===A?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>B("overview"),children:[s.jsx(b,{className:"w-4 h-4 inline mr-2"}),"æ¦‚è¦"]}),s.jsxs("button",{className:"px-4 py-2 font-medium "+("stats"===A?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>B("stats"),children:[s.jsx(y,{className:"w-4 h-4 inline mr-2"}),"çµ±è¨ˆãƒ»åç›Š"]}),s.jsxs("button",{className:"px-4 py-2 font-medium "+("pins"===A?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>B("pins"),children:[s.jsx(d,{className:"w-4 h-4 inline mr-2"}),"PINã‚³ãƒ¼ãƒ‰ç®¡ç†"]}),s.jsxs("button",{className:"px-4 py-2 font-medium "+("settings"===A?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),onClick:()=>B("settings"),children:[s.jsx(w,{className:"w-4 h-4 inline mr-2"}),"è¨­å®š"]})]}),"overview"===A&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(n,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[s.jsx(_,{className:"w-6 h-6 text-blue-600 mr-2"}),"åŸºæœ¬æƒ…å ±"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"æ–½è¨­æƒ…å ±"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"ä½æ‰€:"})," ",E.address]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:"})," ","approved"===E.status?"é‹å–¶ä¸­":"å¯©æŸ»ä¸­"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"æ–™é‡‘:"})," Â¥",E.price,"/æ—¥"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"æœ€å¤§åå®¹äººæ•°:"})," ",E.max_capacity,"äºº"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"ç¾åœ¨ã®åˆ©ç”¨è€…æ•°:"})," ",E.current_occupancy,"äºº"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"è©•ä¾¡:"})," â˜…",E.average_rating.toFixed(1)," (",E.review_count,"ä»¶)"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"è¨­å‚™æƒ…å ±"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries({parking:"é§è»Šå ´",shower:"ã‚·ãƒ£ãƒ¯ãƒ¼è¨­å‚™",restroom:"ãƒˆã‚¤ãƒ¬",agility:"ã‚¢ã‚¸ãƒªãƒ†ã‚£è¨­å‚™",rest_area:"ä¼‘æ†©ã‚¹ãƒšãƒ¼ã‚¹",water_station:"çµ¦æ°´è¨­å‚™"}).map((([e,l])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 rounded "+(E.facilities[e]?"bg-green-500":"bg-gray-300")}),s.jsx("span",{className:"text-sm",children:l})]},e)))}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"å¤§å‹çŠ¬ã‚¨ãƒªã‚¢:"})," ",E.large_dog_area?"ã‚ã‚Š":"ãªã—"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"å°å‹çŠ¬ã‚¨ãƒªã‚¢:"})," ",E.small_dog_area?"ã‚ã‚Š":"ãªã—"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ¼ã‚¹:"})," ",E.private_booths?`${E.private_booth_count}å®¤`:"ãªã—"]})]})]})]})]}),s.jsxs(n,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[s.jsx(u,{className:"w-6 h-6 text-blue-600 mr-2"}),"ä»Šæ—¥ã®çµ±è¨ˆ"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(u,{className:"w-5 h-5 text-blue-600"}),s.jsx("h4",{className:"font-medium text-blue-900",children:"ä»Šæ—¥ã®äºˆç´„"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"5ä»¶"}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"å‰æ—¥æ¯” +2ä»¶"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(k,{className:"w-5 h-5 text-green-600"}),s.jsx("h4",{className:"font-medium text-green-900",children:"ä»Šæ—¥ã®åç›Š"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Â¥4,000"}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"å‰æ—¥æ¯” +Â¥1,600"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(I,{className:"w-5 h-5 text-purple-600"}),s.jsx("h4",{className:"font-medium text-purple-900",children:"åˆ©ç”¨è€…æ•°"})]}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[E.current_occupancy,"äºº"]}),s.jsxs("p",{className:"text-xs text-purple-700 mt-1",children:["æœ€å¤§: ",E.max_capacity,"äºº"]})]})]})]}),s.jsxs(n,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[s.jsx(S,{className:"w-6 h-6 text-blue-600 mr-2"}),"æ–½è¨­ç”»åƒ"]}),s.jsx(i,{to:`/parks/${E.id}/second-stage`,children:s.jsxs(l,{size:"sm",children:[s.jsx(v,{className:"w-4 h-4 mr-2"}),"ç”»åƒã‚’ç®¡ç†"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.image_url?s.jsx("div",{className:"h-48 rounded-lg overflow-hidden",children:s.jsx("img",{src:E.image_url,alt:`${E.name} - ãƒ¡ã‚¤ãƒ³ç”»åƒ`,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="https://via.placeholder.com/400x300?text=No+Image"}})}):s.jsx("div",{className:"h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"ãƒ¡ã‚¤ãƒ³ç”»åƒãªã—"})}),E.cover_image_url?s.jsx("div",{className:"h-48 rounded-lg overflow-hidden",children:s.jsx("img",{src:E.cover_image_url,alt:`${E.name} - ã‚«ãƒãƒ¼ç”»åƒ`,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="https://via.placeholder.com/400x300?text=No+Image"}})}):s.jsx("div",{className:"h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"ã‚«ãƒãƒ¼ç”»åƒãªã—"})}),s.jsx("div",{className:"h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsxs(i,{to:`/parks/${E.id}/second-stage`,className:"text-blue-600 hover:text-blue-800 flex flex-col items-center",children:[s.jsx(S,{className:"w-8 h-8 mb-2"}),s.jsx("p",{children:"ãã®ä»–ã®ç”»åƒã‚’ç®¡ç†"})]})})]})]})]}),"stats"===A&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(n,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[s.jsx(y,{className:"w-6 h-6 text-blue-600 mr-2"}),"åˆ©ç”¨çµ±è¨ˆ"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(u,{className:"w-5 h-5 text-blue-600"}),s.jsx("h4",{className:"font-medium text-blue-900",children:"ä»Šæœˆã®äºˆç´„"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"32ä»¶"}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"å‰æœˆæ¯” +12%"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(k,{className:"w-5 h-5 text-green-600"}),s.jsx("h4",{className:"font-medium text-green-900",children:"ä»Šæœˆã®åç›Š"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Â¥25,600"}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"å‰æœˆæ¯” +8%"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(I,{className:"w-5 h-5 text-purple-600"}),s.jsx("h4",{className:"font-medium text-purple-900",children:"åˆ©ç”¨è€…æ•°"})]}),s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"128äºº"}),s.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"å‰æœˆæ¯” +15%"})]})]}),s.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-gray-500",children:"åˆ©ç”¨çµ±è¨ˆã‚°ãƒ©ãƒ•ï¼ˆå®Ÿè£…äºˆå®šï¼‰"})})]}),s.jsxs(n,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[s.jsx(k,{className:"w-6 h-6 text-blue-600 mr-2"}),"åç›Šæƒ…å ±"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"åç›Šé…åˆ†"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-800 mb-1",children:"ã‚ªãƒ¼ãƒŠãƒ¼å–ã‚Šåˆ†ï¼ˆ80%ï¼‰"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"Â¥20,480"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-800 mb-1",children:"ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ‰‹æ•°æ–™ï¼ˆ20%ï¼‰"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"Â¥5,120"})]})]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"åç›Šå†…è¨³"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-800 mb-1",children:"é€šå¸¸åˆ©ç”¨"}),s.jsx("p",{className:"text-xl font-bold text-green-600",children:"Â¥12,800"}),s.jsx("p",{className:"text-xs text-green-700",children:"16ä»¶"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-800 mb-1",children:"æ–½è¨­è²¸ã—åˆ‡ã‚Š"}),s.jsx("p",{className:"text-xl font-bold text-green-600",children:"Â¥8,800"}),s.jsx("p",{className:"text-xs text-green-700",children:"2ä»¶"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-800 mb-1",children:"ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ¼ã‚¹"}),s.jsx("p",{className:"text-xl font-bold text-green-600",children:"Â¥4,000"}),s.jsx("p",{className:"text-xs text-green-700",children:"2ä»¶"})]})]})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-purple-900 mb-3",children:"æŒ¯è¾¼æƒ…å ±"}),s.jsx("p",{className:"text-sm text-purple-800 mb-2",children:"æŒ¯è¾¼ã¯æ¯æœˆ15æ—¥ã«å‰æœˆåˆ†ã‚’ä¸€æ‹¬ã§è¡Œã„ã¾ã™ã€‚æŒ¯è¾¼æ‰‹æ•°æ–™ã¯å½“ç¤¾è² æ‹…ã§ã™ã€‚"}),s.jsx(i,{to:"/owner-payment-system",children:s.jsxs(l,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(k,{className:"w-4 h-4 mr-2"}),"æŒ¯è¾¼æƒ…å ±ã‚’ç¢ºèª"]})})]})]})]})]}),"pins"===A&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(n,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[s.jsx(d,{className:"w-6 h-6 text-blue-600 mr-2"}),"ã‚ªãƒ¼ãƒŠãƒ¼ç”¨PINã‚³ãƒ¼ãƒ‰ç™ºè¡Œ"]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(x,{className:"w-5 h-5 text-blue-600 mt-1 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"ã‚ªãƒ¼ãƒŠãƒ¼ç‰¹æ¨©"}),s.jsx("p",{children:"ã‚ªãƒ¼ãƒŠãƒ¼ã¯æ±ºæ¸ˆä¸è¦ã§PINã‚³ãƒ¼ãƒ‰ã‚’ç™ºè¡Œã§ãã¾ã™ã€‚æ–½è¨­ã®ç®¡ç†ã‚„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã«ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚"}),s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[s.jsx("li",{children:"PINã‚³ãƒ¼ãƒ‰ã¯5åˆ†é–“æœ‰åŠ¹ã§ã™"}),s.jsx("li",{children:"å…¥å ´ãƒ»é€€å ´ãã‚Œãã‚Œã§PINã‚³ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™"}),s.jsx("li",{children:"ã‚¹ã‚¿ãƒƒãƒ•ã¨å…±æœ‰ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™"}),s.jsx("li",{children:"å…¥å ´ã™ã‚‹çŠ¬ã‚’é¸æŠã—ã¦ãã ã•ã„"})]})]})]})}),s.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[s.jsxs("button",{className:"px-6 py-3 rounded-lg flex items-center space-x-2 "+("entry"===F?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>V("entry"),children:[s.jsx(N,{className:"w-5 h-5"}),s.jsx("span",{children:"å…¥å ´"})]}),s.jsxs("button",{className:"px-6 py-3 rounded-lg flex items-center space-x-2 "+("exit"===F?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),onClick:()=>V("exit"),children:[s.jsx(N,{className:"w-5 h-5 rotate-180"}),s.jsx("span",{children:"é€€å ´"})]})]}),L.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ã‚’é¸æŠ"}),s.jsx("select",{value:U?.id||"",onChange:e=>{const s=L.find((s=>s.id===e.target.value));Y(s||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:L.map((e=>s.jsx("option",{value:e.id,children:e.lock_name},e.id)))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["å…¥å ´ã™ã‚‹ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’é¸æŠï¼ˆæœ€å¤§",3,"é ­ï¼‰"]}),0===H.length?s.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg",children:s.jsxs("p",{className:"text-yellow-800",children:["ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®è¨¼æ˜æ›¸ãŒæ‰¿èªã•ã‚ŒãŸãƒ¯ãƒ³ã¡ã‚ƒã‚“ãŒã„ã¾ã›ã‚“ã€‚",s.jsx(i,{to:"/register-dog",className:"text-blue-600 hover:underline ml-1",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’ç™»éŒ²ã™ã‚‹"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:H.map((e=>{const l=K.includes(e.id),a=!l&&K.length>=3;return s.jsxs("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-colors relative "+(l?"border-green-500 bg-green-50":a?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300"),onClick:()=>{return!a&&(s=e.id,void W((e=>e.includes(s)?e.filter((e=>e!==s)):e.length>=3?(M("æœ€å¤§3é ­ã¾ã§é¸æŠå¯èƒ½ã§ã™ã€‚"),e):(M(""),[...e,s]))));var s},children:[l&&s.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center",children:s.jsx(x,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:e.image_url?s.jsx("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-6 h-6 text-gray-500",children:"ğŸ¾"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsxs("h3",{className:"font-semibold",children:[e.name,X(e.gender)]}),s.jsx(P,{status:C(e),size:"sm"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e.breed," â€¢ ",e.gender]})]})]})]},e.id)}))}),K.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-green-900 mb-1",children:"é¸æŠä¸­ã®ãƒ¯ãƒ³ã¡ã‚ƒã‚“"}),s.jsx("p",{className:"text-sm text-green-800",children:K.map((e=>{const s=H.find((s=>s.id===e));return s?`${s.name}${X(s.gender)}`:""})).filter((e=>e)).join("ã€")}),s.jsxs("p",{className:"text-xs text-green-700 mt-1",children:[K.length,"é ­ãŒåŒæ™‚å…¥å ´ã§ãã¾ã™"]})]})]}),U?s.jsx("div",{className:"mt-6",children:K.length>0?s.jsx(T,{lockId:U.lock_id,parkName:E.name,purpose:F,onSuccess:e=>{Q(`PINã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¾ã—ãŸ: ${e}`),setTimeout((()=>{Q("")}),3e3)},onError:e=>{M(e),setTimeout((()=>{M("")}),5e3)}}):s.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg text-center",children:[s.jsx(j,{className:"w-6 h-6 text-yellow-600 mx-auto mb-2"}),s.jsx("p",{className:"text-yellow-800 font-medium",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’1é ­ä»¥ä¸Šé¸æŠã—ã¦ãã ã•ã„"}),s.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"PINã‚³ãƒ¼ãƒ‰ã‚’ç™ºè¡Œã™ã‚‹ã«ã¯ã€å…¥å ´ã™ã‚‹ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™"})]})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(d,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“"}),s.jsx(l,{onClick:()=>B("settings"),children:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ã‚’è¨­å®šã™ã‚‹"})]})]}),s.jsx(n,{className:"p-6 bg-blue-50 border-blue-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(d,{className:"w-6 h-6 text-blue-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"PINã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦"}),s.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[s.jsx("p",{children:"â€¢ åˆ©ç”¨è€…ã¯PINã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦å…¥é€€å ´ã—ã¾ã™"}),s.jsx("p",{children:"â€¢ PINã‚³ãƒ¼ãƒ‰ã¯5åˆ†é–“æœ‰åŠ¹ã§ã€åˆ©ç”¨è€…ãŒæ”¯æ‰•ã„å¾Œã«ç™ºè¡Œã•ã‚Œã¾ã™"}),s.jsx("p",{children:"â€¢ ã‚ªãƒ¼ãƒŠãƒ¼ã¯æ±ºæ¸ˆä¸è¦ã§PINã‚³ãƒ¼ãƒ‰ã‚’ç™ºè¡Œã§ãã¾ã™"}),s.jsx("p",{children:"â€¢ æ–½è¨­è²¸ã—åˆ‡ã‚Šã®å ´åˆã€åˆ©ç”¨è€…ã¯å‹é”ã«PINã‚³ãƒ¼ãƒ‰ã‚’å…±æœ‰ã§ãã¾ã™"})]})]})]})})]}),"settings"===A&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(n,{className:"p-6",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[s.jsx(w,{className:"w-6 h-6 text-blue-600 mr-2"}),"æ–½è¨­è¨­å®š"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"åŸºæœ¬è¨­å®š"}),s.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"æ–½è¨­ã®åŸºæœ¬æƒ…å ±ã‚„è¨­å‚™æƒ…å ±ã‚’ç·¨é›†ã§ãã¾ã™ã€‚"}),s.jsxs(l,{size:"sm",children:[s.jsx(v,{className:"w-4 h-4 mr-2"}),"åŸºæœ¬æƒ…å ±ã‚’ç·¨é›†"]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"æ–™é‡‘è¨­å®š"}),s.jsx("p",{className:"text-sm text-green-800 mb-3",children:"æ–™é‡‘ä½“ç³»ã¯å…¨å›½çµ±ä¸€ã§ã™ã€‚å¤‰æ›´ã¯ã§ãã¾ã›ã‚“ã€‚"}),s.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[s.jsx("li",{children:"â€¢ é€šå¸¸åˆ©ç”¨: Â¥800/æ—¥ï¼ˆå›ºå®šï¼‰"}),s.jsx("li",{children:"â€¢ æ–½è¨­è²¸ã—åˆ‡ã‚Š: Â¥4,400/æ™‚é–“ï¼ˆå›ºå®šï¼‰"}),s.jsx("li",{children:"â€¢ ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ–ãƒ¼ã‚¹: Â¥5,000/2æ™‚é–“ï¼ˆå›ºå®šï¼‰"})]})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-purple-900 mb-3",children:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯è¨­å®š"}),s.jsx("p",{className:"text-sm text-purple-800 mb-3",children:"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ã®è¨­å®šã‚’ç®¡ç†ã—ã¾ã™ã€‚"}),s.jsxs(l,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(d,{className:"w-4 h-4 mr-2"}),"ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚¯ã‚’ç®¡ç†"]})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-orange-900 mb-3",children:"å–¶æ¥­æ™‚é–“è¨­å®š"}),s.jsx("p",{className:"text-sm text-orange-800 mb-3",children:"å–¶æ¥­æ™‚é–“ã¯24æ™‚é–“ã§ã™ã€‚å¤‰æ›´ã¯ã§ãã¾ã›ã‚“ã€‚"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(o,{className:"w-5 h-5 text-orange-600"}),s.jsx("span",{className:"font-medium",children:"24æ™‚é–“å–¶æ¥­"})]})]})]})]}),s.jsx(n,{className:"p-6 bg-gray-50",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(_,{className:"w-6 h-6 text-gray-600 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"é‹å–¶ã‚µãƒãƒ¼ãƒˆ"}),s.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[s.jsx("p",{children:"â€¢ è¨­å®šã«é–¢ã™ã‚‹ã”è³ªå•ã¯é‹å–¶äº‹å‹™å±€ã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„"}),s.jsx("p",{children:"â€¢ QRã‚³ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã®è¨­ç½®ãƒ»è¨­å®šã‚µãƒãƒ¼ãƒˆã‚’æä¾›ã—ã¦ã„ã¾ã™"}),s.jsx("p",{children:"â€¢ é‹å–¶é–‹å§‹å¾Œã‚‚ç¶™ç¶šçš„ãªã‚µãƒãƒ¼ãƒˆã‚’è¡Œã„ã¾ã™"}),s.jsx("p",{children:"â€¢ ğŸ“§ ã‚µãƒãƒ¼ãƒˆçª“å£: info@dogparkjp.com"})]})]})]})})]})]}):s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[s.jsx(j,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"æŒ‡å®šã•ã‚ŒãŸãƒ‰ãƒƒã‚°ãƒ©ãƒ³ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‹ã€ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚"}),s.jsx(i,{to:"/owner-dashboard",children:s.jsx(l,{children:"ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹"})})]})}export{E as ParkManagement};
