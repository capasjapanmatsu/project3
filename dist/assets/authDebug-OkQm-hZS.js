import{s as t}from"./index-fyCrE4_U.js";import"./react-vendor-Co5xHYdE.js";import"./supabase-vendor-FDBaXLCh.js";import"./ui-vendor-C9ptRAmi.js";const h=async()=>{try{const{data:{session:e},error:a}=await t.auth.getSession();console.log("1. セッション情報:",{hasSession:!!e,hasAccessToken:!!e?.access_token,sessionError:a,userId:e?.user?.id,userEmail:e?.user?.email,userRole:e?.user?.role,expiresAt:e?.expires_at,tokenType:e?.token_type});const{data:{user:s},error:u}=await t.auth.getUser();console.log("2. ユーザー情報:",{hasUser:!!s,userId:s?.id,userEmail:s?.email,userRole:s?.role,userError:u});const r=localStorage.getItem("sb-undefined-auth-token");console.log("3. ローカルストレージ:",{hasAuthToken:!!r,authTokenLength:r?.length});const{data:o}=await t.auth.getUser();return console.log("4. 認証状態:",{isAuthenticated:!!o.user,authUser:o.user?.id}),{session:e,user:s,isAuthenticated:!!e?.access_token}}catch(e){return console.error("❌ Auth debug error:",e),{session:null,user:null,isAuthenticated:!1,error:e}}finally{}};export{h as debugAuthStatus};
