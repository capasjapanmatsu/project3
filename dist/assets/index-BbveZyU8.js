const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PWADebugPanel-BK62wT6o.js","assets/ui-vendor-CTwuE44L.js","assets/react-vendor-BBLDtDmh.js","assets/query-vendor-9fkSW1iq.js","assets/supabase-vendor-BcfcqyaE.js","assets/Home-DnUE9OmS.js","assets/logger-hQPzKOcf.js","assets/Login-DHSPrWwS.js","assets/Input-CogJowp4.js","assets/Register-CzyUCpru.js","assets/postalCodeLookup-BVBMVLy5.js","assets/UserDashboard-BjI0SUsr.js","assets/DogCard-BsPxYysV.js","assets/Select-DXb7rP8v.js","assets/dogBreeds-6lxY8Uni.js","assets/VaccineBadge-BYdht1v_.js","assets/vaccineUploadFixed-DEVbOa4d.js","assets/ProfileSettings-BCiMyq-i.js","assets/Dashboard-Cjds8lxL.js","assets/DogManagement-NYUs9600.js","assets/DogRegistration-wyUqXwa6.js","assets/DogProfile-BVMS8-a1.js","assets/LikedDogs-Bhq5AIqo.js","assets/DogParkDetail-DMrivu-F.js","assets/DogParkRules-BS1e-iBs.js","assets/DogParkHistory-p93jDBxN.js","assets/NewParkDetail-B79lbaH-.js","assets/ParkReservation-5TGV4ZIN.js","assets/useStripe-DGkoGrC3.js","assets/stripe-vendor-CcgPsVUa.js","assets/stripe-config-03sBkt-B.js","assets/ParkRegistration-CS0Kgh3r.js","assets/ParkRegistrationAgreement-BsajD9H6.js","assets/ParkRegistrationSecondStage-BcEB1M0q.js","assets/ParkManagement-DE1zpO6k.js","assets/PetShop-CiItRHtm.js","assets/ProductDetail-CMk_w7Uj.js","assets/Cart-CWRxjL4f.js","assets/Checkout-DMftEHj2.js","assets/OrderHistory-D5bIw72F.js","assets/Community-CA1Yb4KZ.js","assets/News-e08MjId-.js","assets/NewsDetail-DWevk1wH.js","assets/DogInfo-CuJH7r2R.js","assets/DogInfoBreeds-BN93lke0.js","assets/DogInfoVaccine-wNUZjvaS.js","assets/DogInfoFoods-hfFcMlrT.js","assets/DogInfoSnack-D9RPrHon.js","assets/DogInfoParasite-DdTL6LY9.js","assets/DogInfoShow-CNvIvvz6.js","assets/PaymentSetup-CgQHqqPo.js","assets/PaymentMethodSettings-Be2iMcSa.js","assets/PaymentConfirmation-BZRxyScj.js","assets/Subscription-Cgrjy9GK.js","assets/OwnerDashboard-BXlWevKt.js","assets/OwnerPaymentSystem-mDNllC-x.js","assets/AdminDashboard-BCILZM_s.js","assets/AdminManagement-sJBdeV16.js","assets/useAdminData-CKXBRrQW.js","assets/AdminTasks-xQiCqYja.js","assets/AdminUserManagement-DspESegj.js","assets/AdminUserDetail-H2f72pNo.js","assets/AdminParkManagement-lkAyGtC8.js","assets/AdminReservationManagement-Nex3LSfE.js","assets/AdminShopManagement-CknntjF1.js","assets/csvExport-CWWwNDcn.js","assets/AdminSalesManagement-CcnfYGd8.js","assets/AdminVaccineApproval-Ca_BIE8R.js","assets/AdminFacilityApproval-DLqL7GQ0.js","assets/AdminRevenueReport-EpThBtXm.js","assets/AdminNewsManagement-BAdP-_ZU.js","assets/TwoFactorSetup-VyjqUzHa.js","assets/TwoFactorVerify-DV6ME9V1.js","assets/MagicLink-BWdrGUv0.js","assets/AccessControl-DkgD3W67.js","assets/FacilityRegistration-MBJxmtVr.js","assets/TermsOfService-EzE09YJ4.js","assets/PrivacyPolicy-Cm1UDdW7.js","assets/Contact-BrWOxNbY.js","assets/BusinessInformation-Bm0yapXg.js","assets/Deploy-C_CYkzHK.js","assets/deploymentStatus-Cv1hyokG.js","assets/DeploymentHistory-BHKj17zY.js","assets/NetlifySetupGuide-C2GbA0Bj.js","assets/PWASetupGuide-DtQJIqrH.js","assets/PWAImplementationGuide-DXOqsBNv.js","assets/PWADocumentation-L_9k0TWP.js","assets/PWATestingSuite-pabcBthl.js","assets/PWALighthouseAudit-CV0brD8K.js","assets/PWADeploymentGuide-B8Wd40KC.js"])))=>i.map(i=>d[i]);
var e,t,s=Object.defineProperty,n=(e,t,n)=>((e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);import{j as r,P as a,B as i,S as o,D as l,a as c,L as d,M as m,b as u,H as h,K as p,U as x,c as f,A as g,d as j,C as y,R as b,X as w,I as _,e as v,f as E,m as N,g as A}from"./ui-vendor-CTwuE44L.js";import{Q as T,a as P}from"./query-vendor-9fkSW1iq.js";import{a as k,b as I,r as O,R as S,u as D,L,d as R,e as C,f as z,N as V,B as M}from"./react-vendor-BBLDtDmh.js";import{c as $,_ as U}from"./supabase-vendor-BcfcqyaE.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var W={},H=k;W.createRoot=H.createRoot,W.hydrateRoot=H.hydrateRoot;var B="undefined"!=typeof Element,F="function"==typeof Map,q="function"==typeof Set,J="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function G(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,n,r,a;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(n=s;0!==n--;)if(!G(e[n],t[n]))return!1;return!0}if(F&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!G(n.value[1],t.get(n.value[0])))return!1;return!0}if(q&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(J&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(n=s;0!==n--;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((s=(r=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=s;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,r[n]))return!1;if(B&&e instanceof Element)return!1;for(n=s;0!==n--;)if(("_owner"!==r[n]&&"__v"!==r[n]&&"__o"!==r[n]||!e.$$typeof)&&!G(e[r[n]],t[r[n]]))return!1;return!0}return e!=e&&t!=t}const K=I(function(e,t){try{return G(e,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return!1;throw s}});const Y=I(function(e,t,s,n,r,a,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,n,r,a,i,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}});const X=I(function(e,t,s,n){var r=s?s.call(n,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!o(c))return!1;var d=e[c],m=t[c];if(!1===(r=s?s.call(n,d,m,c):void 0)||void 0===r&&d!==m)return!1}return!0});var Z=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Z||{}),Q={rel:["amphtml","canonical","alternate"]},ee={type:["application/ld+json"]},te={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},se=Object.values(Z),ne={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},re=Object.entries(ne).reduce((e,[t,s])=>(e[s]=t,e),{}),ae="data-rh",ie="defaultTitle",oe="defer",le="encodeSpecialCharacters",ce="onChangeClientState",de="titleTemplate",me="prioritizeSeoTags",ue=(e,t)=>{for(let s=e.length-1;s>=0;s-=1){const n=e[s];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},he=e=>{let t=ue(e,"title");const s=ue(e,de);if(Array.isArray(t)&&(t=t.join("")),s&&t)return s.replace(/%s/g,()=>t);const n=ue(e,ie);return t||n||void 0},pe=e=>ue(e,ce)||(()=>{}),xe=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),fe=(e,t)=>t.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((t,s)=>{if(!t.length){const n=Object.keys(s);for(let r=0;r<n.length;r+=1){const a=n[r].toLowerCase();if(-1!==e.indexOf(a)&&s[a])return t.concat(s)}}return t},[]),ge=(e,t,s)=>{const n={};return s.filter(t=>!!Array.isArray(t[e])||(void 0!==t[e]&&(t[e],console&&console.warn),!1)).map(t=>t[e]).reverse().reduce((e,s)=>{const r={};s.filter(e=>{let s;const a=Object.keys(e);for(let n=0;n<a.length;n+=1){const r=a[n],i=r.toLowerCase();-1===t.indexOf(i)||"rel"===s&&"canonical"===e[s].toLowerCase()||"rel"===i&&"stylesheet"===e[i].toLowerCase()||(s=i),-1===t.indexOf(r)||"innerHTML"!==r&&"cssText"!==r&&"itemprop"!==r||(s=r)}if(!s||!e[s])return!1;const i=e[s].toLowerCase();return n[s]||(n[s]={}),r[s]||(r[s]={}),!n[s][i]&&(r[s][i]=!0,!0)}).reverse().forEach(t=>e.push(t));const a=Object.keys(r);for(let t=0;t<a.length;t+=1){const e=a[t],s={...n[e],...r[e]};n[e]=s}return e},[]).reverse()},je=(e,t)=>{if(Array.isArray(e)&&e.length)for(let s=0;s<e.length;s+=1){if(e[s][t])return!0}return!1},ye=e=>Array.isArray(e)?e.join(""):e,be=(e,t)=>Array.isArray(e)?e.reduce((e,s)=>(((e,t)=>{const s=Object.keys(e);for(let n=0;n<s.length;n+=1)if(t[s[n]]&&t[s[n]].includes(e[s[n]]))return!0;return!1})(s,t)?e.priority.push(s):e.default.push(s),e),{priority:[],default:[]}):{default:e,priority:[]},we=(e,t)=>({...e,[t]:void 0}),_e=["noscript","script","style"],ve=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Ee=e=>Object.keys(e).reduce((t,s)=>{const n=void 0!==e[s]?`${s}="${e[s]}"`:`${s}`;return t?`${t} ${n}`:n},""),Ne=(e,t={})=>Object.keys(e).reduce((t,s)=>(t[ne[s]||s]=e[s],t),t),Ae=(e,t)=>t.map((t,s)=>{const n={key:s,[ae]:!0};return Object.keys(t).forEach(e=>{const s=ne[e]||e;if("innerHTML"===s||"cssText"===s){const e=t.innerHTML||t.cssText;n.dangerouslySetInnerHTML={__html:e}}else n[s]=t[e]}),S.createElement(e,n)}),Te=(e,t,s=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,s)=>{const n=Ne(s,{key:t,[ae]:!0});return[S.createElement("title",n,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,s,n)=>{const r=Ee(s),a=ye(t);return r?`<${e} ${ae}="true" ${r}>${ve(a,n)}</${e}>`:`<${e} ${ae}="true">${ve(a,n)}</${e}>`})(e,t.title,t.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Ne(t),toString:()=>Ee(t)};default:return{toComponent:()=>Ae(e,t),toString:()=>((e,t,s=!0)=>t.reduce((t,n)=>{const r=n,a=Object.keys(r).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const n=void 0===r[t]?t:`${t}="${ve(r[t],s)}"`;return e?`${e} ${n}`:n},""),i=r.innerHTML||r.cssText||"",o=-1===_e.indexOf(e);return`${t}<${e} ${ae}="true" ${a}${o?"/>":`>${i}</${e}>`}`},""))(e,t,s)}}},Pe=e=>{const{baseTag:t,bodyAttributes:s,encode:n=!0,htmlAttributes:r,noscriptTags:a,styleTags:i,title:o="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:m,scriptTags:u}=e,h={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:h,linkTags:d,metaTags:m,scriptTags:u}=(({metaTags:e,linkTags:t,scriptTags:s,encode:n})=>{const r=be(e,te),a=be(t,Q),i=be(s,ee);return{priorityMethods:{toComponent:()=>[...Ae("meta",r.priority),...Ae("link",a.priority),...Ae("script",i.priority)],toString:()=>`${Te("meta",r.priority,n)} ${Te("link",a.priority,n)} ${Te("script",i.priority,n)}`},metaTags:r.default,linkTags:a.default,scriptTags:i.default}})(e)),{priority:h,base:Te("base",t,n),bodyAttributes:Te("bodyAttributes",s,n),htmlAttributes:Te("htmlAttributes",r,n),link:Te("link",d,n),meta:Te("meta",m,n),noscript:Te("noscript",a,n),script:Te("script",u,n),style:Te("style",i,n),title:Te("title",{title:o,titleAttributes:l},n)}},ke=[],Ie=!("undefined"==typeof window||!window.document||!window.document.createElement),Oe=class{constructor(e,t){n(this,"instances",[]),n(this,"canUseDOM",Ie),n(this,"context"),n(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?ke:this.instances,add:e=>{(this.canUseDOM?ke:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?ke:this.instances).indexOf(e);(this.canUseDOM?ke:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Pe({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Se=S.createContext({}),De=(e=class extends O.Component{constructor(t){super(t),n(this,"helmetData"),this.helmetData=new Oe(this.props.context||{},e.canUseDOM)}render(){return S.createElement(Se.Provider,{value:this.helmetData.value},this.props.children)}},n(e,"canUseDOM",Ie),e),Le=(e,t)=>{const s=document.head||document.querySelector("head"),n=s.querySelectorAll(`${e}[${ae}]`),r=[].slice.call(n),a=[];let i;return t&&t.length&&t.forEach(t=>{const s=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)s.innerHTML=t.innerHTML;else if("cssText"===e)s.styleSheet?s.styleSheet.cssText=t.cssText:s.appendChild(document.createTextNode(t.cssText));else{const n=e,r=void 0===t[n]?"":t[n];s.setAttribute(e,r)}s.setAttribute(ae,"true"),r.some((e,t)=>(i=t,s.isEqualNode(e)))?r.splice(i,1):a.push(s)}),r.forEach(e=>e.parentNode?.removeChild(e)),a.forEach(e=>s.appendChild(e)),{oldTags:r,newTags:a}},Re=(e,t)=>{const s=document.getElementsByTagName(e)[0];if(!s)return;const n=s.getAttribute(ae),r=n?n.split(","):[],a=[...r],i=Object.keys(t);for(const o of i){const e=t[o]||"";s.getAttribute(o)!==e&&s.setAttribute(o,e),-1===r.indexOf(o)&&r.push(o);const n=a.indexOf(o);-1!==n&&a.splice(n,1)}for(let o=a.length-1;o>=0;o-=1)s.removeAttribute(a[o]);r.length===a.length?s.removeAttribute(ae):s.getAttribute(ae)!==i.join(",")&&s.setAttribute(ae,i.join(","))},Ce=(e,t)=>{const{baseTag:s,bodyAttributes:n,htmlAttributes:r,linkTags:a,metaTags:i,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:m,titleAttributes:u}=e;Re("body",n),Re("html",r),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=ye(e)),Re("title",t)})(m,u);const h={baseTag:Le("base",s),linkTags:Le("link",a),metaTags:Le("meta",i),noscriptTags:Le("noscript",o),scriptTags:Le("script",c),styleTags:Le("style",d)},p={},x={};Object.keys(h).forEach(e=>{const{newTags:t,oldTags:s}=h[e];t.length&&(p[e]=t),s.length&&(x[e]=h[e].oldTags)}),t&&t(),l(e,p,x)},ze=null,Ve=e=>{ze&&cancelAnimationFrame(ze),e.defer?ze=requestAnimationFrame(()=>{Ce(e,()=>{ze=null})}):(Ce(e),ze=null)},Me=class extends O.Component{constructor(){super(...arguments),n(this,"rendered",!1)}shouldComponentUpdate(e){return!X(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let s=null;const n=(r=e.get().map(e=>{const t={...e.props};return delete t.context,t}),{baseTag:fe(["href"],r),bodyAttributes:xe("bodyAttributes",r),defer:ue(r,oe),encode:ue(r,le),htmlAttributes:xe("htmlAttributes",r),linkTags:ge("link",["rel","href"],r),metaTags:ge("meta",["name","charset","http-equiv","property","itemprop"],r),noscriptTags:ge("noscript",["innerHTML"],r),onChangeClientState:pe(r),scriptTags:ge("script",["src","innerHTML"],r),styleTags:ge("style",["cssText"],r),title:he(r),titleAttributes:xe("titleAttributes",r),prioritizeSeoTags:je(r,me)});var r;De.canUseDOM?Ve(n):Pe&&(s=Pe(n)),t(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},$e=(t=class extends O.Component{shouldComponentUpdate(e){return!K(we(this.props,"helmetData"),we(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,s,n){return{...t,[e.type]:[...t[e.type]||[],{...s,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,s,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...s}};case"body":return{...t,bodyAttributes:{...s}};case"html":return{...t,htmlAttributes:{...s}};default:return{...t,[e.type]:{...s}}}}mapArrayTypeChildrenToProps(e,t){let s={...t};return Object.keys(e).forEach(t=>{s={...s,[t]:e[t]}}),s}warnOnInvalidChildren(e,t){return Y(se.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${se.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Y(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let s={};return S.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:n,...r}=e.props,a=Object.keys(r).reduce((e,t)=>(e[re[t]||t]=r[t],e),{});let{type:i}=e;switch("symbol"==typeof i?i=i.toString():this.warnOnInvalidChildren(e,n),i){case"Symbol(react.fragment)":t=this.mapChildrenToProps(n,t);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(e,s,a,n);break;default:t=this.mapObjectTypeChildren(e,t,a,n)}}),this.mapArrayTypeChildrenToProps(s,t)}render(){const{children:e,...t}=this.props;let s={...t},{helmetData:n}=t;if(e&&(s=this.mapChildrenToProps(e,s)),n&&!(n instanceof Oe)){n=new Oe(n.context,!0),delete s.helmetData}return n?S.createElement(Me,{...s,context:n.value}):S.createElement(Se.Consumer,null,e=>S.createElement(Me,{...s,context:e}))}},n(t,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),t);const Ue=$("https://onmcivwxtzqajcovptgf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9ubWNpdnd4dHpxYWpjb3ZwdGdmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxODk3OTUsImV4cCI6MjA2NDc2NTc5NX0.AqFCz3GQUVeGaG2988LCzsE4aJpeio3xScoxv5T0-OU",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",storage:"undefined"!=typeof window?window.localStorage:void 0,storageKey:"sb-dogpark-auth-token",debug:!1},realtime:{params:{eventsPerSecond:5}},db:{schema:"public"},global:{headers:{"X-Client-Info":"dogpark-jp-web-netlify","X-Environment":"production"}}}),We=e=>{if(!e)return null;if(e.startsWith("http"))return e;const{data:t}=Ue.storage.from("vaccine-certificates").getPublicUrl(e);return t?.publicUrl||null},He=e=>{if(!e)return"不明なエラーが発生しました";if("string"==typeof e)return e;if(e&&"object"==typeof e&&"message"in e){const t=e;if("PGRST116"===t.code)return"データが見つかりません。Netlify の環境変数設定を確認してください。";if("PGRST301"===t.code)return"データベース接続エラー。Netlify Supabase Extension の設定を確認してください。";switch(t.message){case"Invalid API key":return"API キーが無効です。Netlify の環境変数 VITE_SUPABASE_ANON_KEY を確認してください。";case"Invalid URL":return"データベース URL が無効です。Netlify の環境変数 VITE_SUPABASE_URL を確認してください。";case"Network error":return"ネットワークエラーが発生しました。インターネット接続を確認してください。";case"Authentication required":return"認証が必要です。ログインしてください。";default:return t.message||"不明なエラーが発生しました"}}return"不明なエラーが発生しました"},Be=O.createContext({user:null,session:null,loading:!0,logout:async()=>{await Promise.resolve()},isAuthenticated:!1,signInWithMagicLink:async()=>(await Promise.resolve(),{success:!1}),signInWithPassword:async()=>(await Promise.resolve(),{success:!1}),verify2FA:async()=>(await Promise.resolve(),{success:!1}),setIsTrustedDevice:()=>{},isAdmin:!1,userProfile:null}),Fe=({children:e})=>{const[t,s]=O.useState(null),[n,a]=O.useState(null),[i,o]=O.useState(!0),[l,c]=O.useState(!1),[d,m]=O.useState(!1),[u,h]=O.useState(null),p=async(e,t)=>{try{const{data:s,error:n}=await Ue.from("profiles").select("*").eq("id",e).single();if(n){if("PGRST116"===n.code&&t){const s={id:e,name:t.split("@")[0],user_type:"capasjapan@gmail.com"===t?"admin":"user",created_at:(new Date).toISOString()},{data:n,error:r}=await Ue.from("profiles").insert([s]).select().single();return r?null:n}return null}return s}catch(s){return null}},x=(e,t)=>{if(!e)return!1;return"capasjapan@gmail.com"===e.email||"admin"===t?.user_type};O.useEffect(()=>{let e=!0;(async()=>{try{const{data:{session:t},error:n}=await Ue.auth.getSession();if(n)return void(e&&(a(null),s(null),c(!1),h(null),m(!1),o(!1)));t&&t.user&&e?(a(t),s(t.user),c(!0),p(t.user.id,t.user.email).then(s=>{e&&(h(s),m(x(t.user,s)))})):e&&(a(null),s(null),c(!1),h(null),m(!1))}catch(t){e&&(a(null),s(null),c(!1),h(null),m(!1))}finally{e&&o(!1)}})();const{data:{subscription:t}}=Ue.auth.onAuthStateChange(async(t,n)=>{e&&("SIGNED_IN"===t&&n?(a(n),s(n.user),c(!0),p(n.user.id,n.user.email).then(t=>{e&&(h(t),m(x(n.user,t)))})):"SIGNED_OUT"===t?e&&(a(null),s(null),c(!1),h(null),m(!1)):"TOKEN_REFRESHED"===t&&n&&e&&(a(n),s(n.user)))});return()=>{e=!1,t.unsubscribe()}},[]);const f=O.useCallback(async e=>{try{const{error:t}=await Ue.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/dashboard`}});return t?{success:!1,error:t.message}:{success:!0}}catch(t){return{success:!1,error:String(t)}}},[]),g=O.useCallback(async(e,t)=>{try{const{data:s,error:n}=await Ue.auth.signInWithPassword({email:e,password:t});return n?{success:!1,error:n.message}:{success:!0}}catch(s){return{success:!1,error:String(s)}}},[]),j=O.useCallback(async e=>{try{if(!t)return{success:!1,error:"ユーザーが認証されていません"};const{data:{session:s}}=await Ue.auth.getSession();if(!s?.access_token)return{success:!1,error:"認証が必要です"};const n=await fetch("https://onmcivwxtzqajcovptgf.supabase.co/functions/v1/verify-2fa",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.access_token}`},body:JSON.stringify({userId:t.id,code:e})});if(!n.ok){return{success:!1,error:(await n.json()).error||"認証に失敗しました"}}const r=await n.json();return{success:r.success,...r.error&&{error:r.error}}}catch(s){return{success:!1,error:String(s)}}},[t]),y=O.useCallback(e=>{try{localStorage.setItem("isTrustedDevice",JSON.stringify(e))}catch(t){}},[]),b=O.useCallback(async()=>{try{await Ue.auth.signOut(),a(null),s(null),c(!1),h(null),m(!1);try{localStorage.removeItem("isTrustedDevice"),localStorage.removeItem("pre_payment_auth_state")}catch(e){}}catch(e){}},[]),w={user:t,session:n,loading:i,logout:b,isAuthenticated:l,signInWithMagicLink:f,signInWithPassword:g,verify2FA:j,setIsTrustedDevice:y,isAdmin:d,userProfile:u};return r.jsx(Be.Provider,{value:w,children:e})},qe=()=>{const e=O.useContext(Be);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Je(){const{user:e}=qe(),[t,s]=O.useState(null),[n,r]=O.useState(!0),[a,i]=O.useState(null),[o,l]=O.useState(!1);O.useEffect(()=>{e?c():(s(null),r(!1),l(!1))},[e]);const c=async()=>{try{r(!0),i(null);const{data:e,error:t}=await Ue.from("stripe_user_subscriptions").select("*").maybeSingle();if(t)throw t;e?(s(e),l("paused"===e.status)):(s(null),l(!1))}catch(e){i(e.message||"サブスクリプションの取得に失敗しました")}finally{r(!1)}},d=e=>e?new Date(1e3*e).toLocaleDateString("ja-JP"):null;return{subscription:t,isActive:"active"===t?.status||"trialing"===t?.status,isPaused:o,loading:n,error:a,refresh:c,currentPeriodEnd:d(t?.current_period_end??null),currentPeriodStart:d(t?.current_period_start??null),paymentMethod:t?.payment_method_last4?`${t.payment_method_brand} **** ${t.payment_method_last4}`:null,willCancel:t?.cancel_at_period_end}}const Ge=e=>{if(!e)return"不明なエラーが発生しました";if("string"==typeof e)return e;if(e&&"object"==typeof e&&"message"in e){const t=e;if("PGRST116"===t.code)return"データが見つかりません。Netlify の環境変数設定を確認してください。";if("PGRST301"===t.code)return"データベース接続エラー。Netlify Supabase Extension の設定を確認してください。";switch(t.message){case"Invalid API key":return"API キーが無効です。Netlify の環境変数 VITE_SUPABASE_ANON_KEY を確認してください。";case"Invalid URL":return"データベース URL が無効です。Netlify の環境変数 VITE_SUPABASE_URL を確認してください。";case"Network error":return"ネットワークエラーが発生しました。インターネット接続を確認してください。";case"Authentication required":return"認証が必要です。ログインしてください。";default:return t.message||"不明なエラーが発生しました"}}return"不明なエラーが発生しました"},Ke=async(e,t={})=>{const{retries:s=0,timeout:n=5e3}=t;for(let a=0;a<=s;a++)try{const t=new AbortController,s=setTimeout(()=>t.abort(),n),r=await e();return clearTimeout(s),{...r,isOffline:!1}}catch(r){if(a===s){const e=r instanceof Error&&(r.message.includes("Network")||r.message.includes("fetch")||r.message.includes("AbortError"));return{data:null,error:r,isOffline:e}}await new Promise(e=>setTimeout(e,1e3*Math.pow(2,a)))}return{data:null,error:new Error("Max retries exceeded"),isOffline:!1}},Ye=async e=>{const t=await Promise.allSettled(Object.entries(e).map(async([e,t])=>({key:e,result:await t()}))),s={};return t.forEach((t,n)=>{if("fulfilled"===t.status){const{key:e,result:n}=t.value;s[e]=n.data||null}else s[Object.keys(e)[n]]=null}),s},Xe=(e,t,s)=>{(new Date).toISOString()},Ze=O.lazy(()=>U(()=>import("./PWADebugPanel-BK62wT6o.js"),__vite__mapDeps([0,1,2,3,4]))),Qe=O.memo(function(){const{user:e,logout:t,isAdmin:s}=qe(),n=D(),[m,u]=O.useState(""),[h,p]=O.useState(0),[x,f]=O.useState(0),{isActive:g}=Je(),[j,y]=O.useState(!1),[b,w]=O.useState(!1),[_,v]=O.useState(!1),E=O.useCallback(()=>{const e=document.getElementById("pwa-install-button");e&&e.click()},[]);O.useEffect(()=>{w(window.matchMedia("(display-mode: standalone)").matches);const e=()=>{y(!0)},t=()=>{y(!1),w(!0)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",t),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",t)}},[]);const N=O.useCallback(async()=>{if(e)try{const t=await Ke(()=>Ue.from("profiles").select("name").eq("id",e.id).maybeSingle());if(t.error&&"PGRST116"!==t.error.code&&Xe("error",0,(t.error,e.id)),t.data?.name)u(t.data.name);else{const t=e.user_metadata?.name||e.email?.split("@")[0];t&&u(t)}}catch(t){Xe("error",0,e.id)}},[e]),A=O.useCallback(async()=>{if(e)try{const t=await Ke(()=>Ue.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("read",!1));p(t.data||0)}catch(t){Xe("error",0,e.id)}},[e]),T=O.useCallback(async()=>{if(e)try{const t=await Ke(()=>Ue.from("cart_items").select("*",{count:"exact",head:!0}).eq("user_id",e.id));f(t.data||0)}catch(t){Xe("error",0,e.id)}},[e]);O.useEffect(()=>{e?(N(),A(),T()):(u(""),p(0),f(0))},[e,s,N,A,T]);return r.jsxs(r.Fragment,{children:[r.jsx("nav",{className:"bg-white shadow-lg sticky top-0 z-50",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsxs(L,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer group","aria-label":"ドッグパークJP ホーム",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-green-400 rounded-full flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:r.jsx(a,{className:"h-7 w-7 text-white","aria-hidden":"true"})}),r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-400 rounded-full opacity-80",children:r.jsx(a,{className:"h-2 w-2 text-white","aria-hidden":"true"})})]}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("span",{className:"text-xl font-bold text-gray-800 leading-tight",children:["ドッグパーク",r.jsx("span",{className:"text-blue-600",children:"JP"})]}),r.jsx("span",{className:"text-xs text-gray-500 leading-none",children:"愛犬との素敵な時間を"})]})]}),r.jsx("div",{className:"flex items-center space-x-4",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-gray-700 hidden md:inline-block",children:["こんにちは、",m||"ユーザー","さん",g&&r.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[r.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),r.jsx("path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6"})]}),"サブスク会員"]})]}),r.jsx(L,{to:"/dashboard",className:"text-gray-600 hover:text-blue-600 transition-colors hidden md:inline-block",children:"マイページ"}),r.jsx(L,{to:"/parks",className:"text-gray-600 hover:text-blue-600 transition-colors hidden md:inline-block",children:"ドッグラン一覧"}),r.jsx(L,{to:"/shop",className:"text-gray-600 hover:text-green-600 transition-colors hidden md:inline-block",children:"ペットショップ"}),r.jsxs(L,{to:"/community",className:"relative text-gray-600 hover:text-blue-600 transition-colors","aria-label":"通知 "+(h>0?`${h}件の未読通知があります`:""),children:[r.jsx(i,{className:"h-5 w-5","aria-hidden":"true"}),h>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center","aria-hidden":"true",children:h>9?"9+":h})]}),r.jsxs(L,{to:"/cart",className:"relative text-gray-600 hover:text-green-600 transition-colors","aria-label":"カート "+(x>0?`${x}点の商品があります`:""),children:[r.jsx(o,{className:"h-5 w-5","aria-hidden":"true"}),x>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center","aria-hidden":"true",children:x>9?"9+":x})]}),j&&!b&&r.jsxs("button",{onClick:E,className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 transition-colors bg-blue-50 hover:bg-blue-100 px-2 py-1 rounded-md","aria-label":"アプリをインストール",children:[r.jsx(l,{className:"h-4 w-4","aria-hidden":"true"}),r.jsx("span",{className:"hidden lg:inline text-sm",children:"アプリ化"})]}),b&&r.jsxs("div",{className:"flex items-center space-x-1 text-green-600 bg-green-50 px-2 py-1 rounded-md",children:[r.jsx(l,{className:"h-4 w-4","aria-hidden":"true"}),r.jsx("span",{className:"hidden lg:inline text-sm",children:"PWA"})]}),!1,s&&r.jsxs(L,{to:"/admin",className:"flex items-center space-x-1 text-red-600 hover:text-red-700 transition-colors","aria-label":"管理者ページ",children:[r.jsx(c,{className:"h-4 w-4","aria-hidden":"true"}),r.jsx("span",{className:"hidden md:inline",children:"管理者"})]}),r.jsxs("button",{onClick:()=>{(async()=>{try{await t(),n("/")}catch(e){Xe("error")}})()},className:"flex items-center space-x-1 text-gray-600 hover:text-red-600 transition-colors","aria-label":"ログアウト",children:[r.jsx(d,{className:"h-4 w-4","aria-hidden":"true"}),r.jsx("span",{className:"hidden md:inline",children:"ログアウト"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(L,{to:"/login",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"ログイン"}),r.jsx(L,{to:"/register",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"新規登録"})]})})]})})}),r.jsx(O.Suspense,{fallback:r.jsx("div",{children:"Loading debug panel..."}),children:r.jsx(Ze,{isOpen:_,onClose:()=>v(!1)})})]})});function et(){const e=(new Date).getFullYear();return r.jsx("footer",{className:"bg-white text-gray-700 py-12 border-t border-gray-200",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"col-span-1 md:col-span-1",children:[r.jsxs(L,{to:"/",className:"flex items-center space-x-2 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-green-400 rounded-full flex items-center justify-center",children:r.jsx(a,{className:"h-6 w-6 text-white"})}),r.jsx("span",{className:"text-xl font-bold",children:"ドッグパークJP"})]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"愛犬とのお散歩をもっと楽しく。全国のドッグランを簡単に検索・予約できるサービスです。"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:r.jsx("svg",{className:"w-6 h-6 text-gray-400 hover:text-white transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),r.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:r.jsx("svg",{className:"w-6 h-6 text-gray-400 hover:text-white transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})}),r.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:r.jsx("svg",{className:"w-6 h-6 text-gray-400 hover:text-white transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"クイックリンク"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(L,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"ホーム"})}),r.jsx("li",{children:r.jsx(L,{to:"/parks",className:"text-gray-400 hover:text-white transition-colors",children:"ドッグラン一覧"})}),r.jsx("li",{children:r.jsx(L,{to:"/parks/rules",className:"text-gray-400 hover:text-white transition-colors",children:"利用ルール"})}),r.jsx("li",{children:r.jsx(L,{to:"/shop",className:"text-gray-400 hover:text-white transition-colors",children:"ペットショップ"})}),r.jsx("li",{children:r.jsx(L,{to:"/subscription",className:"text-gray-400 hover:text-white transition-colors",children:"サブスクリプション"})}),r.jsx("li",{children:r.jsx(L,{to:"/news",className:"text-gray-400 hover:text-white transition-colors",children:"新着情報"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ご利用者様向け"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx(L,{to:"/register",className:"text-gray-400 hover:text-white transition-colors",children:"新規登録"})}),r.jsx("li",{children:r.jsx(L,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"ログイン"})}),r.jsx("li",{children:r.jsx(L,{to:"/register-dog",className:"text-gray-400 hover:text-white transition-colors",children:"ワンちゃん登録"})}),r.jsx("li",{children:r.jsx(L,{to:"/access-control",className:"text-gray-400 hover:text-white transition-colors",children:"入場管理"})}),r.jsx("li",{children:r.jsx(L,{to:"/community",className:"text-gray-400 hover:text-white transition-colors",children:"コミュニティ"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"お問い合わせ"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(m,{className:"w-5 h-5 text-gray-400 mr-2 mt-0.5"}),r.jsx("span",{className:"text-gray-400",children:"info@dogparkjp.com"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(u,{className:"w-5 h-5 text-gray-400 mr-2 mt-0.5"}),r.jsxs("span",{className:"text-gray-400",children:["〒861-0563",r.jsx("br",{}),"熊本県山鹿市鹿央町千田１７１８－１３",r.jsx("br",{}),"株式会社ＣＡＰＡＳ"]})]})]})]})]}),r.jsx("hr",{className:"border-gray-700 my-8"}),r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[r.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["© ",e," ドッグパークJP. All rights reserved."]}),r.jsxs("div",{className:"flex space-x-6",children:[r.jsx(L,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"プライバシーポリシー"}),r.jsx(L,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"利用規約"}),r.jsx(L,{to:"/business-information",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"特定商取引法に基づく表記"}),r.jsx(L,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"お問い合わせ"})]})]})]})})}function tt(){const e=R(),[t,s]=O.useState("/");O.useEffect(()=>{const t=e.pathname.split("/")[1];s(t?`/${t}`:"/")},[e]);const n=[{path:"/",label:"ホーム",icon:h},{path:"/parks",label:"ドッグラン",icon:u},{path:"/access-control",label:"入退場",icon:p},{path:"/community",label:"コミュニティ",icon:x},{path:"/dashboard",label:"マイページ",icon:f}];return r.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden",children:[r.jsx("div",{className:"flex justify-around items-center h-16",children:n.map(e=>{const s=e.icon,n="/"===(a=e.path)?"/"===t:t.startsWith(a);var a;return r.jsxs(L,{to:e.path,className:"flex flex-col items-center justify-center w-full h-full "+(n?"text-blue-600":"text-gray-500"),children:[r.jsx(s,{className:"w-6 h-6 "+(n?"text-blue-600":"text-gray-500")}),r.jsx("span",{className:"text-xs mt-1",children:e.label})]},e.path)})}),r.jsx("div",{className:"h-safe-bottom bg-white"})]})}function st({title:e="ドッグパークJP",description:t="愛犬とのお散歩をもっと楽しく。全国のドッグランを簡単に検索・予約できるサービスです。",canonicalUrl:s,ogType:n="website",ogImage:a="https://dogparkjp.com/og-image.jpg"}){const i="ドッグパークJP"===e?e:`${e} | ドッグパークJP`;return r.jsxs($e,{children:[r.jsx("title",{children:i}),r.jsx("meta",{name:"description",content:t}),s&&r.jsx("link",{rel:"canonical",href:s}),r.jsx("meta",{property:"og:type",content:n}),r.jsx("meta",{property:"og:title",content:i}),r.jsx("meta",{property:"og:description",content:t}),r.jsx("meta",{property:"og:image",content:a}),s&&r.jsx("meta",{property:"og:url",content:s}),r.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),r.jsx("meta",{name:"twitter:title",content:i}),r.jsx("meta",{name:"twitter:description",content:t}),r.jsx("meta",{name:"twitter:image",content:a}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),r.jsx("meta",{httpEquiv:"Content-Language",content:"ja"}),r.jsx("meta",{name:"theme-color",content:"#3B82F6"})]})}let nt=null,rt=null;const at=()=>nt?Promise.resolve({ip:nt}):rt||(rt=(async()=>{try{try{const e=await fetch("https://api.ipify.org?format=json"),t=await e.json();if(t.ip)return{ip:t.ip}}catch(e){}try{const e=await fetch("https://ipapi.co/ip/"),t=await e.text();if(t&&t.trim())return{ip:t.trim()}}catch(e){}try{const e=await fetch("https://httpbin.org/ip"),t=await e.json();if(t.origin)return{ip:t.origin}}catch(e){}return"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?{ip:"127.0.0.1"}:{ip:"127.0.0.1",error:"Unable to detect IP address"}}catch(e){return{ip:"127.0.0.1",error:"Error detecting IP address"}}})().then(e=>(e.error||(nt=e.ip),rt=null,e)),rt),it=O.createContext({isMaintenanceActive:!1,maintenanceInfo:null,loading:!0,error:null,clientIP:null,isIPWhitelisted:!1,refreshMaintenanceStatus:async()=>{}}),ot=({children:e})=>{const[t,s]=O.useState(!1),[n,a]=O.useState(null),[i,o]=O.useState(!0),[l,c]=O.useState(null),[d,m]=O.useState(null),[u,h]=O.useState(!1),p=O.useCallback(async()=>{try{o(!0),c(null);const e=await at();m(e.ip);const{data:t,error:n}=await Ue.rpc("should_show_maintenance",{client_ip:e.ip});if(n)return a(null),s(!1),h(!0),void c(null);if(t&&t.length>0){const e=t[0];s(e.is_maintenance_active),h(e.is_ip_allowed),e.is_maintenance_active&&e.maintenance_info?a(e.maintenance_info):a(null)}else a(null),s(!1),h(!0)}catch(e){a(null),s(!1),h(!0),c(null)}finally{o(!1)}},[]),x=O.useCallback(async()=>{await p()},[p]);O.useEffect(()=>{let e=!0;const t=async()=>{e&&await p()},n=setTimeout(()=>{e&&i&&(o(!1),s(!1),h(!0),a(null),c(null))},3e4);t().catch(t=>{e&&(o(!1),s(!1),h(!0),a(null),c(null))});const r=setInterval(()=>{e&&t().catch(e=>{})},3e5);return()=>{e=!1,clearTimeout(n),clearInterval(r)}},[]);const f={isMaintenanceActive:t,maintenanceInfo:n,loading:i,error:l,clientIP:d,isIPWhitelisted:u,refreshMaintenanceStatus:x};return r.jsx(it.Provider,{value:f,children:e})},lt=()=>{const e=O.useContext(it);if(!e)throw new Error("useMaintenance must be used within a MaintenanceProvider");return e},ct=O.forwardRef(({children:e,variant:t="primary",size:s="md",isLoading:n=!1,fullWidth:a=!1,className:i="",leftIcon:o,rightIcon:l,loadingText:c,ariaLabel:d,ariaDescribedBy:m,tooltip:u,...h},p)=>{const x=O.useId(),f=["inline-flex items-center justify-center","rounded-lg font-medium","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","focus:outline-none focus:ring-2 focus:ring-offset-2","active:scale-95","min-h-[44px] sm:min-h-[40px]","dark:focus:ring-offset-gray-800"].join(" "),g={primary:["bg-white text-blue-700 border-2 border-blue-700","hover:bg-blue-50 disabled:bg-gray-100","focus:ring-blue-600","dark:bg-white dark:text-blue-700 dark:border-blue-700 dark:hover:bg-blue-50"].join(" "),secondary:["bg-gray-100 text-gray-700 border border-gray-300","hover:bg-gray-200 disabled:bg-gray-50","focus:ring-gray-500","dark:bg-gray-100 dark:text-gray-700 dark:border-gray-300 dark:hover:bg-gray-200"].join(" "),danger:["bg-red-600 text-white","hover:bg-red-700 disabled:bg-red-400","focus:ring-red-500","dark:bg-red-600 dark:hover:bg-red-700"].join(" "),success:["bg-green-600 text-white","hover:bg-green-700 disabled:bg-green-400","focus:ring-green-500","dark:bg-green-600 dark:hover:bg-green-700"].join(" "),warning:["bg-yellow-500 text-white","hover:bg-yellow-600 disabled:bg-yellow-300","focus:ring-yellow-500","dark:bg-yellow-600 dark:hover:bg-yellow-700"].join(" ")},j=a?"w-full":"",y=i.split(" ").filter(e=>!(e.startsWith("bg-")||e.startsWith("text-")||e.startsWith("hover:bg-")||e.startsWith("focus:ring-"))).join(" "),b={"aria-label":d,"aria-describedby":m,"aria-busy":n,"aria-live":n?"polite":void 0,title:u},w=c||`${"string"==typeof e?e:"ボタン"}を処理中...`;return r.jsx("button",{ref:p,className:`${f} ${g[t]} ${{xs:"px-2 py-1 text-xs gap-1",sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-base gap-2",lg:"px-6 py-3 text-lg gap-2.5"}[s]} ${j} ${y}`,disabled:n||h.disabled,...b,...h,children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin flex-shrink-0","aria-hidden":"true"}),r.jsx("span",{className:"truncate",children:c||e}),r.jsx("span",{className:"sr-only","aria-live":"polite",id:x,children:w})]}):r.jsxs(r.Fragment,{children:[o&&r.jsx("span",{className:"flex-shrink-0","aria-hidden":"true",children:o}),r.jsx("span",{className:"truncate",children:e}),l&&r.jsx("span",{className:"flex-shrink-0","aria-hidden":"true",children:l})]})})});ct.displayName="Button";const dt=O.forwardRef(({children:e,className:t="",onClick:s,elevation:n="md",rounded:a="lg",border:i=!1,hoverEffect:o=!1,as:l="div",...c},d)=>{const m=i?"border border-gray-200":"",u=o?"hover:shadow-lg transition-shadow duration-300":"",h=s?"cursor-pointer":"";return r.jsx(l,{ref:d,className:`bg-white ${{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"}[n]} ${{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"}[a]} ${m} ${u} ${h} ${t}`,onClick:s,...c,children:e})});dt.displayName="Card";const mt=()=>{const{maintenanceInfo:e,refreshMaintenanceStatus:t}=lt(),s=e=>e?new Date(e).toLocaleString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):null;return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs(dt,{className:"max-w-md w-full p-8 text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:e?.is_emergency?r.jsx(g,{className:"w-16 h-16 text-red-500"}):r.jsx(j,{className:"w-16 h-16 text-blue-500"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:e?.title||"システムメンテナンス"}),r.jsx("p",{className:"text-gray-600 mb-6",children:e?.message||"より良いサービス提供のため、システムメンテナンスを実施しています。ご不便をおかけして申し訳ございません。"}),e?.start_time&&r.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 mb-2",children:[r.jsx(y,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:["開始: ",s(e.start_time)]})]}),e?.end_time&&r.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 mb-6",children:[r.jsx(y,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:["終了予定: ",s(e.end_time)]})]}),r.jsxs(ct,{onClick:()=>{t()},className:"w-full flex items-center justify-center",variant:"secondary",children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),"状態を更新"]}),r.jsx("div",{className:"mt-6 text-xs text-gray-400",children:r.jsx("p",{children:"メンテナンス完了後、このページは自動的に更新されます。"})})]})})},ut=({children:e})=>{const t=R(),{isMaintenanceActive:s,loading:n,isIPWhitelisted:a,clientIP:i}=lt(),{isAdmin:o,user:l}=qe();if(O.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),n)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});return(()=>{if(!s)return!1;return!(o||"capasjapan@gmail.com"===l?.email)&&!a})()?r.jsx(mt,{}):r.jsx(De,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[r.jsx(st,{}),r.jsx(Qe,{}),r.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:e}),r.jsx(et,{}),r.jsx(tt,{})]})})};const ht=new class{constructor(){n(this,"notifications",[]),n(this,"listeners",new Set),n(this,"idCounter",0)}show(e){const t="notification-"+ ++this.idCounter,s={id:t,options:{type:"info",duration:4e3,position:"top-right",closable:!0,...e},createdAt:new Date};return this.notifications.push(s),this.notifyListeners(),s.options.duration&&s.options.duration>0&&setTimeout(()=>{this.remove(t)},s.options.duration),t}success(e,t){return this.show({message:e,type:"success",...t})}error(e,t){return this.show({message:e,type:"error",duration:6e3,...t})}warning(e,t){return this.show({message:e,type:"warning",duration:5e3,...t})}info(e,t){return this.show({message:e,type:"info",...t})}remove(e){this.notifications=this.notifications.filter(t=>t.id!==e),this.notifyListeners()}clear(){this.notifications=[],this.notifyListeners()}getNotifications(){return[...this.notifications]}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}notifyListeners(){this.listeners.forEach(e=>{e([...this.notifications])})}},pt={success:(e,t)=>ht.success(e,t),error:(e,t)=>ht.error(e,t),warning:(e,t)=>ht.warning(e,t),info:(e,t)=>ht.info(e,t),show:e=>ht.show(e)},xt=({notification:e,onClose:t})=>{const{options:s}=e,[n,a]=O.useState(!1),[i,o]=O.useState(!1);O.useEffect(()=>{setTimeout(()=>a(!0),10)},[]);return r.jsx("div",{className:`\n        fixed z-50 max-w-sm w-full transition-all duration-300 ease-in-out\n        ${(()=>{switch(s.position){case"top-left":return"top-4 left-4";case"top-center":return"top-4 left-1/2 transform -translate-x-1/2";case"bottom-right":return"bottom-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-center":return"bottom-4 left-1/2 transform -translate-x-1/2";default:return"top-4 right-4"}})()}\n        ${n&&!i?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}\n        ${i?"scale-95":"scale-100"}\n      `,children:r.jsx("div",{className:`\n        p-4 rounded-lg border shadow-lg backdrop-blur-sm\n        ${(()=>{switch(s.type){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}})()}\n      `,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[(()=>{switch(s.type){case"success":return r.jsx(E,{className:"w-5 h-5 text-green-500"});case"error":return r.jsx(v,{className:"w-5 h-5 text-red-500"});case"warning":return r.jsx(g,{className:"w-5 h-5 text-yellow-500"});default:return r.jsx(_,{className:"w-5 h-5 text-blue-500"})}})(),r.jsxs("div",{className:"flex-1 min-w-0",children:[s.title&&r.jsx("p",{className:"text-sm font-semibold mb-1",children:s.title}),r.jsx("p",{className:"text-sm leading-relaxed",children:s.message}),s.action&&r.jsx("button",{onClick:s.action.onClick,className:"mt-2 text-sm font-medium underline hover:no-underline focus:outline-none",children:s.action.label})]}),s.closable&&r.jsx("button",{onClick:()=>{o(!0),setTimeout(()=>{t(e.id)},300)},className:"flex-shrink-0 p-1 rounded-full hover:bg-black/10 focus:outline-none focus:ring-2 focus:ring-black/20 transition-colors",children:r.jsx(w,{className:"w-4 h-4"})})]})})})},ft=()=>{const[e,t]=O.useState([]);O.useEffect(()=>ht.subscribe(t),[]);const s=e=>{ht.remove(e)};return r.jsx("div",{className:"pointer-events-none",children:e.map(e=>r.jsx(xt,{notification:e,onClose:s},e.id))})},gt=()=>{const[e,t]=O.useState({isInstalled:!1,isOnline:navigator.onLine,hasUpdate:!1,canInstall:!1,canNotify:!1}),[s,n]=O.useState(!1),[a,o]=O.useState(!1),[c,d]=O.useState(null),[m,u]=O.useState(null);O.useEffect(()=>(h(),p(),y(),()=>{x()}),[]);const h=()=>{t(e=>({...e,isInstalled:window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone,isOnline:navigator.onLine,canNotify:"Notification"in window}))},p=()=>{window.addEventListener("online",f),window.addEventListener("offline",f),window.addEventListener("beforeinstallprompt",g),window.addEventListener("appinstalled",j)},x=()=>{window.removeEventListener("online",f),window.removeEventListener("offline",f),window.removeEventListener("beforeinstallprompt",g),window.removeEventListener("appinstalled",j)},f=()=>{t(e=>({...e,isOnline:navigator.onLine}))},g=e=>{e.preventDefault(),d(e),t(e=>({...e,canInstall:!0})),n(!0)},j=()=>{t(e=>({...e,isInstalled:!0,canInstall:!1})),n(!1),d(null)},y=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.ready;e.addEventListener("updatefound",()=>{const s=e.installing;s&&s.addEventListener("statechange",()=>{"installed"===s.state&&navigator.serviceWorker.controller&&(t(e=>({...e,hasUpdate:!0})),u(e),o(!0))})}),setInterval(()=>{e.update()},6e4)}catch(e){}},_=()=>{n(!1),t(e=>({...e,canInstall:!1}))},v=()=>{o(!1),t(e=>({...e,hasUpdate:!1}))};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.isInstalled&&r.jsxs(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center space-x-2 px-3 py-2 bg-blue-500 text-white rounded-full shadow-lg",children:[r.jsx(A,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"PWAインストール済み"})]})}),s&&r.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs(N.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"アプリをインストール"}),r.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-600",children:r.jsx(w,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"ドッグパークJPをホーム画面に追加して、 ネイティブアプリのように利用しませんか？"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(E,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{children:"高速な起動"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(E,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{children:"オフライン機能"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(E,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{children:"プッシュ通知"})]})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:async()=>{if(c)try{await c.prompt();const{outcome:e}=await c.userChoice;d(null),n(!1),t(e=>({...e,canInstall:!1}))}catch(e){}},className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(l,{className:"w-4 h-4"}),r.jsx("span",{children:"インストール"})]}),r.jsx("button",{onClick:_,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"後で"})]})]})}),a&&r.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs(N.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"新しいバージョンが利用可能"}),r.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600",children:r.jsx(w,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"mb-6",children:r.jsx("p",{className:"text-gray-600",children:"ドッグパークJPの新しいバージョンが利用可能です。 更新しますか？"})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs("button",{onClick:async()=>{if(m)try{m.waiting&&m.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()}catch(e){}},className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center space-x-2",children:[r.jsx(b,{className:"w-4 h-4"}),r.jsx("span",{children:"今すぐ更新"})]}),r.jsx("button",{onClick:v,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"後で"})]})]})}),!e.canNotify&&e.isInstalled&&r.jsx(N.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"fixed bottom-20 left-4 right-4 bg-white rounded-lg shadow-lg border border-gray-200 p-4 z-40",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(i,{className:"w-5 h-5 text-blue-500 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"通知を許可しますか？"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"重要な情報をお知らせできます"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:async()=>{if(!("Notification"in window))return void alert("このブラウザは通知をサポートしていません");"granted"===await Notification.requestPermission()&&(t(e=>({...e,canNotify:!0})),new Notification("ドッグパークJP",{body:"通知が有効になりました！",icon:"/icons/icon-192x192.png",badge:"/icons/icon-192x192.png"}))},className:"text-xs bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 transition-colors",children:"許可"}),r.jsx("button",{onClick:()=>t(e=>({...e,canNotify:!0})),className:"text-xs text-gray-600 hover:text-gray-800 transition-colors",children:"後で"})]})]})})]})},jt=O.lazy(()=>U(()=>import("./Home-DnUE9OmS.js"),__vite__mapDeps([5,1,2,6,3,4])).then(e=>({default:e.Home}))),yt=O.lazy(()=>U(()=>import("./Login-DHSPrWwS.js"),__vite__mapDeps([7,1,2,8,6,3,4])).then(e=>({default:e.Login}))),bt=O.lazy(()=>U(()=>import("./Register-CzyUCpru.js"),__vite__mapDeps([9,1,2,8,10,3,4])).then(e=>({default:e.Register}))),wt=O.lazy(()=>U(()=>import("./UserDashboard-BjI0SUsr.js"),__vite__mapDeps([11,1,2,12,8,13,14,15,16,3,4])).then(e=>({default:e.UserDashboard}))),_t=O.lazy(()=>U(()=>import("./ProfileSettings-BCiMyq-i.js"),__vite__mapDeps([17,1,2,8,10,3,4])).then(e=>({default:e.ProfileSettings})));O.lazy(()=>U(()=>import("./Dashboard-Cjds8lxL.js"),__vite__mapDeps([18,1,2,3,4])));const vt=O.lazy(()=>U(()=>import("./DogManagement-NYUs9600.js"),__vite__mapDeps([19,4,2,1,12,8,13,14,15,3])).then(e=>({default:e.DogManagement}))),Et=O.lazy(()=>U(()=>import("./DogRegistration-wyUqXwa6.js"),__vite__mapDeps([20,1,2,8,13,14,16,6,3,4])).then(e=>({default:e.DogRegistration}))),Nt=O.lazy(()=>U(()=>import("./DogProfile-BVMS8-a1.js"),__vite__mapDeps([21,1,2,3,4])).then(e=>({default:e.DogProfile}))),At=O.lazy(()=>U(()=>import("./LikedDogs-Bhq5AIqo.js"),__vite__mapDeps([22,1,2,3,4])).then(e=>({default:e.LikedDogs}))),Tt=O.lazy(()=>U(()=>import("./DogParkDetail-DMrivu-F.js"),__vite__mapDeps([23,1,2,8,13,3,4])).then(e=>({default:e.DogParkDetail}))),Pt=O.lazy(()=>U(()=>import("./DogParkRules-BS1e-iBs.js"),__vite__mapDeps([24,1,2,3,4])).then(e=>({default:e.DogParkRules}))),kt=O.lazy(()=>U(()=>import("./DogParkHistory-p93jDBxN.js"),__vite__mapDeps([25,1,2,8,3,4])).then(e=>({default:e.DogParkHistory}))),It=O.lazy(()=>U(()=>import("./NewParkDetail-B79lbaH-.js"),__vite__mapDeps([26,1,2,3,4])).then(e=>({default:e.NewParkDetail}))),Ot=O.lazy(()=>U(()=>import("./ParkReservation-5TGV4ZIN.js"),__vite__mapDeps([27,1,2,28,29,30,8,15,3,4])).then(e=>({default:e.ParkReservation}))),St=O.lazy(()=>U(()=>import("./ParkRegistration-CS0Kgh3r.js"),__vite__mapDeps([31,1,2,8,3,4])).then(e=>({default:e.ParkRegistration}))),Dt=O.lazy(()=>U(()=>import("./ParkRegistrationAgreement-BsajD9H6.js"),__vite__mapDeps([32,1,2,3,4])).then(e=>({default:e.ParkRegistrationAgreement}))),Lt=O.lazy(()=>U(()=>import("./ParkRegistrationSecondStage-BcEB1M0q.js"),__vite__mapDeps([33,1,2,8,3,4])).then(e=>({default:e.ParkRegistrationSecondStage}))),Rt=O.lazy(()=>U(()=>import("./ParkManagement-DE1zpO6k.js"),__vite__mapDeps([34,1,2,15,3,4])).then(e=>({default:e.ParkManagement}))),Ct=O.lazy(()=>U(()=>import("./PetShop-CiItRHtm.js"),__vite__mapDeps([35,1,2,8,28,29,30,3,4])).then(e=>({default:e.PetShop}))),zt=O.lazy(()=>U(()=>import("./ProductDetail-CMk_w7Uj.js"),__vite__mapDeps([36,1,2,6,3,4])).then(e=>({default:e.ProductDetail}))),Vt=O.lazy(()=>U(()=>import("./Cart-CWRxjL4f.js"),__vite__mapDeps([37,1,2,3,4])).then(e=>({default:e.Cart}))),Mt=O.lazy(()=>U(()=>import("./Checkout-DMftEHj2.js"),__vite__mapDeps([38,1,2,8,28,29,3,4])).then(e=>({default:e.Checkout}))),$t=O.lazy(()=>U(()=>import("./OrderHistory-D5bIw72F.js"),__vite__mapDeps([39,1,2,3,4])).then(e=>({default:e.OrderHistory}))),Ut=O.lazy(()=>U(()=>import("./Community-CA1Yb4KZ.js"),__vite__mapDeps([40,1,2,3,4])).then(e=>({default:e.Community}))),Wt=O.lazy(()=>U(()=>import("./News-e08MjId-.js"),__vite__mapDeps([41,1,2,8,3,4])).then(e=>({default:e.News}))),Ht=O.lazy(()=>U(()=>import("./NewsDetail-DWevk1wH.js"),__vite__mapDeps([42,1,2,3,4])).then(e=>({default:e.NewsDetail}))),Bt=O.lazy(()=>U(()=>import("./DogInfo-CuJH7r2R.js"),__vite__mapDeps([43,1,2]))),Ft=O.lazy(()=>U(()=>import("./DogInfoBreeds-BN93lke0.js"),__vite__mapDeps([44,1,2]))),qt=O.lazy(()=>U(()=>import("./DogInfoVaccine-wNUZjvaS.js"),__vite__mapDeps([45,1,2]))),Jt=O.lazy(()=>U(()=>import("./DogInfoFoods-hfFcMlrT.js"),__vite__mapDeps([46,1,2]))),Gt=O.lazy(()=>U(()=>import("./DogInfoSnack-D9RPrHon.js"),__vite__mapDeps([47,1,2]))),Kt=O.lazy(()=>U(()=>import("./DogInfoParasite-DdTL6LY9.js"),__vite__mapDeps([48,1,2]))),Yt=O.lazy(()=>U(()=>import("./DogInfoShow-CNvIvvz6.js"),__vite__mapDeps([49,1,2]))),Xt=O.lazy(()=>U(()=>import("./PaymentSetup-CgQHqqPo.js"),__vite__mapDeps([50,1,2,8,3,4])).then(e=>({default:e.PaymentSetup}))),Zt=O.lazy(()=>U(()=>import("./PaymentMethodSettings-Be2iMcSa.js"),__vite__mapDeps([51,1,2,8,3,4])).then(e=>({default:e.PaymentMethodSettings}))),Qt=O.lazy(()=>U(()=>import("./PaymentConfirmation-BZRxyScj.js"),__vite__mapDeps([52,1,2,3,4])).then(e=>({default:e.PaymentConfirmation}))),es=O.lazy(()=>U(()=>import("./Subscription-Cgrjy9GK.js"),__vite__mapDeps([53,1,2,28,29,30,6,3,4])).then(e=>({default:e.Subscription}))),ts=O.lazy(()=>U(()=>import("./OwnerDashboard-BXlWevKt.js"),__vite__mapDeps([54,1,2,3,4])).then(e=>({default:e.OwnerDashboard}))),ss=O.lazy(()=>U(()=>import("./OwnerPaymentSystem-mDNllC-x.js"),__vite__mapDeps([55,1,2,3,4])).then(e=>({default:e.OwnerPaymentSystem}))),ns=O.lazy(()=>U(()=>import("./AdminDashboard-BCILZM_s.js"),__vite__mapDeps([56,1,2,8,3,4])).then(e=>({default:e.AdminDashboard}))),rs=O.lazy(()=>U(()=>import("./AdminManagement-sJBdeV16.js"),__vite__mapDeps([57,1,2,58,3,4])).then(e=>({default:e.AdminManagement}))),as=O.lazy(()=>U(()=>import("./AdminTasks-xQiCqYja.js"),__vite__mapDeps([59,1,2,3,4])).then(e=>({default:e.AdminTasks}))),is=O.lazy(()=>U(()=>import("./AdminUserManagement-DspESegj.js"),__vite__mapDeps([60,1,2,8,3,4])).then(e=>({default:e.AdminUserManagement}))),os=O.lazy(()=>U(()=>import("./AdminUserDetail-H2f72pNo.js"),__vite__mapDeps([61,1,2,3,4])).then(e=>({default:e.AdminUserDetail}))),ls=O.lazy(()=>U(()=>import("./AdminParkManagement-lkAyGtC8.js"),__vite__mapDeps([62,1,2,8,13,58,3,4])).then(e=>({default:e.AdminParkManagement}))),cs=O.lazy(()=>U(()=>import("./AdminReservationManagement-Nex3LSfE.js"),__vite__mapDeps([63,1,2,8,3,4])).then(e=>({default:e.AdminReservationManagement}))),ds=O.lazy(()=>U(()=>import("./AdminShopManagement-CknntjF1.js"),__vite__mapDeps([64,1,2,8,13,65,3,4])).then(e=>({default:e.AdminShopManagement}))),ms=O.lazy(()=>U(()=>import("./AdminSalesManagement-CcnfYGd8.js"),__vite__mapDeps([66,1,2,8,3,4])).then(e=>({default:e.AdminSalesManagement}))),us=O.lazy(()=>U(()=>import("./AdminVaccineApproval-Ca_BIE8R.js"),__vite__mapDeps([67,1,2,3,4]))),hs=O.lazy(()=>U(()=>import("./AdminFacilityApproval-DLqL7GQ0.js"),__vite__mapDeps([68,1,2,3,4]))),ps=O.lazy(()=>U(()=>import("./AdminRevenueReport-EpThBtXm.js"),__vite__mapDeps([69,1,2,8,65,3,4])).then(e=>({default:e.AdminRevenueReport}))),xs=O.lazy(()=>U(()=>import("./AdminNewsManagement-BAdP-_ZU.js"),__vite__mapDeps([70,1,2,8,13,3,4])).then(e=>({default:e.AdminNewsManagement}))),fs=O.lazy(()=>U(()=>import("./TwoFactorSetup-VyjqUzHa.js"),__vite__mapDeps([71,1,2,3,4]))),gs=O.lazy(()=>U(()=>import("./TwoFactorVerify-DV6ME9V1.js"),__vite__mapDeps([72,1,2,3,4]))),js=O.lazy(()=>U(()=>import("./MagicLink-BWdrGUv0.js"),__vite__mapDeps([73,1,2,3,4])).then(e=>({default:e.MagicLink}))),ys=O.lazy(()=>U(()=>import("./AccessControl-DkgD3W67.js"),__vite__mapDeps([74,1,2,15,3,4])).then(e=>({default:e.AccessControl}))),bs=O.lazy(()=>U(()=>import("./FacilityRegistration-MBJxmtVr.js"),__vite__mapDeps([75,1,2,8,3,4]))),ws=O.lazy(()=>U(()=>import("./TermsOfService-EzE09YJ4.js"),__vite__mapDeps([76,1,2,3,4])).then(e=>({default:e.TermsOfService}))),_s=O.lazy(()=>U(()=>import("./PrivacyPolicy-Cm1UDdW7.js"),__vite__mapDeps([77,1,2,3,4])).then(e=>({default:e.PrivacyPolicy}))),vs=O.lazy(()=>U(()=>import("./Contact-BrWOxNbY.js"),__vite__mapDeps([78,1,2,8,3,4])).then(e=>({default:e.Contact}))),Es=O.lazy(()=>U(()=>import("./BusinessInformation-Bm0yapXg.js"),__vite__mapDeps([79,1,2,3,4])).then(e=>({default:e.BusinessInformation}))),Ns=O.lazy(()=>U(()=>import("./Deploy-C_CYkzHK.js"),__vite__mapDeps([80,1,2,81,3,4])).then(e=>({default:e.Deploy}))),As=O.lazy(()=>U(()=>import("./DeploymentHistory-BHKj17zY.js"),__vite__mapDeps([82,1,2,81,3,4])).then(e=>({default:e.DeploymentHistory}))),Ts=O.lazy(()=>U(()=>import("./NetlifySetupGuide-C2GbA0Bj.js"),__vite__mapDeps([83,1,2,3,4]))),Ps=O.lazy(()=>U(()=>import("./PWASetupGuide-DtQJIqrH.js"),__vite__mapDeps([84,1,2,3,4]))),ks=O.lazy(()=>U(()=>import("./PWAImplementationGuide-DXOqsBNv.js"),__vite__mapDeps([85,1,2,3,4]))),Is=O.lazy(()=>U(()=>import("./PWADocumentation-L_9k0TWP.js"),__vite__mapDeps([86,1,2,3,4]))),Os=O.lazy(()=>U(()=>import("./PWATestingSuite-pabcBthl.js"),__vite__mapDeps([87,1,2,3,4]))),Ss=O.lazy(()=>U(()=>import("./PWALighthouseAudit-CV0brD8K.js"),__vite__mapDeps([88,1,2,3,4]))),Ds=O.lazy(()=>U(()=>import("./PWADeploymentGuide-B8Wd40KC.js"),__vite__mapDeps([89,1,2,3,4])));function Ls(e){try{const t=window[e],s="__storage_test__";return t.setItem(s,s),t.removeItem(s),!0}catch{return!1}}const Rs={};function Cs(e,t="localStorage"){try{return Ls(t)?window[t].getItem(e):Rs[e]||null}catch(s){return Rs[e]||null}}function zs(e,t,s="localStorage"){try{return Ls(s)?(window[s].setItem(e,t),!0):(Rs[e]=t,!0)}catch(n){return Rs[e]=t,!1}}function Vs(){const[e,t]=O.useState(""),[s,n]=O.useState(""),[a,i]=O.useState(!1);O.useEffect(()=>{const e=Cs("lastUsedEmail");e&&t(e)},[]);return r.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"パスワードリセットメール送信"}),s&&r.jsx("div",{className:"mb-4 text-blue-500",children:s}),r.jsxs("form",{onSubmit:async t=>{t.preventDefault(),i(!0),n("");const{error:s}=await Ue.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/reset-password"});n(s?"エラー: "+s.message:"パスワードリセット用のメールを送信しました。メールをご確認ください。"),i(!1)},children:[r.jsxs("label",{className:"block mb-2",children:["メールアドレス",r.jsx("input",{type:"email",className:"w-full border p-2 rounded mt-1",value:e,onChange:e=>t(e.target.value),required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded mt-4",disabled:a,children:a?"送信中...":"メールを送信"})]})]})}function Ms(){const e=window.location.hash.replace("#",""),t=new URLSearchParams(e);let s=t.get("access_token")||t.get("token"),n=t.get("type");if(!s||!n){const e=new URLSearchParams(window.location.search);s=s||e.get("access_token")||e.get("token"),n=n||e.get("type")}return{accessToken:s,type:n}}const $s=()=>{const e=D(),[t,s]=O.useState(""),[n,a]=O.useState(""),[i,o]=O.useState(!1),[{accessToken:l,type:c},d]=O.useState(Ms()),[m,u]=O.useState(!1);O.useEffect(()=>{d(Ms())},[]),O.useEffect(()=>{(async()=>{if("recovery"===c&&l){const{error:e}=await Ue.auth.exchangeCodeForSession(l);e?(a("セッションの設定に失敗しました。再度パスワードリセットを行ってください。"),u(!1)):u(!0)}else a("セッションの設定に失敗しました。再度パスワードリセットを行ってください。"),u(!1)})()},[c,l]);return r.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"パスワード再設定"}),n&&r.jsx("div",{className:"mb-4 text-red-500",children:n}),m&&r.jsxs("form",{onSubmit:async s=>{s.preventDefault(),o(!0),a("");const{error:n}=await Ue.auth.updateUser({password:t});n?a("エラー: "+n.message):(a("パスワードが変更されました。ログイン画面に戻ります。"),setTimeout(()=>e("/login"),2e3)),o(!1)},children:[r.jsxs("label",{className:"block mb-2",children:["新しいパスワード",r.jsx("input",{type:"password",className:"w-full border p-2 rounded mt-1",value:t,onChange:e=>s(e.target.value),required:!0,minLength:6})]}),r.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded mt-4",disabled:i,children:i?"送信中...":"パスワードを変更"})]})]})},Us=({message:e="ロード中..."})=>{const t=window.location.pathname.includes("/payment")||window.location.pathname.includes("/checkout")||window.location.pathname.includes("/subscription")||window.location.search.includes("success=true")||window.location.search.includes("canceled=true");return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:e}),t&&r.jsx("p",{className:"text-sm text-gray-500",children:"決済後の処理を行っています..."})]})})},Ws=({children:e})=>{const{user:t,isAuthenticated:s,loading:n}=qe();return n?r.jsx(Us,{}):t&&s?r.jsx(r.Fragment,{children:e}):r.jsx(V,{to:"/login",state:{from:window.location.pathname},replace:!0})},Hs=()=>(O.useEffect(()=>{window.location.href=`/magic-link${window.location.hash}`},[]),r.jsx(Us,{}));function Bs(){return O.useEffect(()=>{{const e=()=>{},t=()=>{};window.addEventListener("online",e),window.addEventListener("offline",t);return(()=>{if("PerformanceObserver"in window){const t=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.entryType})});try{t.observe({entryTypes:["measure","navigation"]})}catch(e){}}})(),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}},[]),r.jsxs(r.Fragment,{children:[r.jsx(ut,{children:r.jsx(O.Suspense,{fallback:r.jsx(Us,{message:"ページを読み込み中..."}),children:r.jsxs(C,{children:[r.jsx(z,{path:"/",element:r.jsx(jt,{})}),r.jsx(z,{path:"/login",element:r.jsx(yt,{})}),r.jsx(z,{path:"/register",element:r.jsx(bt,{})}),r.jsx(z,{path:"/reset-password",element:r.jsx($s,{})}),r.jsx(z,{path:"/forgot-password",element:r.jsx(Vs,{})}),r.jsx(z,{path:"/parks/:parkId",element:r.jsx(Tt,{})}),r.jsx(z,{path:"/parks/rules",element:r.jsx(Pt,{})}),r.jsx(z,{path:"/shop",element:r.jsx(Ct,{})}),r.jsx(z,{path:"/shop/product/:productId",element:r.jsx(zt,{})}),r.jsx(z,{path:"/privacy",element:r.jsx(_s,{})}),r.jsx(z,{path:"/terms",element:r.jsx(ws,{})}),r.jsx(z,{path:"/contact",element:r.jsx(vs,{})}),r.jsx(z,{path:"/magic-link",element:r.jsx(js,{})}),r.jsx(z,{path:"/payment-confirmation",element:r.jsx(Qt,{})}),r.jsx(z,{path:"/business-information",element:r.jsx(Es,{})}),r.jsx(z,{path:"/news",element:r.jsx(Wt,{})}),r.jsx(z,{path:"/news/:newsId",element:r.jsx(Ht,{})}),r.jsx(z,{path:"/news/park/:parkId",element:r.jsx(It,{})}),r.jsx(z,{path:"/dog/:id",element:r.jsx(Nt,{})}),r.jsx(z,{path:"/dog-profile/:dogId",element:r.jsx(Nt,{})}),r.jsx(z,{path:"/dog-info",element:r.jsx(Bt,{})}),r.jsx(z,{path:"/dog-info/foods",element:r.jsx(Jt,{})}),r.jsx(z,{path:"/dog-info/vaccine",element:r.jsx(qt,{})}),r.jsx(z,{path:"/dog-info/breeds",element:r.jsx(Ft,{})}),r.jsx(z,{path:"/dog-info/parasite",element:r.jsx(Kt,{})}),r.jsx(z,{path:"/dog-info/snack",element:r.jsx(Gt,{})}),r.jsx(z,{path:"/dog-info/show",element:r.jsx(Yt,{})}),r.jsx(z,{path:"/netlify-setup-guide",element:r.jsx(Ts,{})}),r.jsx(z,{path:"/pwa-setup-guide",element:r.jsx(Ps,{})}),r.jsx(z,{path:"/pwa-implementation-guide",element:r.jsx(ks,{})}),r.jsx(z,{path:"/pwa-documentation",element:r.jsx(Is,{})}),r.jsx(z,{path:"/pwa-testing-suite",element:r.jsx(Os,{})}),r.jsx(z,{path:"/pwa-lighthouse-audit",element:r.jsx(Ss,{})}),r.jsx(z,{path:"/pwa-deployment-guide",element:r.jsx(Ds,{})}),r.jsx(z,{path:"/auth/callback",element:r.jsx(Hs,{})}),r.jsx(z,{path:"/dashboard",element:r.jsx(Ws,{children:r.jsx(wt,{})})}),r.jsx(z,{path:"/profile-settings",element:r.jsx(Ws,{children:r.jsx(_t,{})})}),r.jsx(z,{path:"/liked-dogs",element:r.jsx(Ws,{children:r.jsx(At,{})})}),r.jsx(z,{path:"/register-dog",element:r.jsx(Ws,{children:r.jsx(Et,{})})}),r.jsx(z,{path:"/dog-management",element:r.jsx(Ws,{children:r.jsx(vt,{})})}),r.jsx(z,{path:"/parks/:parkId/reserve",element:r.jsx(Ws,{children:r.jsx(Ot,{})})}),r.jsx(z,{path:"/parks/:parkId/manage",element:r.jsx(Ws,{children:r.jsx(Rt,{})})}),r.jsx(z,{path:"/parks/:parkId/second-stage",element:r.jsx(Ws,{children:r.jsx(Lt,{})})}),r.jsx(z,{path:"/park-registration-agreement",element:r.jsx(Ws,{children:r.jsx(Dt,{})})}),r.jsx(z,{path:"/register-park",element:r.jsx(Ws,{children:r.jsx(St,{})})}),r.jsx(z,{path:"/dogpark-history",element:r.jsx(Ws,{children:r.jsx(kt,{})})}),r.jsx(z,{path:"/community",element:r.jsx(Ws,{children:r.jsx(Ut,{})})}),r.jsx(z,{path:"/cart",element:r.jsx(Ws,{children:r.jsx(Vt,{})})}),r.jsx(z,{path:"/checkout",element:r.jsx(Ws,{children:r.jsx(Mt,{})})}),r.jsx(z,{path:"/orders",element:r.jsx(Ws,{children:r.jsx($t,{})})}),r.jsx(z,{path:"/payment-setup",element:r.jsx(Ws,{children:r.jsx(Xt,{})})}),r.jsx(z,{path:"/payment-method-settings",element:r.jsx(Ws,{children:r.jsx(Zt,{})})}),r.jsx(z,{path:"/subscription",element:r.jsx(Ws,{children:r.jsx(es,{})})}),r.jsx(z,{path:"/owner-dashboard",element:r.jsx(Ws,{children:r.jsx(ts,{})})}),r.jsx(z,{path:"/owner-payment-system",element:r.jsx(Ws,{children:r.jsx(ss,{})})}),r.jsx(z,{path:"/admin",element:r.jsx(Ws,{children:r.jsx(ns,{})})}),r.jsx(z,{path:"/admin/users",element:r.jsx(Ws,{children:r.jsx(is,{})})}),r.jsx(z,{path:"/admin/users/:userId",element:r.jsx(Ws,{children:r.jsx(os,{})})}),r.jsx(z,{path:"/admin/parks",element:r.jsx(Ws,{children:r.jsx(ls,{})})}),r.jsx(z,{path:"/admin/reservations",element:r.jsx(Ws,{children:r.jsx(cs,{})})}),r.jsx(z,{path:"/admin/sales",element:r.jsx(Ws,{children:r.jsx(ms,{})})}),r.jsx(z,{path:"/admin/management",element:r.jsx(Ws,{children:r.jsx(rs,{})})}),r.jsx(z,{path:"/admin/tasks",element:r.jsx(Ws,{children:r.jsx(as,{})})}),r.jsx(z,{path:"/admin/shop",element:r.jsx(Ws,{children:r.jsx(ds,{})})}),r.jsx(z,{path:"/admin/revenue",element:r.jsx(Ws,{children:r.jsx(ps,{})})}),r.jsx(z,{path:"/admin/news",element:r.jsx(Ws,{children:r.jsx(xs,{})})}),r.jsx(z,{path:"/admin/vaccine-approval",element:r.jsx(Ws,{children:r.jsx(us,{})})}),r.jsx(z,{path:"/admin/facility-approval",element:r.jsx(Ws,{children:r.jsx(hs,{})})}),r.jsx(z,{path:"/facility-registration",element:r.jsx(Ws,{children:r.jsx(bs,{})})}),r.jsx(z,{path:"/two-factor-setup",element:r.jsx(Ws,{children:r.jsx(fs,{})})}),r.jsx(z,{path:"/two-factor-verify",element:r.jsx(Ws,{children:r.jsx(gs,{})})}),r.jsx(z,{path:"/access-control",element:r.jsx(Ws,{children:r.jsx(ys,{})})}),r.jsx(z,{path:"/deploy",element:r.jsx(Ws,{children:r.jsx(Ns,{})})}),r.jsx(z,{path:"/deployment-history",element:r.jsx(Ws,{children:r.jsx(As,{})})}),r.jsx(z,{path:"*",element:r.jsx(V,{to:"/",replace:!0})})]})})}),r.jsx(gt,{}),r.jsx(ft,{})]})}const Fs=new T({defaultOptions:{queries:{staleTime:3e5,gcTime:18e5,retry:(e,t)=>401!==t?.status&&403!==t?.status&&e<3,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!0},mutations:{retry:1,retryDelay:1e3}}});"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const e=await navigator.serviceWorker.register("/sw.js",{scope:"/"});e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&function(){const e=document.createElement("div");e.innerHTML='\n    <div style="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      background: #3b82f6;\n      color: white;\n      padding: 16px 24px;\n      border-radius: 8px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n      z-index: 10000;\n      font-family: system-ui, -apple-system, sans-serif;\n      font-size: 14px;\n      max-width: 320px;\n    ">\n      <div style="font-weight: 600; margin-bottom: 8px;">新バージョン利用可能</div>\n      <div style="margin-bottom: 12px;">アプリの新しいバージョンが利用可能です。</div>\n      <button onclick="window.location.reload()" style="\n        background: rgba(255,255,255,0.2);\n        border: none;\n        color: white;\n        padding: 8px 16px;\n        border-radius: 4px;\n        cursor: pointer;\n        font-size: 12px;\n        margin-right: 8px;\n      ">更新</button>\n      <button onclick="this.parentElement.parentElement.remove()" style="\n        background: none;\n        border: none;\n        color: rgba(255,255,255,0.8);\n        cursor: pointer;\n        font-size: 12px;\n      ">後で</button>\n    </div>\n  ',document.body.appendChild(e),setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},1e4)}()})})}catch(e){}}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),window.dispatchEvent(new Event("pwa-installable"))}),window.addEventListener("appinstalled",()=>{}),window.addEventListener("error",e=>{}),window.addEventListener("unhandledrejection",e=>{});const qs=W.createRoot(document.getElementById("root")),Js=r.jsx(S.StrictMode,{children:r.jsx(P,{client:Fs,children:r.jsxs(De,{children:[r.jsx(M,{children:r.jsx(ot,{children:r.jsx(Fe,{children:r.jsx(Bs,{})})})}),!1]})})});qs.render(Js);export{ct as B,dt as C,$e as H,st as S,zs as a,Je as b,Ke as c,lt as d,Ge as e,Cs as f,We as g,He as h,Xe as l,pt as n,Ye as p,Ue as s,qe as u};
