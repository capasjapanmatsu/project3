/*! Build: 2025-07-17T07:59:15.523Z
Version: 0.0.0 */
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PWADebugPanel.I7tk4iEh.js","assets/vendor-react.D8SVeCGP.js","assets/vendor-misc.qnLj5toF.js","assets/utils.C9ZsMnW6.js","assets/pages-dog.BrfoFXaJ.js","assets/components-admin.GT3qRZg5.js","assets/hooks.CTtJlocA.js","assets/vendor-stripe.B5MJ2ewd.js","assets/vendor-supabase.RBPF72ft.js","assets/pages-admin.D5sMZOCI.js","assets/Deploy.Dkua_n5o.js","assets/DeploymentHistory.BhU0NXY_.js","assets/BluePrint.Bu-9GXWH.js","assets/vendor-ui.PcbqjdkP.js","assets/pages-pwa.9wbDPkmI.js"])))=>i.map(i=>d[i]);
import{r as e,u as s,j as t,n as a,ad as n,i as r,aC as i,w as l,S as o,b7 as c,N as d,M as x,aF as m,H as h,aj as j,o as p,U as u,aH as g,f,c as w,z as b,R as y,b8 as v,X as N,am as k,a1 as E,C as _,aL as L,b9 as I,ba as S,bb as C,bc as P,aZ as T,bd as z}from"./vendor-react.D8SVeCGP.js";import{u as A,c as R,C as D,B as O,d as W,M}from"./components-admin.GT3qRZg5.js";import{_ as B}from"./pages-dog.BrfoFXaJ.js";import{c as V}from"./hooks.CTtJlocA.js";import{b as F,s as J,l as U,y as $,m as q,H,L as G,R as K,D as Y,z as Z,A as Q,P as X,B as ee,C as se,T as te,E as ae,M as ne,F as re,G as ie,N as le,I as oe,J as ce,K as de,O as xe,Q as me,S as he,U as je,V as pe,W as ue,X as ge,Y as fe,Z as we,_ as be,$ as ye,a0 as ve,a1 as Ne,a2 as ke,a3 as Ee,a4 as _e,a5 as Le,a6 as Ie,a7 as Se,a8 as Ce,a9 as Pe,aa as Te,ab as ze,ac as Ae,ad as Re,ae as De,af as Oe,ag as We,ah as Me,ai as Be,aj as Ve,ak as Fe,al as Je,am as Ue,an as $e,ao as qe,ap as He,aq as Ge,ar as Ke,as as Ye,at as Ze,au as Qe,av as Xe}from"./utils.C9ZsMnW6.js";import{m as es}from"./vendor-ui.PcbqjdkP.js";import"./vendor-misc.qnLj5toF.js";import"./vendor-stripe.B5MJ2ewd.js";import"./vendor-supabase.RBPF72ft.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const ss=e.lazy((()=>B((()=>import("./PWADebugPanel.I7tk4iEh.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8])))),ts=e.memo((function(){const{user:d,logout:x,isAdmin:m}=A(),h=s(),[j,p]=e.useState(""),[u,g]=e.useState(0),[f,w]=e.useState(0),{isActive:b}=V(),[y,v]=e.useState(!1),[N,k]=e.useState(!1),[E,_]=e.useState(!1),L=e.useCallback((()=>{const e=document.getElementById("pwa-install-button");e&&e.click()}),[]);e.useEffect((()=>{k(window.matchMedia("(display-mode: standalone)").matches);const e=()=>{v(!0)},s=()=>{v(!1),k(!0)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",s),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",s)}}),[]);const I=e.useCallback((async()=>{var e,s,t;if(d)try{const a=await F((()=>J.from("profiles").select("name").eq("id",d.id).maybeSingle()));if(a.error&&"PGRST116"!==a.error.code&&U("error","Error fetching profile",{error:a.error,userId:d.id}),null==(e=a.data)?void 0:e.name)p(a.data.name);else{const e=(null==(s=d.user_metadata)?void 0:s.name)||(null==(t=d.email)?void 0:t.split("@")[0]);e&&p(e)}}catch(a){U("error","Exception in fetchUserName",{error:a,userId:d.id})}}),[d]),S=e.useCallback((async()=>{if(d)try{const e=await F((()=>J.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",d.id).eq("read",!1)));g(e.data||0)}catch(e){U("error","Error fetching notifications",{error:e,userId:d.id})}}),[d]),C=e.useCallback((async()=>{if(d)try{const e=await F((()=>J.from("cart_items").select("*",{count:"exact",head:!0}).eq("user_id",d.id)));w(e.data||0)}catch(e){U("error","Error fetching cart items",{error:e,userId:d.id})}}),[d]);return e.useEffect((()=>{d?(I(),S(),C()):(p(""),g(0),w(0))}),[d,m,I,S,C]),t.jsxs(t.Fragment,{children:[t.jsx("nav",{className:"bg-white shadow-lg sticky top-0 z-50",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsxs(a,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer group","aria-label":"ドッグパークJP ホーム",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-green-400 rounded-full flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:t.jsx(n,{className:"h-7 w-7 text-white","aria-hidden":"true"})}),t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-400 rounded-full opacity-80",children:t.jsx(n,{className:"h-2 w-2 text-white","aria-hidden":"true"})})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{className:"text-xl font-bold text-gray-800 leading-tight",children:["ドッグパーク",t.jsx("span",{className:"text-blue-600",children:"JP"})]}),t.jsx("span",{className:"text-xs text-gray-500 leading-none",children:"愛犬との素敵な時間を"})]})]}),t.jsx("div",{className:"flex items-center space-x-4",children:d?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-gray-700 hidden md:inline-block",children:["こんにちは、",j||"ユーザー","さん",b&&t.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[t.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),t.jsx("path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6"})]}),"サブスク会員"]})]}),t.jsx(a,{to:"/dashboard",className:"text-gray-600 hover:text-blue-600 transition-colors hidden md:inline-block",children:"マイページ"}),t.jsx(a,{to:"/parks",className:"text-gray-600 hover:text-blue-600 transition-colors hidden md:inline-block",children:"ドッグラン一覧"}),t.jsx(a,{to:"/shop",className:"text-gray-600 hover:text-green-600 transition-colors hidden md:inline-block",children:"ペットショップ"}),t.jsxs(a,{to:"/community",className:"relative text-gray-600 hover:text-blue-600 transition-colors","aria-label":"通知 "+(u>0?`${u}件の未読通知があります`:""),children:[t.jsx(r,{className:"h-5 w-5","aria-hidden":"true"}),u>0&&t.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center","aria-hidden":"true",children:u>9?"9+":u})]}),t.jsxs(a,{to:"/cart",className:"relative text-gray-600 hover:text-green-600 transition-colors","aria-label":"カート "+(f>0?`${f}点の商品があります`:""),children:[t.jsx(i,{className:"h-5 w-5","aria-hidden":"true"}),f>0&&t.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center","aria-hidden":"true",children:f>9?"9+":f})]}),y&&!N&&t.jsxs("button",{onClick:L,className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 transition-colors bg-blue-50 hover:bg-blue-100 px-2 py-1 rounded-md","aria-label":"アプリをインストール",children:[t.jsx(l,{className:"h-4 w-4","aria-hidden":"true"}),t.jsx("span",{className:"hidden lg:inline text-sm",children:"アプリ化"})]}),N&&t.jsxs("div",{className:"flex items-center space-x-1 text-green-600 bg-green-50 px-2 py-1 rounded-md",children:[t.jsx(l,{className:"h-4 w-4","aria-hidden":"true"}),t.jsx("span",{className:"hidden lg:inline text-sm",children:"PWA"})]}),!1,m&&t.jsxs(a,{to:"/admin",className:"flex items-center space-x-1 text-red-600 hover:text-red-700 transition-colors","aria-label":"管理者ページ",children:[t.jsx(o,{className:"h-4 w-4","aria-hidden":"true"}),t.jsx("span",{className:"hidden md:inline",children:"管理者"})]}),t.jsxs("button",{onClick:()=>{(async()=>{try{await x(),h("/")}catch(e){U("error","ログアウトエラー",{error:e})}})()},className:"flex items-center space-x-1 text-gray-600 hover:text-red-600 transition-colors","aria-label":"ログアウト",children:[t.jsx(c,{className:"h-4 w-4","aria-hidden":"true"}),t.jsx("span",{className:"hidden md:inline",children:"ログアウト"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(a,{to:"/login",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"ログイン"}),t.jsx(a,{to:"/register",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"新規登録"})]})})]})})}),t.jsx(e.Suspense,{fallback:t.jsx("div",{children:"Loading debug panel..."}),children:t.jsx(ss,{isOpen:E,onClose:()=>_(!1)})})]})}));function as(){const e=(new Date).getFullYear();return t.jsx("footer",{className:"bg-white text-gray-700 py-12 border-t border-gray-200",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[t.jsxs("div",{className:"col-span-1 md:col-span-1",children:[t.jsxs(a,{to:"/",className:"flex items-center space-x-2 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-green-400 rounded-full flex items-center justify-center",children:t.jsx(n,{className:"h-6 w-6 text-white"})}),t.jsx("span",{className:"text-xl font-bold",children:"ドッグパークJP"})]}),t.jsx("p",{className:"text-gray-400 mb-4",children:"愛犬とのお散歩をもっと楽しく。全国のドッグランを簡単に検索・予約できるサービスです。"}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:t.jsx("svg",{className:"w-6 h-6 text-gray-400 hover:text-white transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),t.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:t.jsx("svg",{className:"w-6 h-6 text-gray-400 hover:text-white transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})}),t.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:t.jsx("svg",{className:"w-6 h-6 text-gray-400 hover:text-white transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"クイックリンク"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(a,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"ホーム"})}),t.jsx("li",{children:t.jsx(a,{to:"/parks",className:"text-gray-400 hover:text-white transition-colors",children:"ドッグラン一覧"})}),t.jsx("li",{children:t.jsx(a,{to:"/parks/rules",className:"text-gray-400 hover:text-white transition-colors",children:"利用ルール"})}),t.jsx("li",{children:t.jsx(a,{to:"/shop",className:"text-gray-400 hover:text-white transition-colors",children:"ペットショップ"})}),t.jsx("li",{children:t.jsx(a,{to:"/subscription",className:"text-gray-400 hover:text-white transition-colors",children:"サブスクリプション"})}),t.jsx("li",{children:t.jsx(a,{to:"/news",className:"text-gray-400 hover:text-white transition-colors",children:"新着情報"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ご利用者様向け"}),t.jsxs("ul",{className:"space-y-2",children:[t.jsx("li",{children:t.jsx(a,{to:"/register",className:"text-gray-400 hover:text-white transition-colors",children:"新規登録"})}),t.jsx("li",{children:t.jsx(a,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"ログイン"})}),t.jsx("li",{children:t.jsx(a,{to:"/register-dog",className:"text-gray-400 hover:text-white transition-colors",children:"ワンちゃん登録"})}),t.jsx("li",{children:t.jsx(a,{to:"/access-control",className:"text-gray-400 hover:text-white transition-colors",children:"入場管理"})}),t.jsx("li",{children:t.jsx(a,{to:"/community",className:"text-gray-400 hover:text-white transition-colors",children:"コミュニティ"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"お問い合わせ"}),t.jsxs("ul",{className:"space-y-3",children:[t.jsxs("li",{className:"flex items-start",children:[t.jsx(d,{className:"w-5 h-5 text-gray-400 mr-2 mt-0.5"}),t.jsx("span",{className:"text-gray-400",children:"info@dogparkjp.com"})]}),t.jsxs("li",{className:"flex items-start",children:[t.jsx(x,{className:"w-5 h-5 text-gray-400 mr-2 mt-0.5"}),t.jsxs("span",{className:"text-gray-400",children:["〒861-0563",t.jsx("br",{}),"熊本県山鹿市鹿央町千田１７１８－１３",t.jsx("br",{}),"株式会社ＣＡＰＡＳ"]})]})]})]})]}),t.jsx("hr",{className:"border-gray-700 my-8"}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[t.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["© ",e," ドッグパークJP. All rights reserved."]}),t.jsxs("div",{className:"flex space-x-6",children:[t.jsx(a,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"プライバシーポリシー"}),t.jsx(a,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"利用規約"}),t.jsx(a,{to:"/business-information",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"特定商取引法に基づく表記"}),t.jsx(a,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"お問い合わせ"})]})]})]})})}function ns(){const s=m(),[n,r]=e.useState("/");e.useEffect((()=>{const e=s.pathname.split("/")[1];r(e?`/${e}`:"/")}),[s]);const i=[{path:"/",label:"ホーム",icon:h},{path:"/parks",label:"ドッグラン",icon:x},{path:"/access-control",label:"入退場",icon:j},{path:"/community",label:"コミュニティ",icon:p},{path:"/dashboard",label:"マイページ",icon:u}];return t.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden",children:[t.jsx("div",{className:"flex justify-around items-center h-16",children:i.map((e=>{const s=e.icon,r="/"===(i=e.path)?"/"===n:n.startsWith(i);var i;return t.jsxs(a,{to:e.path,className:"flex flex-col items-center justify-center w-full h-full "+(r?"text-blue-600":"text-gray-500"),children:[t.jsx(s,{className:"w-6 h-6 "+(r?"text-blue-600":"text-gray-500")}),t.jsx("span",{className:"text-xs mt-1",children:e.label})]},e.path)}))}),t.jsx("div",{className:"h-safe-bottom bg-white"})]})}function rs({title:e="ドッグパークJP",description:s="愛犬とのお散歩をもっと楽しく。全国のドッグランを簡単に検索・予約できるサービスです。",canonicalUrl:a,ogType:n="website",ogImage:r="https://dogparkjp.com/og-image.jpg"}){const i="ドッグパークJP"===e?e:`${e} | ドッグパークJP`;return t.jsxs(g,{children:[t.jsx("title",{children:i}),t.jsx("meta",{name:"description",content:s}),a&&t.jsx("link",{rel:"canonical",href:a}),t.jsx("meta",{property:"og:type",content:n}),t.jsx("meta",{property:"og:title",content:i}),t.jsx("meta",{property:"og:description",content:s}),t.jsx("meta",{property:"og:image",content:r}),a&&t.jsx("meta",{property:"og:url",content:a}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:title",content:i}),t.jsx("meta",{name:"twitter:description",content:s}),t.jsx("meta",{name:"twitter:image",content:r}),t.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),t.jsx("meta",{httpEquiv:"Content-Language",content:"ja"}),t.jsx("meta",{name:"theme-color",content:"#3B82F6"})]})}const is=()=>{const{maintenanceInfo:e,refreshMaintenanceStatus:s}=R(),a=e=>e?new Date(e).toLocaleString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):null;return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:t.jsxs(D,{className:"max-w-md w-full p-8 text-center",children:[t.jsx("div",{className:"flex justify-center mb-6",children:(null==e?void 0:e.is_emergency)?t.jsx(f,{className:"w-16 h-16 text-red-500"}):t.jsx(w,{className:"w-16 h-16 text-blue-500"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:(null==e?void 0:e.title)||"システムメンテナンス"}),t.jsx("p",{className:"text-gray-600 mb-6",children:(null==e?void 0:e.message)||"より良いサービス提供のため、システムメンテナンスを実施しています。ご不便をおかけして申し訳ございません。"}),(null==e?void 0:e.start_time)&&t.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 mb-2",children:[t.jsx(b,{className:"w-4 h-4 mr-2"}),t.jsxs("span",{children:["開始: ",a(e.start_time)]})]}),(null==e?void 0:e.end_time)&&t.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 mb-6",children:[t.jsx(b,{className:"w-4 h-4 mr-2"}),t.jsxs("span",{children:["終了予定: ",a(e.end_time)]})]}),t.jsxs(O,{onClick:()=>{s()},className:"w-full flex items-center justify-center",variant:"secondary",children:[t.jsx(y,{className:"w-4 h-4 mr-2"}),"状態を更新"]}),t.jsx("div",{className:"mt-6 text-xs text-gray-400",children:t.jsx("p",{children:"メンテナンス完了後、このページは自動的に更新されます。"})})]})})},ls=({children:s})=>{const a=m(),{isMaintenanceActive:n,loading:r,isIPWhitelisted:i,clientIP:l}=R(),{isAdmin:o,user:c}=A();return e.useEffect((()=>{window.scrollTo(0,0)}),[a.pathname]),r?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):!n||o||"capasjapan@gmail.com"===(null==c?void 0:c.email)||i?t.jsx(v,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[t.jsx(rs,{}),t.jsx(ts,{}),t.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:s}),t.jsx(as,{}),t.jsx(ns,{})]})}):t.jsx(is,{})},os=({notification:s,onClose:a})=>{const{options:n}=s,[r,i]=e.useState(!1),[l,o]=e.useState(!1);return e.useEffect((()=>{setTimeout((()=>i(!0)),10)}),[]),t.jsx("div",{className:`\n        fixed z-50 max-w-sm w-full transition-all duration-300 ease-in-out\n        ${(()=>{switch(n.position){case"top-left":return"top-4 left-4";case"top-center":return"top-4 left-1/2 transform -translate-x-1/2";case"bottom-right":return"bottom-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-center":return"bottom-4 left-1/2 transform -translate-x-1/2";default:return"top-4 right-4"}})()}\n        ${r&&!l?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}\n        ${l?"scale-95":"scale-100"}\n      `,children:t.jsx("div",{className:`\n        p-4 rounded-lg border shadow-lg backdrop-blur-sm\n        ${(()=>{switch(n.type){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}})()}\n      `,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[(()=>{switch(n.type){case"success":return t.jsx(_,{className:"w-5 h-5 text-green-500"});case"error":return t.jsx(E,{className:"w-5 h-5 text-red-500"});case"warning":return t.jsx(f,{className:"w-5 h-5 text-yellow-500"});default:return t.jsx(k,{className:"w-5 h-5 text-blue-500"})}})(),t.jsxs("div",{className:"flex-1 min-w-0",children:[n.title&&t.jsx("p",{className:"text-sm font-semibold mb-1",children:n.title}),t.jsx("p",{className:"text-sm leading-relaxed",children:n.message}),n.action&&t.jsx("button",{onClick:n.action.onClick,className:"mt-2 text-sm font-medium underline hover:no-underline focus:outline-none",children:n.action.label})]}),n.closable&&t.jsx("button",{onClick:()=>{o(!0),setTimeout((()=>{a(s.id)}),300)},className:"flex-shrink-0 p-1 rounded-full hover:bg-black/10 focus:outline-none focus:ring-2 focus:ring-black/20 transition-colors",children:t.jsx(N,{className:"w-4 h-4"})})]})})})},cs=()=>{const[s,a]=e.useState([]);e.useEffect((()=>$.subscribe(a)),[]);const n=e=>{$.remove(e)};return t.jsx("div",{className:"pointer-events-none",children:s.map((e=>t.jsx(os,{notification:e,onClose:n},e.id)))})},ds=()=>{const[s,a]=e.useState({isInstalled:!1,isOnline:navigator.onLine,hasUpdate:!1,canInstall:!1,canNotify:!1}),[n,i]=e.useState(!1),[o,c]=e.useState(!1),[d,x]=e.useState(null),[m,h]=e.useState(null);e.useEffect((()=>(j(),p(),b(),()=>{u()})),[]);const j=()=>{a((e=>({...e,isInstalled:window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone,isOnline:navigator.onLine,canNotify:"Notification"in window})))},p=()=>{window.addEventListener("online",g),window.addEventListener("offline",g),window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",w)},u=()=>{window.removeEventListener("online",g),window.removeEventListener("offline",g),window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",w)},g=()=>{a((e=>({...e,isOnline:navigator.onLine})))},f=e=>{e.preventDefault(),x(e),a((e=>({...e,canInstall:!0}))),i(!0)},w=()=>{a((e=>({...e,isInstalled:!0,canInstall:!1}))),i(!1),x(null)},b=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.ready;e.addEventListener("updatefound",(()=>{const s=e.installing;s&&s.addEventListener("statechange",(()=>{"installed"===s.state&&navigator.serviceWorker.controller&&(a((e=>({...e,hasUpdate:!0}))),h(e),c(!0))}))})),setInterval((()=>{e.update()}),6e4)}catch(e){}},v=()=>{i(!1),a((e=>({...e,canInstall:!1})))},k=()=>{c(!1),a((e=>({...e,hasUpdate:!1})))};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:s.isInstalled&&t.jsxs(es.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center space-x-2 px-3 py-2 bg-blue-500 text-white rounded-full shadow-lg",children:[t.jsx(L,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"PWAインストール済み"})]})}),n&&t.jsx(es.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs(es.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"アプリをインストール"}),t.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600",children:t.jsx(N,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"ドッグパークJPをホーム画面に追加して、 ネイティブアプリのように利用しませんか？"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(_,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{children:"高速な起動"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(_,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{children:"オフライン機能"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(_,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{children:"プッシュ通知"})]})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("button",{onClick:async()=>{if(d)try{await d.prompt();const{outcome:e}=await d.userChoice;x(null),i(!1),a((e=>({...e,canInstall:!1})))}catch(e){}},className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center space-x-2",children:[t.jsx(l,{className:"w-4 h-4"}),t.jsx("span",{children:"インストール"})]}),t.jsx("button",{onClick:v,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"後で"})]})]})}),o&&t.jsx(es.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs(es.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"新しいバージョンが利用可能"}),t.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-600",children:t.jsx(N,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"mb-6",children:t.jsx("p",{className:"text-gray-600",children:"ドッグパークJPの新しいバージョンが利用可能です。 更新しますか？"})}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("button",{onClick:async()=>{if(m)try{m.waiting&&m.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()}catch(e){}},className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center space-x-2",children:[t.jsx(y,{className:"w-4 h-4"}),t.jsx("span",{children:"今すぐ更新"})]}),t.jsx("button",{onClick:k,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"後で"})]})]})}),!s.canNotify&&s.isInstalled&&t.jsx(es.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"fixed bottom-20 left-4 right-4 bg-white rounded-lg shadow-lg border border-gray-200 p-4 z-40",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(r,{className:"w-5 h-5 text-blue-500 mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"通知を許可しますか？"}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"重要な情報をお知らせできます"})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:async()=>{"Notification"in window?"granted"===await Notification.requestPermission()&&(a((e=>({...e,canNotify:!0}))),new Notification("ドッグパークJP",{body:"通知が有効になりました！",icon:"/icons/icon-192x192.png",badge:"/icons/icon-192x192.png"})):alert("このブラウザは通知をサポートしていません")},className:"text-xs bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 transition-colors",children:"許可"}),t.jsx("button",{onClick:()=>a((e=>({...e,canNotify:!0}))),className:"text-xs text-gray-600 hover:text-gray-800 transition-colors",children:"後で"})]})]})})]})};function xs(){const[s,a]=e.useState(""),[n,r]=e.useState(""),[i,l]=e.useState(!1);return e.useEffect((()=>{const e=q("lastUsedEmail");e&&a(e)}),[]),t.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"パスワードリセットメール送信"}),n&&t.jsx("div",{className:"mb-4 text-blue-500",children:n}),t.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l(!0),r("");const{error:t}=await J.auth.resetPasswordForEmail(s,{redirectTo:window.location.origin+"/reset-password"});r(t?"エラー: "+t.message:"パスワードリセット用のメールを送信しました。メールをご確認ください。"),l(!1)},children:[t.jsxs("label",{className:"block mb-2",children:["メールアドレス",t.jsx("input",{type:"email",className:"w-full border p-2 rounded mt-1",value:s,onChange:e=>a(e.target.value),required:!0})]}),t.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded mt-4",disabled:i,children:i?"送信中...":"メールを送信"})]})]})}function ms(){const e=window.location.hash.replace("#",""),s=new URLSearchParams(e);let t=s.get("access_token")||s.get("token"),a=s.get("type");if(!t||!a){const e=new URLSearchParams(window.location.search);t=t||e.get("access_token")||e.get("token"),a=a||e.get("type")}return{accessToken:t,type:a}}const hs=()=>{const a=s(),[n,r]=e.useState(""),[i,l]=e.useState(""),[o,c]=e.useState(!1),[{accessToken:d,type:x},m]=e.useState(ms()),[h,j]=e.useState(!1);return e.useEffect((()=>{m(ms())}),[]),e.useEffect((()=>{(async()=>{if("recovery"===x&&d){const{error:e}=await J.auth.exchangeCodeForSession(d);e?(l("セッションの設定に失敗しました。再度パスワードリセットを行ってください。"),j(!1)):j(!0)}else l("セッションの設定に失敗しました。再度パスワードリセットを行ってください。"),j(!1)})()}),[x,d]),t.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[t.jsx("h2",{className:"text-xl font-bold mb-4",children:"パスワード再設定"}),i&&t.jsx("div",{className:"mb-4 text-red-500",children:i}),h&&t.jsxs("form",{onSubmit:async e=>{e.preventDefault(),c(!0),l("");const{error:s}=await J.auth.updateUser({password:n});s?l("エラー: "+s.message):(l("パスワードが変更されました。ログイン画面に戻ります。"),setTimeout((()=>a("/login")),2e3)),c(!1)},children:[t.jsxs("label",{className:"block mb-2",children:["新しいパスワード",t.jsx("input",{type:"password",className:"w-full border p-2 rounded mt-1",value:n,onChange:e=>r(e.target.value),required:!0,minLength:6})]}),t.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded mt-4",disabled:o,children:o?"送信中...":"パスワードを変更"})]})]})},js=e.lazy((()=>B((()=>import("./pages-admin.D5sMZOCI.js").then((e=>e.k))),__vite__mapDeps([9,1,2,5,3,4,8,6,7])).then((e=>({default:e.AdminUserDetail}))))),ps=e.lazy((()=>B((()=>import("./pages-admin.D5sMZOCI.js").then((e=>e.l))),__vite__mapDeps([9,1,2,5,3,4,8,6,7])).then((e=>({default:e.AdminNewsManagement}))))),us=e.lazy((()=>B((()=>import("./Deploy.Dkua_n5o.js")),__vite__mapDeps([10,1,2,5,3,4,8,6,7])).then((e=>({default:e.Deploy}))))),gs=e.lazy((()=>B((()=>import("./DeploymentHistory.BhU0NXY_.js")),__vite__mapDeps([11,1,2,5,3,4,8,6,7])).then((e=>({default:e.DeploymentHistory}))))),fs=e.lazy((()=>B((()=>import("./BluePrint.Bu-9GXWH.js").then((e=>e.N))),__vite__mapDeps([12,1,2,13])))),ws=e.lazy((()=>B((()=>import("./pages-pwa.9wbDPkmI.js").then((e=>e.P))),__vite__mapDeps([14,1,2,3,4,5,6,7,8,13])))),bs=e.lazy((()=>B((()=>import("./pages-pwa.9wbDPkmI.js").then((e=>e.a))),__vite__mapDeps([14,1,2,3,4,5,6,7,8,13])))),ys=e.lazy((()=>B((()=>import("./pages-pwa.9wbDPkmI.js").then((e=>e.b))),__vite__mapDeps([14,1,2,3,4,5,6,7,8,13])))),vs=e.lazy((()=>B((()=>import("./pages-pwa.9wbDPkmI.js").then((e=>e.c))),__vite__mapDeps([14,1,2,3,4,5,6,7,8,13])))),Ns=e.lazy((()=>B((()=>import("./pages-pwa.9wbDPkmI.js").then((e=>e.d))),__vite__mapDeps([14,1,2,3,4,5,6,7,8,13])))),ks=e.lazy((()=>B((()=>import("./pages-pwa.9wbDPkmI.js").then((e=>e.e))),__vite__mapDeps([14,1,2,3,4,5,6,7,8,13])))),Es=({message:e="ロード中..."})=>{const s=window.location.pathname.includes("/payment")||window.location.pathname.includes("/checkout")||window.location.pathname.includes("/subscription")||window.location.search.includes("success=true")||window.location.search.includes("canceled=true");return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 mb-2",children:e}),s&&t.jsx("p",{className:"text-sm text-gray-500",children:"決済後の処理を行っています..."})]})})},_s=({children:e})=>{const{user:s,isAuthenticated:a,loading:n}=A();return n?t.jsx(Es,{}):s&&a?t.jsx(t.Fragment,{children:e}):t.jsx(C,{to:"/login",state:{from:window.location.pathname},replace:!0})},Ls=()=>{const s=window.location.hash;return e.useEffect((()=>{window.location.href=`/magic-link${window.location.hash}`}),[s]),t.jsx(Es,{})};function Is(){return e.useEffect((()=>{{const e=()=>{},s=()=>{};return window.addEventListener("online",e),window.addEventListener("offline",s),(()=>{if("PerformanceObserver"in window){const s=new PerformanceObserver((e=>{e.getEntries().forEach((e=>{e.entryType}))}));try{s.observe({entryTypes:["measure","navigation"]})}catch(e){}}})(),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}),[]),t.jsxs(t.Fragment,{children:[t.jsx(ls,{children:t.jsx(e.Suspense,{fallback:t.jsx(Es,{message:"ページを読み込み中..."}),children:t.jsxs(I,{children:[t.jsx(S,{path:"/",element:t.jsx(H,{})}),t.jsx(S,{path:"/login",element:t.jsx(G,{})}),t.jsx(S,{path:"/register",element:t.jsx(K,{})}),t.jsx(S,{path:"/reset-password",element:t.jsx(hs,{})}),t.jsx(S,{path:"/forgot-password",element:t.jsx(xs,{})}),t.jsx(S,{path:"/parks",element:t.jsx(Y,{})}),t.jsx(S,{path:"/parks/:parkId",element:t.jsx(Z,{})}),t.jsx(S,{path:"/parks/rules",element:t.jsx(Q,{})}),t.jsx(S,{path:"/shop",element:t.jsx(X,{})}),t.jsx(S,{path:"/shop/product/:productId",element:t.jsx(ee,{})}),t.jsx(S,{path:"/privacy",element:t.jsx(se,{})}),t.jsx(S,{path:"/terms",element:t.jsx(te,{})}),t.jsx(S,{path:"/contact",element:t.jsx(ae,{})}),t.jsx(S,{path:"/magic-link",element:t.jsx(ne,{})}),t.jsx(S,{path:"/payment-confirmation",element:t.jsx(re,{})}),t.jsx(S,{path:"/business-information",element:t.jsx(ie,{})}),t.jsx(S,{path:"/news",element:t.jsx(le,{})}),t.jsx(S,{path:"/news/:newsId",element:t.jsx(oe,{})}),t.jsx(S,{path:"/news/park/:parkId",element:t.jsx(ce,{})}),t.jsx(S,{path:"/dog/:id",element:t.jsx(de,{})}),t.jsx(S,{path:"/dog-profile/:dogId",element:t.jsx(de,{})}),t.jsx(S,{path:"/two-factor-setup",element:t.jsx(_s,{children:t.jsx(xe,{})})}),t.jsx(S,{path:"/two-factor-verify",element:t.jsx(_s,{children:t.jsx(me,{})})}),t.jsx(S,{path:"/netlify-setup-guide",element:t.jsx(fs,{})}),t.jsx(S,{path:"/pwa-setup-guide",element:t.jsx(ws,{})}),t.jsx(S,{path:"/pwa-implementation-guide",element:t.jsx(bs,{})}),t.jsx(S,{path:"/pwa-documentation",element:t.jsx(ys,{})}),t.jsx(S,{path:"/pwa-testing-suite",element:t.jsx(vs,{})}),t.jsx(S,{path:"/pwa-lighthouse-audit",element:t.jsx(Ns,{})}),t.jsx(S,{path:"/pwa-deployment-guide",element:t.jsx(ks,{})}),t.jsx(S,{path:"/dog-info",element:t.jsx(he,{})}),t.jsx(S,{path:"/dog-info/foods",element:t.jsx(je,{})}),t.jsx(S,{path:"/dog-info/vaccine",element:t.jsx(pe,{})}),t.jsx(S,{path:"/dog-info/breeds",element:t.jsx(ue,{})}),t.jsx(S,{path:"/dog-info/parasite",element:t.jsx(ge,{})}),t.jsx(S,{path:"/dog-info/snack",element:t.jsx(fe,{})}),t.jsx(S,{path:"/dog-info/show",element:t.jsx(we,{})}),t.jsx(S,{path:"/facility-registration",element:t.jsx(_s,{children:t.jsx(be,{})})}),t.jsx(S,{path:"/admin/facility-approval",element:t.jsx(_s,{children:t.jsx(ye,{})})}),t.jsx(S,{path:"/admin/vaccine-approval",element:t.jsx(_s,{children:t.jsx(ve,{})})}),t.jsx(S,{path:"/auth/callback",element:t.jsx(Ls,{})}),t.jsx(S,{path:"/dashboard",element:t.jsx(_s,{children:t.jsx(Ne,{})})}),t.jsx(S,{path:"/liked-dogs",element:t.jsx(_s,{children:t.jsx(ke,{})})}),t.jsx(S,{path:"/register-dog",element:t.jsx(_s,{children:t.jsx(Ee,{})})}),t.jsx(S,{path:"/dog-management",element:t.jsx(_s,{children:t.jsx(_e,{})})}),t.jsx(S,{path:"/parks/:parkId/reserve",element:t.jsx(_s,{children:t.jsx(Le,{})})}),t.jsx(S,{path:"/community",element:t.jsx(_s,{children:t.jsx(Ie,{})})}),t.jsx(S,{path:"/cart",element:t.jsx(_s,{children:t.jsx(Se,{})})}),t.jsx(S,{path:"/checkout",element:t.jsx(_s,{children:t.jsx(Ce,{})})}),t.jsx(S,{path:"/orders",element:t.jsx(_s,{children:t.jsx(Pe,{})})}),t.jsx(S,{path:"/owner-dashboard",element:t.jsx(_s,{children:t.jsx(Te,{})})}),t.jsx(S,{path:"/park-registration-agreement",element:t.jsx(_s,{children:t.jsx(ze,{})})}),t.jsx(S,{path:"/register-park",element:t.jsx(_s,{children:t.jsx(Ae,{})})}),t.jsx(S,{path:"/admin",element:t.jsx(_s,{children:t.jsx(Re,{})})}),t.jsx(S,{path:"/admin/users",element:t.jsx(_s,{children:t.jsx(De,{})})}),t.jsx(S,{path:"/admin/users/:userId",element:t.jsx(_s,{children:t.jsx(js,{})})}),t.jsx(S,{path:"/admin/parks",element:t.jsx(_s,{children:t.jsx(Oe,{})})}),t.jsx(S,{path:"/admin/reservations",element:t.jsx(_s,{children:t.jsx(We,{})})}),t.jsx(S,{path:"/admin/sales",element:t.jsx(_s,{children:t.jsx(Me,{})})}),t.jsx(S,{path:"/admin/management",element:t.jsx(_s,{children:t.jsx(Be,{})})}),t.jsx(S,{path:"/admin/tasks",element:t.jsx(_s,{children:t.jsx(Ve,{})})}),t.jsx(S,{path:"/admin/shop",element:t.jsx(_s,{children:t.jsx(Fe,{})})}),t.jsx(S,{path:"/admin/revenue",element:t.jsx(_s,{children:t.jsx(Je,{})})}),t.jsx(S,{path:"/admin/news",element:t.jsx(_s,{children:t.jsx(ps,{})})}),t.jsx(S,{path:"/admin/vaccine-approval",element:t.jsx(_s,{children:t.jsx(ve,{})})}),t.jsx(S,{path:"/access-control",element:t.jsx(_s,{children:t.jsx(Ue,{})})}),t.jsx(S,{path:"/payment-setup",element:t.jsx(_s,{children:t.jsx($e,{})})}),t.jsx(S,{path:"/owner-payment-system",element:t.jsx(_s,{children:t.jsx(qe,{})})}),t.jsx(S,{path:"/subscription",element:t.jsx(_s,{children:t.jsx(He,{})})}),t.jsx(S,{path:"/profile-settings",element:t.jsx(_s,{children:t.jsx(Ge,{})})}),t.jsx(S,{path:"/payment-method-settings",element:t.jsx(_s,{children:t.jsx(Ke,{})})}),t.jsx(S,{path:"/parks/:parkId/manage",element:t.jsx(_s,{children:t.jsx(Ye,{})})}),t.jsx(S,{path:"/dogpark-history",element:t.jsx(_s,{children:t.jsx(Ze,{})})}),t.jsx(S,{path:"/parks/:parkId/second-stage",element:t.jsx(_s,{children:t.jsx(Qe,{})})}),t.jsx(S,{path:"/parks/:parkId/publish-setup",element:t.jsx(_s,{children:t.jsx(Xe,{})})}),t.jsx(S,{path:"/deploy",element:t.jsx(_s,{children:t.jsx(us,{})})}),t.jsx(S,{path:"/deployment-history",element:t.jsx(_s,{children:t.jsx(gs,{})})}),t.jsx(S,{path:"*",element:t.jsx(C,{to:"/",replace:!0})})]})})}),t.jsx(ds,{}),t.jsx(cs,{})]})}"serviceWorker"in navigator&&window.addEventListener("load",(async()=>{try{const e=await navigator.serviceWorker.register("/sw.js",{scope:"/"});e.addEventListener("updatefound",(()=>{const s=e.installing;s&&s.addEventListener("statechange",(()=>{"installed"===s.state&&navigator.serviceWorker.controller&&window.confirm("新しいバージョンが利用可能です。更新しますか？")&&window.location.reload()}))}))}catch(e){}}));let Ss=null;async function Cs(){if(Ss)try{await Ss.prompt(),(await Ss.userChoice).outcome,Ss=null}catch(e){}}function Ps(e,s){const t=document.createElement("div");t.style.cssText=`\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    padding: 12px 20px;\n    border-radius: 8px;\n    color: white;\n    font-weight: 600;\n    z-index: 10000;\n    background: ${"success"===s?"#10b981":"#f59e0b"};\n    transition: all 0.3s ease;\n  `,t.textContent=`接続状態: ${e}`,document.body.appendChild(t),setTimeout((()=>{t.style.opacity="0",setTimeout((()=>document.body.removeChild(t)),300)}),3e3)}window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),Ss=e,function(){const e=document.getElementById("pwa-install-button");e&&(e.style.display="block",e.addEventListener("click",Cs))}()})),window.addEventListener("appinstalled",(()=>{Ss=null,function(){const e=document.getElementById("pwa-install-button");e&&(e.style.display="none")}()})),window.addEventListener("online",(()=>{Ps("オンライン","success")})),window.addEventListener("offline",(()=>{Ps("オフライン","warning")}));let Ts=!1;const zs=setTimeout((()=>{Ts||(Ts=!0,P.createRoot(document.getElementById("root")).render(t.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:t.jsx("div",{className:"max-w-md w-full mx-auto p-6 bg-white rounded-lg shadow-lg",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),t.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"アプリケーション緊急モード"}),t.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"アプリケーションの読み込みに時間がかかっています。"})]}),t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[t.jsx("h4",{className:"font-medium text-yellow-900 mb-1",children:"システム情報:"}),t.jsxs("div",{className:"text-sm text-yellow-800 space-y-1",children:[t.jsxs("p",{children:["環境: ","本番"]}),t.jsxs("p",{children:["URL: ",window.location.href]}),t.jsxs("p",{children:["オンライン: ",navigator.onLine?"はい":"いいえ"]}),t.jsxs("p",{children:["PWA: ",window.matchMedia("(display-mode: standalone)").matches?"はい":"いいえ"]}),t.jsxs("p",{children:["時刻: ",(new Date).toLocaleString("ja-JP")]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{onClick:()=>{localStorage.clear(),sessionStorage.clear(),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((e=>{e.forEach((e=>e.unregister()))})),window.location.reload()},className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"全データクリア & 再読み込み"}),t.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:"再読み込み"})]})]})})})))}),6e4);try{const e=P.createRoot(document.getElementById("root")),s=()=>{clearTimeout(zs),Ts=!1};e.render(t.jsx(T.StrictMode,{children:t.jsx(v,{children:t.jsx(z,{children:t.jsx(W,{children:t.jsx(M,{children:t.jsx(Is,{})})})})})})),setTimeout(s,100)}catch(As){clearTimeout(zs),P.createRoot(document.getElementById("root")).render(t.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:t.jsx("div",{className:"max-w-md w-full mx-auto p-6 bg-white rounded-lg shadow-lg",children:t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("h1",{className:"text-xl font-bold text-red-900 mb-2",children:"初期化エラー"}),t.jsx("p",{className:"text-red-600 text-sm mb-4",children:"アプリケーションの初期化中にエラーが発生しました。"})]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:[t.jsx("h4",{className:"font-medium text-red-900 mb-1",children:"エラー詳細:"}),t.jsx("p",{className:"text-sm text-red-800",children:null==As?void 0:As.toString()})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{onClick:()=>{localStorage.clear(),sessionStorage.clear(),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((e=>{e.forEach((e=>e.unregister()))})),window.location.reload()},className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"全データクリア & 再読み込み"}),t.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:"再読み込み"})]})]})})}))}export{rs as S};
