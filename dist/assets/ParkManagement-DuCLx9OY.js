import{u as ye,j as e,m as n,C as h,f as K,p as ke,c as z,d as ie,B as o,e as Se,g as Ce,t as Pe,s as v,i as Ee}from"./index-B2nIfDq6.js";import{r as i,h as Ie,d as Te,L}from"./react-vendor-ClX3xUyT.js";import{K as P,i as ee,k as De,C as ve,R as Me,A as X,Y as me,o as Z,V as ne,t as he,M as Le,w as $e,J as ce,G as ue,S as pe,F as ge,al as W,U as je,ap as be,X as de,aq as fe,n as qe}from"./ui-vendor-Bbvw08tP.js";import{A as oe}from"./index-t547Jm-c.js";import"./supabase-vendor-CRpuwX9I.js";function Ae({lockId:u,parkName:f="ドッグパーク",purpose:N="entry",className:a="",onSuccess:$,onError:H,reservationId:E}){const{user:O}=ye(),[x,q]=i.useState(null),[p,g]=i.useState(null),[_,I]=i.useState(null),[G,T]=i.useState(!1),[A,k]=i.useState(null),[U,R]=i.useState(!1),[se,V]=i.useState(!1),[D,c]=i.useState(!1),[y,te]=i.useState(""),[M,B]=i.useState(!1),S=5,ae=async r=>{try{const{data:l,error:d}=await v.from("reservations").select(`
          *,
          dog_park:dog_parks(*),
          dog:dogs(*)
        `).eq("id",r).single();return d?(console.error("Error fetching reservation:",d),null):l}catch(l){return console.error("Error fetching reservation:",l),null}},J=r=>{try{const l=new Date(r.date),d=r.start_time.split(":").map(Number),j=d[0]??0,w=d[1]??0;return l.setHours(j,w,0,0),new Date(l.getTime()+r.duration*60*60*1e3)}catch(l){return console.error("Error calculating reservation end time:",l),null}};i.useEffect(()=>{if(x&&p){const r=setInterval(()=>{const l=new Date,d=p.getTime()-l.getTime();if(d<=0)I("期限切れ"),q(null),g(null),clearInterval(r);else{const j=Math.floor(d/6e4),w=Math.floor(d%6e4/1e3);I(`${j}:${w.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(r)}},[x,p]);const F=async()=>{if(O){T(!0),k(null);try{const{data:{session:r}}=await v.auth.getSession();if(!r?.access_token)throw new Error("認証が必要です");let l=S,d=null;if(E){const C=await ae(E);if(C&&C.reservation_type==="whole_facility"&&(d=J(C),d)){const re=new Date,le=d.getTime()-re.getTime();l=Math.max(1,Math.ceil(le/(1e3*60)))}}const j=await fetch("https://onmcivwxtzqajcovptgf.supabase.co/functions/v1/generate-pin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({lock_id:u,purpose:N,expiry_minutes:l,reservation_id:E||void 0})});if(!j.ok){const C=await j.json();throw new Error(C.error||"PINコードの生成に失敗しました")}const{pin:w,expires_at:Y}=await j.json();q(w),g(new Date(Y)),B(!0),V(!0),await Ee(),$&&$(w),setTimeout(()=>{V(!1),B(!1)},3e3)}catch(r){console.error("Error generating PIN:",r);const l=r instanceof Error?r.message:"PINコードの生成に失敗しました";if(l.startsWith("PAYMENT_REQUIRED:")){const d=l.replace("PAYMENT_REQUIRED:","").trim();te(d),c(!0),k(null)}else k(l),c(!1);H&&H(l)}finally{T(!1)}}},Q=async()=>{if(x)try{await navigator.clipboard.writeText(x),R(!0),await Pe(),setTimeout(()=>R(!1),2e3)}catch{}};return e.jsx(n.div,{className:a,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs(n.h3,{className:"text-lg font-semibold mb-4 flex items-center justify-center",variants:K,initial:"initial",animate:"animate",children:[e.jsx(n.div,{animate:M?{rotate:[0,15,-15,0]}:{},transition:{duration:.6,repeat:2},children:e.jsx(P,{className:"w-5 h-5 text-blue-600 mr-2"})}),f,"の",N==="entry"?"入口":"出口"]}),e.jsx(oe,{mode:"wait",children:x?e.jsxs(n.div,{className:"space-y-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[e.jsxs(n.div,{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border-2 border-blue-200 mx-auto",variants:ke,initial:"initial",animate:M?"animate":"initial",children:[e.jsx("p",{className:"text-sm text-blue-800 mb-1",children:"PINコード:"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(n.p,{className:"text-3xl font-bold tracking-widest text-blue-700",initial:{scale:1},animate:M?{scale:[1,1.1,1]}:{},transition:{duration:.6},children:x}),e.jsx(n.button,{onClick:Q,className:"p-1 text-blue-600 hover:text-blue-800 transition-colors",title:"コピー",variants:z,whileHover:"hover",whileTap:"tap",children:e.jsx(oe,{mode:"wait",children:U?e.jsx(n.div,{variants:ie,initial:"initial",animate:"animate",exit:{scale:0,opacity:0},children:e.jsx(ee,{className:"w-5 h-5 text-green-600"})},"copied"):e.jsx(n.div,{variants:ie,initial:"initial",animate:"animate",exit:{scale:0,opacity:0},children:e.jsx(De,{className:"w-5 h-5"})},"copy")})})]})]}),e.jsx(n.div,{className:"bg-yellow-50 p-2 rounded-lg",variants:K,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-yellow-800",children:[e.jsx(n.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:e.jsx(ve,{className:"w-4 h-4"})}),e.jsxs("span",{className:"font-medium",children:["有効期限: ",_]})]})}),e.jsx("div",{className:"flex justify-center space-x-3",children:e.jsx(n.div,{variants:z,whileHover:"hover",whileTap:"tap",children:e.jsxs(o,{onClick:()=>void F(),variant:"secondary",size:"sm",isLoading:G,children:[e.jsx(Me,{className:"w-4 h-4 mr-1"}),"再生成"]})})}),e.jsxs(n.p,{className:"text-xs text-gray-500",variants:K,children:[N==="entry"?"入場":"退場","時にスマートロックのキーパッドに上記のPINコードを入力してください"]})]},"pin-display"):e.jsxs(n.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[e.jsxs(n.p,{className:"text-gray-600 mb-4",variants:K,children:[N==="entry"?"入場":"退場","用のPINコードを生成します。",e.jsx("br",{}),"生成されたPINコードは5分間有効です。"]}),e.jsxs(oe,{children:[A&&e.jsxs(n.div,{className:"bg-red-50 p-3 rounded-lg flex items-center justify-center text-red-600",variants:Se,initial:"initial",animate:"shake",exit:{opacity:0,y:-10},children:[e.jsx(X,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:A})]}),D&&e.jsxs(n.div,{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",variants:Ce,initial:"initial",animate:"animate",exit:"exit",children:[e.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[e.jsx(me,{className:"w-6 h-6 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"決済が必要です"}),e.jsx("p",{className:"text-sm text-blue-800 mb-4",children:y})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n.div,{variants:z,whileHover:"hover",whileTap:"tap",children:e.jsxs(o,{onClick:()=>window.location.href="/subscription",className:"w-full bg-purple-600 hover:bg-purple-700",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"サブスクリプションに加入（¥3,800/月）"]})}),e.jsx(n.div,{variants:z,whileHover:"hover",whileTap:"tap",children:e.jsxs(o,{onClick:()=>window.location.href="/parks",variant:"secondary",className:"w-full",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"1日券を購入（¥800）"]})})]}),e.jsxs("p",{className:"text-xs text-blue-700 mt-3",children:["• サブスクリプション：全国のドッグランが使い放題",e.jsx("br",{}),"• 1日券：選択したドッグランで24時間利用可能"]})]}),se&&e.jsxs(n.div,{className:"bg-green-50 p-3 rounded-lg flex items-center justify-center text-green-600",variants:ie,initial:"initial",animate:"animate",exit:{opacity:0,scale:.8},children:[e.jsx(ee,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"🎉 PINコードを生成しました"})]})]}),e.jsx(n.div,{variants:z,whileHover:"hover",whileTap:"tap",children:e.jsxs(o,{onClick:()=>void F(),isLoading:G,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"🚀 ",N==="entry"?"入場":"退場","用PINを生成"]})})]},"pin-generate")})]})})})}const Ne=u=>u?new Date(u).toISOString():null;function Ge(){const{parkId:u}=Ie(),{user:f}=ye(),N=Te(),[a,$]=i.useState(null),[H,E]=i.useState(!0),[O,x]=i.useState(""),[q,p]=i.useState(""),[g,_]=i.useState("overview"),[I,G]=i.useState([]),[T,A]=i.useState(null),[k,U]=i.useState("entry"),[R,se]=i.useState([]),[V,D]=i.useState(!1),[c,y]=i.useState({title:"",description:"",start_date:"",end_date:"",is_emergency:!1,notify_users:!0}),[te,M]=i.useState(!1),[B,S]=i.useState(!1),[ae,J]=i.useState(!1),[F,Q]=i.useState(!1),[r,l]=i.useState({max_capacity:0,facilities:{parking:!1,shower:!1,restroom:!1,agility:!1,rest_area:!1,water_station:!1},large_dog_area:!1,small_dog_area:!1,private_booths:!1,private_booth_count:0,facility_details:"",description:""});i.useEffect(()=>{if(!f||!u){N("/owner-dashboard");return}d()},[f,u,N]);const d=async()=>{try{E(!0);const{data:s,error:t}=await v.from("dog_parks").select("*").eq("id",u).eq("owner_id",f?.id).single();if(t)throw t;if(!s){N("/owner-dashboard");return}$(s),l({max_capacity:s.max_capacity||0,facilities:s.facilities||{parking:!1,shower:!1,restroom:!1,agility:!1,rest_area:!1,water_station:!1},large_dog_area:s.large_dog_area||!1,small_dog_area:s.small_dog_area||!1,private_booths:s.private_booths||!1,private_booth_count:s.private_booth_count||0,facility_details:s.facility_details||"",description:s.description||""});const{data:m,error:b}=await v.from("smart_locks").select("*").eq("park_id",u);if(b)throw b;G(m||[]),m&&m.length>0&&A(m[0]),await j()}catch(s){console.error("Error fetching park data:",s),x("データの取得に失敗しました。")}finally{E(!1)}},j=async()=>{try{const{data:s,error:t}=await v.from("park_maintenance").select("*").eq("park_id",u).order("start_date",{ascending:!1});if(t)throw t;se(s||[])}catch(s){console.error("Error fetching maintenance schedules:",s)}},w=async s=>{if(s.preventDefault(),!(!f||!u)){M(!0);try{if(!c.title||!c.start_date||!c.end_date)throw new Error("必須項目を入力してください。");const t=new Date(c.start_date);if(new Date(c.end_date)<=t)throw new Error("終了日時は開始日時より後に設定してください。");if(t<new Date)throw new Error("開始日時は現在時刻より後に設定してください。");const{error:b}=await v.from("park_maintenance").insert({park_id:u,title:c.title,description:c.description,start_date:Ne(c.start_date),end_date:Ne(c.end_date),is_emergency:c.is_emergency,notify_users:c.notify_users,created_by:f.id});if(b)throw b;p("メンテナンススケジュールを作成しました。"),D(!1),y({title:"",description:"",start_date:"",end_date:"",is_emergency:!1,notify_users:!0}),await j()}catch(t){console.error("Error creating maintenance:",t),x(t instanceof Error?t.message:"メンテナンススケジュールの作成に失敗しました。")}finally{M(!1)}}},Y=async s=>{if(window.confirm("このメンテナンススケジュールを削除しますか？"))try{const{error:t}=await v.from("park_maintenance").delete().eq("id",s);if(t)throw t;p("メンテナンススケジュールを削除しました。"),await j()}catch(t){console.error("Error deleting maintenance:",t),x("メンテナンススケジュールの削除に失敗しました。")}},C=s=>{const t=new Date,m=new Date(s.start_date),b=new Date(s.end_date);return s.status==="cancelled"?{status:"cancelled",label:"キャンセル済み",color:"bg-gray-500"}:s.status==="completed"?{status:"completed",label:"完了",color:"bg-gray-500"}:t>=m&&t<b?{status:"active",label:"メンテナンス中",color:"bg-red-500"}:t<m?{status:"scheduled",label:"予定",color:"bg-yellow-500"}:{status:"completed",label:"完了",color:"bg-gray-500"}},re=async s=>{if(s.preventDefault(),!(!a||!f)){J(!0);try{if(r.max_capacity<1)throw new Error("収容人数は1人以上で入力してください。");if(r.private_booths&&r.private_booth_count<1)throw new Error("プライベートブースがある場合は、部屋数を1以上で入力してください。");const{error:t}=await v.from("dog_parks").update({max_capacity:r.max_capacity,facilities:r.facilities,large_dog_area:r.large_dog_area,small_dog_area:r.small_dog_area,private_booths:r.private_booths,private_booth_count:r.private_booths?r.private_booth_count:0,facility_details:r.facility_details,description:r.description,updated_at:new Date().toISOString()}).eq("id",a.id);if(t)throw t;p("施設情報を更新しました。"),S(!1),await d(),setTimeout(()=>{p("")},3e3)}catch(t){console.error("Error updating park:",t),x(t instanceof Error?t.message:"施設情報の更新に失敗しました。"),setTimeout(()=>{x("")},5e3)}finally{J(!1)}}},le=s=>{p(`PINコードを生成しました: ${s}`),setTimeout(()=>{p("")},3e3)},we=s=>{x(s),setTimeout(()=>{x("")},5e3)},xe=s=>s?new Date(s).toLocaleString("ja-JP",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Asia/Tokyo"}):"未設定",_e=async()=>{if(a){Q(!0),x(""),p("");try{const s=!a.is_public,{error:t}=await v.from("dog_parks").update({is_public:s}).eq("id",a.id);if(t)throw t;$(m=>m?{...m,is_public:s}:null),p(s?"ドッグランを公開状態にしました。一般リストに表示されます。":"ドッグランを非公開状態にしました。一般リストに表示されません。")}catch(s){console.error("Error toggling public status:",s),x("公開状態の変更に失敗しました。")}finally{Q(!1)}}};return H?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a?e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-6",children:e.jsxs(L,{to:"/owner-dashboard",className:"flex items-center text-blue-600 hover:text-blue-800",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),"ダッシュボードに戻る"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(he,{className:"w-8 h-8 text-blue-600 mr-3"}),a.name]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(Le,{className:"w-4 h-4 text-gray-500"}),e.jsx("p",{className:"text-gray-600",children:a.address})]})]}),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{children:a.status==="approved"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600",children:"公開状況:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:_e,disabled:F,className:`
                      relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
                      ${a.is_public?"bg-blue-600":"bg-gray-200"}
                      ${F?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                    `,title:a.is_public?"公開中（クリックで非公開）":"非公開（クリックで公開）",children:[e.jsx("span",{className:"sr-only",children:"公開状態を切り替える"}),e.jsx("span",{className:`
                        inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                        ${a.is_public?"translate-x-6":"translate-x-1"}
                      `})]}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:a.is_public?"公開中":"非公開"})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(L,{to:`/parks/${a.id}`,children:e.jsxs(o,{variant:"secondary",className:"min-w-[100px]",children:[e.jsx($e,{className:"w-4 h-4 mr-2"}),"公開ページ"]})}),e.jsxs(o,{onClick:()=>S(!0),className:"min-w-[100px]",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"設定編集"]})]})]})]}),O&&e.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded-lg p-4 flex items-start",children:[e.jsx(X,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{children:O})]}),q&&e.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 rounded-lg p-4 flex items-start",children:[e.jsx(ee,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{children:q})]}),e.jsxs("div",{className:"flex space-x-4 border-b",children:[e.jsxs("button",{className:`px-4 py-2 font-medium ${g==="overview"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>_("overview"),children:[e.jsx(he,{className:"w-4 h-4 inline mr-2"}),"概要"]}),e.jsxs("button",{className:`px-4 py-2 font-medium ${g==="stats"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>_("stats"),children:[e.jsx(ue,{className:"w-4 h-4 inline mr-2"}),"統計・収益"]}),e.jsxs("button",{className:`px-4 py-2 font-medium ${g==="pins"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>_("pins"),children:[e.jsx(P,{className:"w-4 h-4 inline mr-2"}),"PINコード管理"]}),e.jsxs("button",{className:`px-4 py-2 font-medium ${g==="settings"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>_("settings"),children:[e.jsx(pe,{className:"w-4 h-4 inline mr-2"}),"設定"]})]}),g==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(h,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(ge,{className:"w-6 h-6 text-blue-600 mr-2"}),"基本情報"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"施設情報"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"住所:"})," ",a.address]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ステータス:"})," ",a.status==="approved"?"運営中":"審査中"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"料金:"})," ¥",a.price,"/日"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"最大収容人数:"})," ",a.max_capacity,"人"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"現在の利用者数:"})," ",a.current_occupancy,"人"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"評価:"})," ★",a.average_rating.toFixed(1)," (",a.review_count,"件)"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"設備情報"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries({parking:"駐車場",shower:"シャワー設備",restroom:"トイレ",agility:"アジリティ設備",rest_area:"休憩スペース",water_station:"給水設備"}).map(([s,t])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-4 h-4 rounded ${a.facilities[s]?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-sm",children:t})]},s))}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"大型犬エリア:"})," ",a.large_dog_area?"あり":"なし"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"小型犬エリア:"})," ",a.small_dog_area?"あり":"なし"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"プライベートブース:"})," ",a.private_booths?`${a.private_booth_count}室`:"なし"]})]})]})]})]}),e.jsxs(h,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(Z,{className:"w-6 h-6 text-blue-600 mr-2"}),"今日の統計"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Z,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"font-medium text-blue-900",children:"今日の予約"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"5件"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"前日比 +2件"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(W,{className:"w-5 h-5 text-green-600"}),e.jsx("h4",{className:"font-medium text-green-900",children:"今日の収益"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"¥4,000"}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"前日比 +¥1,600"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(je,{className:"w-5 h-5 text-purple-600"}),e.jsx("h4",{className:"font-medium text-purple-900",children:"利用者数"})]}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[a.current_occupancy,"人"]}),e.jsxs("p",{className:"text-xs text-purple-700 mt-1",children:["最大: ",a.max_capacity,"人"]})]})]})]}),e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(be,{className:"w-6 h-6 text-blue-600 mr-2"}),"施設画像"]}),e.jsx(L,{to:`/parks/${a.id}/second-stage`,children:e.jsxs(o,{size:"sm",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"画像を管理"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.image_url?e.jsx("div",{className:"h-48 rounded-lg overflow-hidden",children:e.jsx("img",{src:a.image_url,alt:`${a.name} - メイン画像`,className:"w-full h-full object-cover",onError:s=>{s.currentTarget.src="https://via.placeholder.com/400x300?text=No+Image"}})}):e.jsx("div",{className:"h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"メイン画像なし"})}),a.cover_image_url?e.jsx("div",{className:"h-48 rounded-lg overflow-hidden",children:e.jsx("img",{src:a.cover_image_url,alt:`${a.name} - カバー画像`,className:"w-full h-full object-cover",onError:s=>{s.currentTarget.src="https://via.placeholder.com/400x300?text=No+Image"}})}):e.jsx("div",{className:"h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"カバー画像なし"})}),e.jsx("div",{className:"h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsxs(L,{to:`/parks/${a.id}/second-stage`,className:"text-blue-600 hover:text-blue-800 flex flex-col items-center",children:[e.jsx(be,{className:"w-8 h-8 mb-2"}),e.jsx("p",{children:"その他の画像を管理"})]})})]})]})]}),g==="stats"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(h,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(ue,{className:"w-6 h-6 text-blue-600 mr-2"}),"利用統計"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Z,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"font-medium text-blue-900",children:"今月の予約"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"32件"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"前月比 +12%"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(W,{className:"w-5 h-5 text-green-600"}),e.jsx("h4",{className:"font-medium text-green-900",children:"今月の収益"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"¥25,600"}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"前月比 +8%"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(je,{className:"w-5 h-5 text-purple-600"}),e.jsx("h4",{className:"font-medium text-purple-900",children:"利用者数"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"128人"}),e.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"前月比 +15%"})]})]}),e.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"利用統計グラフ（実装予定）"})})]}),e.jsxs(h,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(W,{className:"w-6 h-6 text-blue-600 mr-2"}),"収益情報"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"収益配分"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-800 mb-1",children:"オーナー取り分（80%）"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"¥20,480"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-800 mb-1",children:"プラットフォーム手数料（20%）"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"¥5,120"})]})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"収益内訳"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-800 mb-1",children:"通常利用"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:"¥12,800"}),e.jsx("p",{className:"text-xs text-green-700",children:"16件"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-800 mb-1",children:"施設貸し切り"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:"¥8,800"}),e.jsx("p",{className:"text-xs text-green-700",children:"2件"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-800 mb-1",children:"プライベートブース"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:"¥4,000"}),e.jsx("p",{className:"text-xs text-green-700",children:"2件"})]})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-3",children:"振込情報"}),e.jsx("p",{className:"text-sm text-purple-800 mb-2",children:"振込は毎月15日に前月分を一括で行います。振込手数料は当社負担です。"}),e.jsx(L,{to:"/owner-payment-system",children:e.jsxs(o,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"振込情報を確認"]})})]})]})]})]}),g==="pins"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(h,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(P,{className:"w-6 h-6 text-blue-600 mr-2"}),"オーナー用PINコード発行"]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ee,{className:"w-5 h-5 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"オーナー特権"}),e.jsx("p",{children:"オーナーは決済不要でPINコードを発行できます。施設の管理やメンテナンスに使用してください。"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"PINコードは5分間有効です"}),e.jsx("li",{children:"入場・退場それぞれでPINコードが必要です"}),e.jsx("li",{children:"スタッフと共有することもできます"}),e.jsx("li",{children:"管理用途なので決済は不要です"})]})]})]})}),e.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[e.jsxs("button",{className:`px-6 py-3 rounded-lg flex items-center space-x-2 ${k==="entry"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>U("entry"),children:[e.jsx(ne,{className:"w-5 h-5"}),e.jsx("span",{children:"入場"})]}),e.jsxs("button",{className:`px-6 py-3 rounded-lg flex items-center space-x-2 ${k==="exit"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>U("exit"),children:[e.jsx(ne,{className:"w-5 h-5 rotate-180"}),e.jsx("span",{children:"退場"})]})]}),I.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"スマートロックを選択"}),e.jsx("select",{value:T?.id||"",onChange:s=>{const t=I.find(m=>m.id===s.target.value);A(t||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:I.map(s=>e.jsx("option",{value:s.id,children:s.lock_name},s.id))})]}),T?e.jsx("div",{className:"mt-6",children:e.jsx(Ae,{lockId:T.lock_id,parkName:a.name,purpose:k,onSuccess:le,onError:we})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(P,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"スマートロックが設定されていません"}),e.jsx(o,{onClick:()=>_("settings"),children:"スマートロックを設定する"})]})]}),e.jsx(h,{className:"p-6 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(P,{className:"w-6 h-6 text-blue-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"PINコードについて"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[e.jsx("p",{children:"• 利用者はPINコードを使用して入退場します"}),e.jsx("p",{children:"• PINコードは5分間有効で、利用者が支払い後に発行されます"}),e.jsx("p",{children:"• オーナーは決済不要でPINコードを発行できます"}),e.jsx("p",{children:"• 施設貸し切りの場合、利用者は友達にPINコードを共有できます"})]})]})]})})]}),g==="settings"&&e.jsxs("div",{className:"space-y-6",children:[B&&e.jsxs(h,{className:"p-6 bg-blue-50 border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-blue-900",children:"施設情報の編集"}),e.jsx("button",{onClick:()=>S(!1),className:"text-blue-600 hover:text-blue-800",children:e.jsx(de,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:re,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"変更不可項目"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"住所:"})," ",a.address]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"料金:"})," ¥",a.price,"/日（全国統一料金）"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大収容人数 *"}),e.jsx("input",{type:"number",min:"1",max:"100",value:r.max_capacity,onChange:s=>l(t=>({...t,max_capacity:parseInt(s.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"説明文"}),e.jsx("textarea",{value:r.description,onChange:s=>l(t=>({...t,description:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"施設の特徴や利用案内など"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"エリア設定"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:r.large_dog_area,onChange:s=>l(t=>({...t,large_dog_area:s.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"大型犬エリア"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:r.small_dog_area,onChange:s=>l(t=>({...t,small_dog_area:s.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"小型犬エリア"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"プライベートブース"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:r.private_booths,onChange:s=>l(t=>({...t,private_booths:s.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"プライベートブースあり"})]}),r.private_booths&&e.jsxs("div",{className:"ml-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"部屋数"}),e.jsx("input",{type:"number",min:"1",max:"10",value:r.private_booth_count,onChange:s=>l(t=>({...t,private_booth_count:parseInt(s.target.value)||0})),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"設備情報"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries({parking:"駐車場",shower:"シャワー設備",restroom:"トイレ",agility:"アジリティ設備",rest_area:"休憩スペース",water_station:"給水設備"}).map(([s,t])=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:r.facilities[s],onChange:m=>l(b=>({...b,facilities:{...b.facilities,[s]:m.target.checked}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:t})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"設備詳細説明"}),e.jsx("textarea",{value:r.facility_details,onChange:s=>l(t=>({...t,facility_details:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"設備の詳細説明や利用案内など"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(o,{type:"button",variant:"secondary",onClick:()=>S(!1),children:"キャンセル"}),e.jsx(o,{type:"submit",isLoading:ae,className:"bg-blue-600 hover:bg-blue-700",children:"更新"})]})]})]}),e.jsxs(h,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(pe,{className:"w-6 h-6 text-blue-600 mr-2"}),"施設設定"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"基本設定"}),e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"施設の基本情報や設備情報を編集できます。住所と料金は変更できません。"}),e.jsxs(o,{size:"sm",onClick:()=>S(!0),children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"基本情報を編集"]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-3",children:"料金設定"}),e.jsx("p",{className:"text-sm text-green-800 mb-3",children:"料金体系は全国統一です。変更はできません。"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• 通常利用: ¥800/日（固定）"}),e.jsx("li",{children:"• 施設貸し切り: ¥4,400/時間（固定）"}),e.jsx("li",{children:"• プライベートブース: サブスク使い放題・1日券でも利用可能（追加料金なし）"})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-3",children:"スマートロック設定"}),e.jsx("p",{className:"text-sm text-purple-800 mb-3",children:"スマートロックの設定を管理します。"}),e.jsxs(o,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"スマートロックを管理"]})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-orange-900 mb-3",children:"営業時間設定"}),e.jsx("p",{className:"text-sm text-orange-800 mb-3",children:"営業時間は24時間です。変更はできません。"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"font-medium",children:"24時間営業"})]})]})]})]}),e.jsxs(h,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(fe,{className:"w-6 h-6 text-blue-600 mr-2"}),"メンテナンス管理"]}),e.jsxs(o,{onClick:()=>D(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"メンテナンス予定を追加"]})]}),V&&e.jsxs(h,{className:"p-4 mb-6 bg-blue-50 border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"新しいメンテナンス予定"}),e.jsx("button",{onClick:()=>D(!1),className:"text-blue-600 hover:text-blue-800",children:e.jsx(de,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"メンテナンス内容 *"}),e.jsx("input",{type:"text",value:c.title,onChange:s=>y(t=>({...t,title:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例：設備点検・清掃作業",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"開始日時 * (日本時間)"}),e.jsx("input",{type:"datetime-local",value:c.start_date,onChange:s=>y(t=>({...t,start_date:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"日本時間で入力してください"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"終了日時 * (日本時間)"}),e.jsx("input",{type:"datetime-local",value:c.end_date,onChange:s=>y(t=>({...t,end_date:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"日本時間で入力してください"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"詳細説明"}),e.jsx("textarea",{value:c.description,onChange:s=>y(t=>({...t,description:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"メンテナンス内容の詳細説明（任意）"})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:c.is_emergency,onChange:s=>y(t=>({...t,is_emergency:s.target.checked})),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"緊急メンテナンス"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:c.notify_users,onChange:s=>y(t=>({...t,notify_users:s.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ユーザーに通知"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(o,{type:"button",variant:"secondary",onClick:()=>D(!1),children:"キャンセル"}),e.jsx(o,{type:"submit",isLoading:te,className:"bg-blue-600 hover:bg-blue-700",children:"作成"})]})]})]}),e.jsx("div",{className:"space-y-4",children:R.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(fe,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"メンテナンス予定がありません"}),e.jsx("p",{className:"text-sm",children:"施設のメンテナンス予定を追加してください"})]}):R.map(s=>{const t=C(s);return e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.title}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium text-white ${t.color}`,children:t.label}),s.is_emergency&&e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"緊急"})]}),s.description&&e.jsx("p",{className:"text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"開始:"})," ",xe(s.start_date)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"終了:"})," ",xe(s.end_date)]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:s.status==="scheduled"&&e.jsx(o,{size:"sm",variant:"secondary",onClick:()=>Y(s.id),className:"text-red-600 hover:text-red-800",children:e.jsx(de,{className:"w-4 h-4"})})})]})},s.id)})}),e.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(X,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"メンテナンス機能について"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• メンテナンス中は新規予約を受け付けません"}),e.jsx("li",{children:"• 既存の予約がある場合は事前に利用者に連絡してください"}),e.jsx("li",{children:"• 緊急メンテナンスの場合は即座に施設が利用停止になります"}),e.jsx("li",{children:"• ユーザー通知を有効にすると、利用者にメール通知が送信されます"})]})]})]})})]}),e.jsx(h,{className:"p-6 bg-gray-50",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ge,{className:"w-6 h-6 text-gray-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"運営サポート"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("p",{children:"• 設定に関するご質問は運営事務局までお問い合わせください"}),e.jsx("p",{children:"• QRコードシステムの設置・設定サポートを提供しています"}),e.jsx("p",{children:"• 運営開始後も継続的なサポートを行います"}),e.jsx("p",{children:"• 📧 サポート窓口: info@dogparkjp.com"})]})]})]})})]})]}):e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[e.jsx(X,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"ドッグランが見つかりません"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"指定されたドッグランが見つからないか、アクセス権限がありません。"}),e.jsx(L,{to:"/owner-dashboard",children:e.jsx(o,{children:"ダッシュボードに戻る"})})]})}export{Ge as ParkManagement};
