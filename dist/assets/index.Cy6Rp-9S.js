const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PWADebugPanel.CgSh-7LW.js","assets/ui-vendor.5lywbznV.js","assets/react-vendor.C7ykWfwV.js","assets/admin-pages.BuCPNRRu.js","assets/supabase-vendor.CX-WoPCS.js","assets/Home.DdaqYiTW.js","assets/logger.NUDfUq4J.js","assets/Login.B7dMvkHL.js","assets/park-pages.DqtvJl8J.js","assets/stripe-vendor.CcgPsVUa.js","assets/Register.BRQmJocB.js","assets/postalCodeLookup.BVBMVLy5.js","assets/UserDashboard.DljQkVMR.js","assets/DogCard.gg2WsFJU.js","assets/dogBreeds.6lxY8Uni.js","assets/vaccineUploadFixed.CDm7Ru0-.js","assets/DogManagement.zMnCdBxD.js","assets/DogRegistration.BbSTm7KG.js","assets/ProfileSettings.CT8683aX.js","assets/ParkRegistration.BQ9YxJm-.js","assets/ParkManagement.BYfGL3Eb.js","assets/shop-pages.BuunhuU_.js","assets/ProductDetail.DU7lVWsx.js","assets/OrderHistory.TL_wcxj3.js","assets/Community.Dx-mR3Kx.js","assets/News.1BzwAW3F.js","assets/NewsDetail.VrZ6k7Y_.js","assets/LikedDogs.DkyGLDP_.js","assets/AdminManagement.SGzNCfni.js","assets/AdminTasks.Dy8ZoBG7.js","assets/AdminUserManagement.C43fGhpt.js","assets/AdminReservationManagement.DKtulLQH.js","assets/AdminShopManagement.BKAftsLp.js","assets/csvExport.CWWwNDcn.js","assets/AdminSalesManagement.Cv6jeORg.js","assets/AdminRevenueReport.D5wLdlzw.js","assets/OwnerDashboard.Dt8M5G8n.js","assets/OwnerPaymentSystem.CBIE728o.js","assets/PaymentSetup.xj7_zrah.js","assets/PaymentMethodSettings.BLVrNd5s.js","assets/PaymentConfirmation.pT34CzvO.js","assets/Subscription.CePE-AzH.js","assets/TermsOfService.C7T3rgrT.js","assets/PrivacyPolicy.NzfKLPBB.js","assets/Contact.BWC67JdM.js","assets/BusinessInformation.DLfMKwrB.js","assets/DogInfo.C0z_LLIT.js","assets/DogInfoBreeds.C23DK8Is.js","assets/DogInfoVaccine.DZ7r-mfU.js","assets/DogInfoFoods.BmyUbCLI.js","assets/DogInfoSnack.DwnwaH9x.js","assets/DogInfoParasite.-Xd7lTG8.js","assets/DogInfoShow.IGxt0xXT.js","assets/DogProfile.BtCG2CBl.js","assets/DogParkHistory.Ccs5CzIf.js","assets/DogParkRules.BWunuVo-.js","assets/ParkRegistrationAgreement.CpmfM7sB.js","assets/ParkRegistrationSecondStage.DasY7GWg.js","assets/FacilityRegistration.y9bl5WxE.js","assets/NewParkDetail.BDAo2PEd.js","assets/BluePrint.ddSbAZg5.js","assets/AccessControl.B7EWuVwP.js","assets/TwoFactorSetup.Cl6f16jJ.js","assets/TwoFactorVerify.DBDP8KKr.js","assets/MagicLink.BDgvXadi.js","assets/AdminUserDetail.CDJJ44jU.js","assets/AdminNewsManagement.D3XcKdOx.js","assets/Deploy.ByLw84R_.js","assets/deploymentStatus.CgY5_N0o.js","assets/DeploymentHistory.B_hJFuy4.js","assets/PWASetupGuide.DZATBK6_.js","assets/PWAImplementationGuide.BvqQeRYo.js","assets/PWADocumentation.CUtLIoPk.js","assets/PWATestingSuite.C5uJYWm8.js","assets/PWALighthouseAudit.Df3-b2fz.js","assets/PWADeploymentGuide.DNhEsy-I.js"])))=>i.map(i=>d[i]);
var e,t,s=Object.defineProperty,r=(e,t,r)=>((e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);import{j as n,N as a,k as i,a0 as o,m as l,S as c,a$ as d,u as m,M as h,H as p,K as u,U as x,r as j,A as f,c as g,x as y,R as _,X as b,_ as w,y as v,C as E,a8 as N,ac as T}from"./ui-vendor.5lywbznV.js";import{e as A,f as P,r as k,R as L,u as O,L as D,b as I,h as R,i as S,N as C,B as z}from"./react-vendor.C7ykWfwV.js";import{_ as V}from"./supabase-vendor.CX-WoPCS.js";import{u as M,a as $,s as H,l as U,e as B,C as W,B as F,M as q,A as J}from"./admin-pages.BuCPNRRu.js";import{a as G}from"./park-pages.DqtvJl8J.js";import"./stripe-vendor.CcgPsVUa.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var K={},Y=A;K.createRoot=Y.createRoot,K.hydrateRoot=Y.hydrateRoot;var Q="undefined"!=typeof Element,X="function"==typeof Map,Z="function"==typeof Set,ee="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function te(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var s,r,n,a;if(Array.isArray(e)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(!te(e[r],t[r]))return!1;return!0}if(X&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!te(r.value[1],t.get(r.value[0])))return!1;return!0}if(Z&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(ee&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((s=e.length)!=t.length)return!1;for(r=s;0!==r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((s=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=s;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;if(Q&&e instanceof Element)return!1;for(r=s;0!==r--;)if(("_owner"!==n[r]&&"__v"!==n[r]&&"__o"!==n[r]||!e.$$typeof)&&!te(e[n[r]],t[n[r]]))return!1;return!0}return e!=e&&t!=t}const se=P(function(e,t){try{return te(e,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return!1;throw s}});const re=P(function(e,t,s,r,n,a,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,r,n,a,i,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}});const ne=P(function(e,t,s,r){var n=s?s.call(r,e,t):void 0;if(void 0!==n)return!!n;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!o(c))return!1;var d=e[c],m=t[c];if(!1===(n=s?s.call(r,d,m,c):void 0)||void 0===n&&d!==m)return!1}return!0});var ae=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(ae||{}),ie={rel:["amphtml","canonical","alternate"]},oe={type:["application/ld+json"]},le={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},ce=Object.values(ae),de={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},me=Object.entries(de).reduce((e,[t,s])=>(e[s]=t,e),{}),he="data-rh",pe="defaultTitle",ue="defer",xe="encodeSpecialCharacters",je="onChangeClientState",fe="titleTemplate",ge="prioritizeSeoTags",ye=(e,t)=>{for(let s=e.length-1;s>=0;s-=1){const r=e[s];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},_e=e=>{let t=ye(e,"title");const s=ye(e,fe);if(Array.isArray(t)&&(t=t.join("")),s&&t)return s.replace(/%s/g,()=>t);const r=ye(e,pe);return t||r||void 0},be=e=>ye(e,je)||(()=>{}),we=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),ve=(e,t)=>t.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((t,s)=>{if(!t.length){const r=Object.keys(s);for(let n=0;n<r.length;n+=1){const a=r[n].toLowerCase();if(-1!==e.indexOf(a)&&s[a])return t.concat(s)}}return t},[]),Ee=(e,t,s)=>{const r={};return s.filter(t=>!!Array.isArray(t[e])||(void 0!==t[e]&&(t[e],console&&console.warn),!1)).map(t=>t[e]).reverse().reduce((e,s)=>{const n={};s.filter(e=>{let s;const a=Object.keys(e);for(let r=0;r<a.length;r+=1){const n=a[r],i=n.toLowerCase();-1===t.indexOf(i)||"rel"===s&&"canonical"===e[s].toLowerCase()||"rel"===i&&"stylesheet"===e[i].toLowerCase()||(s=i),-1===t.indexOf(n)||"innerHTML"!==n&&"cssText"!==n&&"itemprop"!==n||(s=n)}if(!s||!e[s])return!1;const i=e[s].toLowerCase();return r[s]||(r[s]={}),n[s]||(n[s]={}),!r[s][i]&&(n[s][i]=!0,!0)}).reverse().forEach(t=>e.push(t));const a=Object.keys(n);for(let t=0;t<a.length;t+=1){const e=a[t],s={...r[e],...n[e]};r[e]=s}return e},[]).reverse()},Ne=(e,t)=>{if(Array.isArray(e)&&e.length)for(let s=0;s<e.length;s+=1){if(e[s][t])return!0}return!1},Te=e=>Array.isArray(e)?e.join(""):e,Ae=(e,t)=>Array.isArray(e)?e.reduce((e,s)=>(((e,t)=>{const s=Object.keys(e);for(let r=0;r<s.length;r+=1)if(t[s[r]]&&t[s[r]].includes(e[s[r]]))return!0;return!1})(s,t)?e.priority.push(s):e.default.push(s),e),{priority:[],default:[]}):{default:e,priority:[]},Pe=(e,t)=>({...e,[t]:void 0}),ke=["noscript","script","style"],Le=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Oe=e=>Object.keys(e).reduce((t,s)=>{const r=void 0!==e[s]?`${s}="${e[s]}"`:`${s}`;return t?`${t} ${r}`:r},""),De=(e,t={})=>Object.keys(e).reduce((t,s)=>(t[de[s]||s]=e[s],t),t),Ie=(e,t)=>t.map((t,s)=>{const r={key:s,[he]:!0};return Object.keys(t).forEach(e=>{const s=de[e]||e;if("innerHTML"===s||"cssText"===s){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[s]=t[e]}),L.createElement(e,r)}),Re=(e,t,s=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,s)=>{const r=De(s,{key:t,[he]:!0});return[L.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,s,r)=>{const n=Oe(s),a=Te(t);return n?`<${e} ${he}="true" ${n}>${Le(a,r)}</${e}>`:`<${e} ${he}="true">${Le(a,r)}</${e}>`})(e,t.title,t.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>De(t),toString:()=>Oe(t)};default:return{toComponent:()=>Ie(e,t),toString:()=>((e,t,s=!0)=>t.reduce((t,r)=>{const n=r,a=Object.keys(n).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const r=void 0===n[t]?t:`${t}="${Le(n[t],s)}"`;return e?`${e} ${r}`:r},""),i=n.innerHTML||n.cssText||"",o=-1===ke.indexOf(e);return`${t}<${e} ${he}="true" ${a}${o?"/>":`>${i}</${e}>`}`},""))(e,t,s)}}},Se=e=>{const{baseTag:t,bodyAttributes:s,encode:r=!0,htmlAttributes:n,noscriptTags:a,styleTags:i,title:o="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:m,scriptTags:h}=e,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:d,metaTags:m,scriptTags:h}=(({metaTags:e,linkTags:t,scriptTags:s,encode:r})=>{const n=Ae(e,le),a=Ae(t,ie),i=Ae(s,oe);return{priorityMethods:{toComponent:()=>[...Ie("meta",n.priority),...Ie("link",a.priority),...Ie("script",i.priority)],toString:()=>`${Re("meta",n.priority,r)} ${Re("link",a.priority,r)} ${Re("script",i.priority,r)}`},metaTags:n.default,linkTags:a.default,scriptTags:i.default}})(e)),{priority:p,base:Re("base",t,r),bodyAttributes:Re("bodyAttributes",s,r),htmlAttributes:Re("htmlAttributes",n,r),link:Re("link",d,r),meta:Re("meta",m,r),noscript:Re("noscript",a,r),script:Re("script",h,r),style:Re("style",i,r),title:Re("title",{title:o,titleAttributes:l},r)}},Ce=[],ze=!("undefined"==typeof window||!window.document||!window.document.createElement),Ve=class{constructor(e,t){r(this,"instances",[]),r(this,"canUseDOM",ze),r(this,"context"),r(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Ce:this.instances,add:e=>{(this.canUseDOM?Ce:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Ce:this.instances).indexOf(e);(this.canUseDOM?Ce:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Se({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Me=L.createContext({}),$e=(e=class extends k.Component{constructor(t){super(t),r(this,"helmetData"),this.helmetData=new Ve(this.props.context||{},e.canUseDOM)}render(){return L.createElement(Me.Provider,{value:this.helmetData.value},this.props.children)}},r(e,"canUseDOM",ze),e),He=(e,t)=>{const s=document.head||document.querySelector("head"),r=s.querySelectorAll(`${e}[${he}]`),n=[].slice.call(r),a=[];let i;return t&&t.length&&t.forEach(t=>{const s=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)s.innerHTML=t.innerHTML;else if("cssText"===e)s.styleSheet?s.styleSheet.cssText=t.cssText:s.appendChild(document.createTextNode(t.cssText));else{const r=e,n=void 0===t[r]?"":t[r];s.setAttribute(e,n)}s.setAttribute(he,"true"),n.some((e,t)=>(i=t,s.isEqualNode(e)))?n.splice(i,1):a.push(s)}),n.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),a.forEach(e=>s.appendChild(e)),{oldTags:n,newTags:a}},Ue=(e,t)=>{const s=document.getElementsByTagName(e)[0];if(!s)return;const r=s.getAttribute(he),n=r?r.split(","):[],a=[...n],i=Object.keys(t);for(const o of i){const e=t[o]||"";s.getAttribute(o)!==e&&s.setAttribute(o,e),-1===n.indexOf(o)&&n.push(o);const r=a.indexOf(o);-1!==r&&a.splice(r,1)}for(let o=a.length-1;o>=0;o-=1)s.removeAttribute(a[o]);n.length===a.length?s.removeAttribute(he):s.getAttribute(he)!==i.join(",")&&s.setAttribute(he,i.join(","))},Be=(e,t)=>{const{baseTag:s,bodyAttributes:r,htmlAttributes:n,linkTags:a,metaTags:i,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:m,titleAttributes:h}=e;Ue("body",r),Ue("html",n),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=Te(e)),Ue("title",t)})(m,h);const p={baseTag:He("base",s),linkTags:He("link",a),metaTags:He("meta",i),noscriptTags:He("noscript",o),scriptTags:He("script",c),styleTags:He("style",d)},u={},x={};Object.keys(p).forEach(e=>{const{newTags:t,oldTags:s}=p[e];t.length&&(u[e]=t),s.length&&(x[e]=p[e].oldTags)}),t&&t(),l(e,u,x)},We=null,Fe=e=>{We&&cancelAnimationFrame(We),e.defer?We=requestAnimationFrame(()=>{Be(e,()=>{We=null})}):(Be(e),We=null)},qe=class extends k.Component{constructor(){super(...arguments),r(this,"rendered",!1)}shouldComponentUpdate(e){return!ne(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let s=null;const r=(n=e.get().map(e=>{const t={...e.props};return delete t.context,t}),{baseTag:ve(["href"],n),bodyAttributes:we("bodyAttributes",n),defer:ye(n,ue),encode:ye(n,xe),htmlAttributes:we("htmlAttributes",n),linkTags:Ee("link",["rel","href"],n),metaTags:Ee("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Ee("noscript",["innerHTML"],n),onChangeClientState:be(n),scriptTags:Ee("script",["src","innerHTML"],n),styleTags:Ee("style",["cssText"],n),title:_e(n),titleAttributes:we("titleAttributes",n),prioritizeSeoTags:Ne(n,ge)});var n;$e.canUseDOM?Fe(r):Se&&(s=Se(r)),t(s)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Je=(t=class extends k.Component{shouldComponentUpdate(e){return!se(Pe(this.props,"helmetData"),Pe(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,s,r){return{...t,[e.type]:[...t[e.type]||[],{...s,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,s,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...s}};case"body":return{...t,bodyAttributes:{...s}};case"html":return{...t,htmlAttributes:{...s}};default:return{...t,[e.type]:{...s}}}}mapArrayTypeChildrenToProps(e,t){let s={...t};return Object.keys(e).forEach(t=>{s={...s,[t]:e[t]}}),s}warnOnInvalidChildren(e,t){return re(ce.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${ce.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),re(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let s={};return L.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:r,...n}=e.props,a=Object.keys(n).reduce((e,t)=>(e[me[t]||t]=n[t],e),{});let{type:i}=e;switch("symbol"==typeof i?i=i.toString():this.warnOnInvalidChildren(e,r),i){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":s=this.flattenArrayTypeChildren(e,s,a,r);break;default:t=this.mapObjectTypeChildren(e,t,a,r)}}),this.mapArrayTypeChildrenToProps(s,t)}render(){const{children:e,...t}=this.props;let s={...t},{helmetData:r}=t;if(e&&(s=this.mapChildrenToProps(e,s)),r&&!(r instanceof Ve)){r=new Ve(r.context,!0),delete s.helmetData}return r?L.createElement(qe,{...s,context:r.value}):L.createElement(Me.Consumer,null,e=>L.createElement(qe,{...s,context:e}))}},r(t,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),t);const Ge=k.lazy(()=>V(()=>import("./PWADebugPanel.CgSh-7LW.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),Ke=k.memo(function(){const{user:e,logout:t,isAdmin:s}=M(),r=O(),[m,h]=k.useState(""),[p,u]=k.useState(0),[x,j]=k.useState(0),{isActive:f}=G(),[g,y]=k.useState(!1),[_,b]=k.useState(!1),[w,v]=k.useState(!1),E=k.useCallback(()=>{const e=document.getElementById("pwa-install-button");e&&e.click()},[]);k.useEffect(()=>{b(window.matchMedia("(display-mode: standalone)").matches);const e=()=>{y(!0)},t=()=>{y(!1),b(!0)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",t),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",t)}},[]);const N=k.useCallback(async()=>{var t,s,r;if(e)try{const n=await $(()=>H.from("profiles").select("name").eq("id",e.id).maybeSingle());if(n.error&&"PGRST116"!==n.error.code&&U("error","Error fetching profile",{error:n.error,userId:e.id}),null==(t=n.data)?void 0:t.name)h(n.data.name);else{const t=(null==(s=e.user_metadata)?void 0:s.name)||(null==(r=e.email)?void 0:r.split("@")[0]);t&&h(t)}}catch(n){U("error","Exception in fetchUserName",{error:n,userId:e.id})}},[e]),T=k.useCallback(async()=>{if(e)try{const t=await $(()=>H.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("read",!1));u(t.data||0)}catch(t){U("error","Error fetching notifications",{error:t,userId:e.id})}},[e]),A=k.useCallback(async()=>{if(e)try{const t=await $(()=>H.from("cart_items").select("*",{count:"exact",head:!0}).eq("user_id",e.id));j(t.data||0)}catch(t){U("error","Error fetching cart items",{error:t,userId:e.id})}},[e]);k.useEffect(()=>{e?(N(),T(),A()):(h(""),u(0),j(0))},[e,s,N,T,A]);return n.jsxs(n.Fragment,{children:[n.jsx("nav",{className:"bg-white shadow-lg sticky top-0 z-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsxs(D,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity cursor-pointer group","aria-label":"ドッグパークJP ホーム",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-green-400 rounded-full flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:n.jsx(a,{className:"h-7 w-7 text-white","aria-hidden":"true"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-400 rounded-full opacity-80",children:n.jsx(a,{className:"h-2 w-2 text-white","aria-hidden":"true"})})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"text-xl font-bold text-gray-800 leading-tight",children:["ドッグパーク",n.jsx("span",{className:"text-blue-600",children:"JP"})]}),n.jsx("span",{className:"text-xs text-gray-500 leading-none",children:"愛犬との素敵な時間を"})]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:e?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-gray-700 hidden md:inline-block",children:["こんにちは、",m||"ユーザー","さん",f&&n.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[n.jsx("path",{d:"m3 11 18-5v12L3 14v-3z"}),n.jsx("path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6"})]}),"サブスク会員"]})]}),n.jsx(D,{to:"/dashboard",className:"text-gray-600 hover:text-blue-600 transition-colors hidden md:inline-block",children:"マイページ"}),n.jsx(D,{to:"/parks",className:"text-gray-600 hover:text-blue-600 transition-colors hidden md:inline-block",children:"ドッグラン一覧"}),n.jsx(D,{to:"/shop",className:"text-gray-600 hover:text-green-600 transition-colors hidden md:inline-block",children:"ペットショップ"}),n.jsxs(D,{to:"/community",className:"relative text-gray-600 hover:text-blue-600 transition-colors","aria-label":"通知 "+(p>0?`${p}件の未読通知があります`:""),children:[n.jsx(i,{className:"h-5 w-5","aria-hidden":"true"}),p>0&&n.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center","aria-hidden":"true",children:p>9?"9+":p})]}),n.jsxs(D,{to:"/cart",className:"relative text-gray-600 hover:text-green-600 transition-colors","aria-label":"カート "+(x>0?`${x}点の商品があります`:""),children:[n.jsx(o,{className:"h-5 w-5","aria-hidden":"true"}),x>0&&n.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center","aria-hidden":"true",children:x>9?"9+":x})]}),g&&!_&&n.jsxs("button",{onClick:E,className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 transition-colors bg-blue-50 hover:bg-blue-100 px-2 py-1 rounded-md","aria-label":"アプリをインストール",children:[n.jsx(l,{className:"h-4 w-4","aria-hidden":"true"}),n.jsx("span",{className:"hidden lg:inline text-sm",children:"アプリ化"})]}),_&&n.jsxs("div",{className:"flex items-center space-x-1 text-green-600 bg-green-50 px-2 py-1 rounded-md",children:[n.jsx(l,{className:"h-4 w-4","aria-hidden":"true"}),n.jsx("span",{className:"hidden lg:inline text-sm",children:"PWA"})]}),!1,s&&n.jsxs(D,{to:"/admin",className:"flex items-center space-x-1 text-red-600 hover:text-red-700 transition-colors","aria-label":"管理者ページ",children:[n.jsx(c,{className:"h-4 w-4","aria-hidden":"true"}),n.jsx("span",{className:"hidden md:inline",children:"管理者"})]}),n.jsxs("button",{onClick:()=>{(async()=>{try{await t(),r("/")}catch(e){U("error","ログアウトエラー",{error:e})}})()},className:"flex items-center space-x-1 text-gray-600 hover:text-red-600 transition-colors","aria-label":"ログアウト",children:[n.jsx(d,{className:"h-4 w-4","aria-hidden":"true"}),n.jsx("span",{className:"hidden md:inline",children:"ログアウト"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(D,{to:"/login",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"ログイン"}),n.jsx(D,{to:"/register",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"新規登録"})]})})]})})}),n.jsx(k.Suspense,{fallback:n.jsx("div",{children:"Loading debug panel..."}),children:n.jsx(Ge,{isOpen:w,onClose:()=>v(!1)})})]})});function Ye(){const e=(new Date).getFullYear();return n.jsx("footer",{className:"bg-white text-gray-700 py-12 border-t border-gray-200",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"col-span-1 md:col-span-1",children:[n.jsxs(D,{to:"/",className:"flex items-center space-x-2 mb-4",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-green-400 rounded-full flex items-center justify-center",children:n.jsx(a,{className:"h-6 w-6 text-white"})}),n.jsx("span",{className:"text-xl font-bold",children:"ドッグパークJP"})]}),n.jsx("p",{className:"text-gray-400 mb-4",children:"愛犬とのお散歩をもっと楽しく。全国のドッグランを簡単に検索・予約できるサービスです。"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:n.jsx("svg",{className:"w-6 h-6 text-gray-400 hover:text-white transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),n.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:n.jsx("svg",{className:"w-6 h-6 text-gray-400 hover:text-white transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})}),n.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:n.jsx("svg",{className:"w-6 h-6 text-gray-400 hover:text-white transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"クイックリンク"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(D,{to:"/",className:"text-gray-400 hover:text-white transition-colors",children:"ホーム"})}),n.jsx("li",{children:n.jsx(D,{to:"/parks",className:"text-gray-400 hover:text-white transition-colors",children:"ドッグラン一覧"})}),n.jsx("li",{children:n.jsx(D,{to:"/parks/rules",className:"text-gray-400 hover:text-white transition-colors",children:"利用ルール"})}),n.jsx("li",{children:n.jsx(D,{to:"/shop",className:"text-gray-400 hover:text-white transition-colors",children:"ペットショップ"})}),n.jsx("li",{children:n.jsx(D,{to:"/subscription",className:"text-gray-400 hover:text-white transition-colors",children:"サブスクリプション"})}),n.jsx("li",{children:n.jsx(D,{to:"/news",className:"text-gray-400 hover:text-white transition-colors",children:"新着情報"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ご利用者様向け"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(D,{to:"/register",className:"text-gray-400 hover:text-white transition-colors",children:"新規登録"})}),n.jsx("li",{children:n.jsx(D,{to:"/login",className:"text-gray-400 hover:text-white transition-colors",children:"ログイン"})}),n.jsx("li",{children:n.jsx(D,{to:"/register-dog",className:"text-gray-400 hover:text-white transition-colors",children:"ワンちゃん登録"})}),n.jsx("li",{children:n.jsx(D,{to:"/access-control",className:"text-gray-400 hover:text-white transition-colors",children:"入場管理"})}),n.jsx("li",{children:n.jsx(D,{to:"/community",className:"text-gray-400 hover:text-white transition-colors",children:"コミュニティ"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"お問い合わせ"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(m,{className:"w-5 h-5 text-gray-400 mr-2 mt-0.5"}),n.jsx("span",{className:"text-gray-400",children:"info@dogparkjp.com"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(h,{className:"w-5 h-5 text-gray-400 mr-2 mt-0.5"}),n.jsxs("span",{className:"text-gray-400",children:["〒861-0563",n.jsx("br",{}),"熊本県山鹿市鹿央町千田１７１８－１３",n.jsx("br",{}),"株式会社ＣＡＰＡＳ"]})]})]})]})]}),n.jsx("hr",{className:"border-gray-700 my-8"}),n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[n.jsxs("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:["© ",e," ドッグパークJP. All rights reserved."]}),n.jsxs("div",{className:"flex space-x-6",children:[n.jsx(D,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"プライバシーポリシー"}),n.jsx(D,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"利用規約"}),n.jsx(D,{to:"/business-information",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"特定商取引法に基づく表記"}),n.jsx(D,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"お問い合わせ"})]})]})]})})}function Qe(){const e=I(),[t,s]=k.useState("/");k.useEffect(()=>{const t=e.pathname.split("/")[1];s(t?`/${t}`:"/")},[e]);const r=[{path:"/",label:"ホーム",icon:p},{path:"/parks",label:"ドッグラン",icon:h},{path:"/access-control",label:"入退場",icon:u},{path:"/community",label:"コミュニティ",icon:x},{path:"/dashboard",label:"マイページ",icon:j}];return n.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden",children:[n.jsx("div",{className:"flex justify-around items-center h-16",children:r.map(e=>{const s=e.icon,r="/"===(a=e.path)?"/"===t:t.startsWith(a);var a;return n.jsxs(D,{to:e.path,className:"flex flex-col items-center justify-center w-full h-full "+(r?"text-blue-600":"text-gray-500"),children:[n.jsx(s,{className:"w-6 h-6 "+(r?"text-blue-600":"text-gray-500")}),n.jsx("span",{className:"text-xs mt-1",children:e.label})]},e.path)})}),n.jsx("div",{className:"h-safe-bottom bg-white"})]})}function Xe({title:e="ドッグパークJP",description:t="愛犬とのお散歩をもっと楽しく。全国のドッグランを簡単に検索・予約できるサービスです。",canonicalUrl:s,ogType:r="website",ogImage:a="https://dogparkjp.com/og-image.jpg"}){const i="ドッグパークJP"===e?e:`${e} | ドッグパークJP`;return n.jsxs(Je,{children:[n.jsx("title",{children:i}),n.jsx("meta",{name:"description",content:t}),s&&n.jsx("link",{rel:"canonical",href:s}),n.jsx("meta",{property:"og:type",content:r}),n.jsx("meta",{property:"og:title",content:i}),n.jsx("meta",{property:"og:description",content:t}),n.jsx("meta",{property:"og:image",content:a}),s&&n.jsx("meta",{property:"og:url",content:s}),n.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),n.jsx("meta",{name:"twitter:title",content:i}),n.jsx("meta",{name:"twitter:description",content:t}),n.jsx("meta",{name:"twitter:image",content:a}),n.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),n.jsx("meta",{httpEquiv:"Content-Language",content:"ja"}),n.jsx("meta",{name:"theme-color",content:"#3B82F6"})]})}const Ze=()=>{const{maintenanceInfo:e,refreshMaintenanceStatus:t}=B(),s=e=>e?new Date(e).toLocaleString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):null;return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs(W,{className:"max-w-md w-full p-8 text-center",children:[n.jsx("div",{className:"flex justify-center mb-6",children:(null==e?void 0:e.is_emergency)?n.jsx(f,{className:"w-16 h-16 text-red-500"}):n.jsx(g,{className:"w-16 h-16 text-blue-500"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:(null==e?void 0:e.title)||"システムメンテナンス"}),n.jsx("p",{className:"text-gray-600 mb-6",children:(null==e?void 0:e.message)||"より良いサービス提供のため、システムメンテナンスを実施しています。ご不便をおかけして申し訳ございません。"}),(null==e?void 0:e.start_time)&&n.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 mb-2",children:[n.jsx(y,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["開始: ",s(e.start_time)]})]}),(null==e?void 0:e.end_time)&&n.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500 mb-6",children:[n.jsx(y,{className:"w-4 h-4 mr-2"}),n.jsxs("span",{children:["終了予定: ",s(e.end_time)]})]}),n.jsxs(F,{onClick:()=>{t()},className:"w-full flex items-center justify-center",variant:"secondary",children:[n.jsx(_,{className:"w-4 h-4 mr-2"}),"状態を更新"]}),n.jsx("div",{className:"mt-6 text-xs text-gray-400",children:n.jsx("p",{children:"メンテナンス完了後、このページは自動的に更新されます。"})})]})})},et=({children:e})=>{const t=I(),{isMaintenanceActive:s,loading:r,isIPWhitelisted:a,clientIP:i}=B(),{isAdmin:o,user:l}=M();if(k.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),r)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});return(()=>{if(!s)return!1;return!(o||"capasjapan@gmail.com"===(null==l?void 0:l.email))&&!a})()?n.jsx(Ze,{}):n.jsx($e,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[n.jsx(Xe,{}),n.jsx(Ke,{}),n.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:e}),n.jsx(Ye,{}),n.jsx(Qe,{})]})})};const tt=new class{constructor(){r(this,"notifications",[]),r(this,"listeners",new Set),r(this,"idCounter",0)}show(e){const t="notification-"+ ++this.idCounter,s={id:t,options:{type:"info",duration:4e3,position:"top-right",closable:!0,...e},createdAt:new Date};return this.notifications.push(s),this.notifyListeners(),s.options.duration&&s.options.duration>0&&setTimeout(()=>{this.remove(t)},s.options.duration),t}success(e,t){return this.show({message:e,type:"success",...t})}error(e,t){return this.show({message:e,type:"error",duration:6e3,...t})}warning(e,t){return this.show({message:e,type:"warning",duration:5e3,...t})}info(e,t){return this.show({message:e,type:"info",...t})}remove(e){this.notifications=this.notifications.filter(t=>t.id!==e),this.notifyListeners()}clear(){this.notifications=[],this.notifyListeners()}getNotifications(){return[...this.notifications]}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}notifyListeners(){this.listeners.forEach(e=>{e([...this.notifications])})}},st={success:(e,t)=>tt.success(e,t),error:(e,t)=>tt.error(e,t),warning:(e,t)=>tt.warning(e,t),info:(e,t)=>tt.info(e,t),show:e=>tt.show(e)},rt=({notification:e,onClose:t})=>{const{options:s}=e,[r,a]=k.useState(!1),[i,o]=k.useState(!1);k.useEffect(()=>{setTimeout(()=>a(!0),10)},[]);return n.jsx("div",{className:`\n        fixed z-50 max-w-sm w-full transition-all duration-300 ease-in-out\n        ${(()=>{switch(s.position){case"top-left":return"top-4 left-4";case"top-center":return"top-4 left-1/2 transform -translate-x-1/2";case"bottom-right":return"bottom-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-center":return"bottom-4 left-1/2 transform -translate-x-1/2";default:return"top-4 right-4"}})()}\n        ${r&&!i?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}\n        ${i?"scale-95":"scale-100"}\n      `,children:n.jsx("div",{className:`\n        p-4 rounded-lg border shadow-lg backdrop-blur-sm\n        ${(()=>{switch(s.type){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}})()}\n      `,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[(()=>{switch(s.type){case"success":return n.jsx(E,{className:"w-5 h-5 text-green-500"});case"error":return n.jsx(v,{className:"w-5 h-5 text-red-500"});case"warning":return n.jsx(f,{className:"w-5 h-5 text-yellow-500"});default:return n.jsx(w,{className:"w-5 h-5 text-blue-500"})}})(),n.jsxs("div",{className:"flex-1 min-w-0",children:[s.title&&n.jsx("p",{className:"text-sm font-semibold mb-1",children:s.title}),n.jsx("p",{className:"text-sm leading-relaxed",children:s.message}),s.action&&n.jsx("button",{onClick:s.action.onClick,className:"mt-2 text-sm font-medium underline hover:no-underline focus:outline-none",children:s.action.label})]}),s.closable&&n.jsx("button",{onClick:()=>{o(!0),setTimeout(()=>{t(e.id)},300)},className:"flex-shrink-0 p-1 rounded-full hover:bg-black/10 focus:outline-none focus:ring-2 focus:ring-black/20 transition-colors",children:n.jsx(b,{className:"w-4 h-4"})})]})})})},nt=()=>{const[e,t]=k.useState([]);k.useEffect(()=>tt.subscribe(t),[]);const s=e=>{tt.remove(e)};return n.jsx("div",{className:"pointer-events-none",children:e.map(e=>n.jsx(rt,{notification:e,onClose:s},e.id))})},at=()=>{const[e,t]=k.useState({isInstalled:!1,isOnline:navigator.onLine,hasUpdate:!1,canInstall:!1,canNotify:!1}),[s,r]=k.useState(!1),[a,o]=k.useState(!1),[c,d]=k.useState(null),[m,h]=k.useState(null);k.useEffect(()=>(p(),u(),y(),()=>{x()}),[]);const p=()=>{t(e=>({...e,isInstalled:window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone,isOnline:navigator.onLine,canNotify:"Notification"in window}))},u=()=>{window.addEventListener("online",j),window.addEventListener("offline",j),window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",g)},x=()=>{window.removeEventListener("online",j),window.removeEventListener("offline",j),window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",g)},j=()=>{t(e=>({...e,isOnline:navigator.onLine}))},f=e=>{e.preventDefault(),d(e),t(e=>({...e,canInstall:!0})),r(!0)},g=()=>{t(e=>({...e,isInstalled:!0,canInstall:!1})),r(!1),d(null)},y=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.ready;e.addEventListener("updatefound",()=>{const s=e.installing;s&&s.addEventListener("statechange",()=>{"installed"===s.state&&navigator.serviceWorker.controller&&(t(e=>({...e,hasUpdate:!0})),h(e),o(!0))})}),setInterval(()=>{e.update()},6e4)}catch(e){}},w=()=>{r(!1),t(e=>({...e,canInstall:!1}))},v=()=>{o(!1),t(e=>({...e,hasUpdate:!1}))};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.isInstalled&&n.jsxs(N.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center space-x-2 px-3 py-2 bg-blue-500 text-white rounded-full shadow-lg",children:[n.jsx(T,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"PWAインストール済み"})]})}),s&&n.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs(N.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"アプリをインストール"}),n.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:n.jsx(b,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"ドッグパークJPをホーム画面に追加して、 ネイティブアプリのように利用しませんか？"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(E,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{children:"高速な起動"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(E,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{children:"オフライン機能"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(E,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{children:"プッシュ通知"})]})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:async()=>{if(c)try{await c.prompt();const{outcome:e}=await c.userChoice;d(null),r(!1),t(e=>({...e,canInstall:!1}))}catch(e){}},className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center space-x-2",children:[n.jsx(l,{className:"w-4 h-4"}),n.jsx("span",{children:"インストール"})]}),n.jsx("button",{onClick:w,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"後で"})]})]})}),a&&n.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs(N.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"新しいバージョンが利用可能"}),n.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600",children:n.jsx(b,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"mb-6",children:n.jsx("p",{className:"text-gray-600",children:"ドッグパークJPの新しいバージョンが利用可能です。 更新しますか？"})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:async()=>{if(m)try{m.waiting&&m.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()}catch(e){}},className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center space-x-2",children:[n.jsx(_,{className:"w-4 h-4"}),n.jsx("span",{children:"今すぐ更新"})]}),n.jsx("button",{onClick:v,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"後で"})]})]})}),!e.canNotify&&e.isInstalled&&n.jsx(N.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"fixed bottom-20 left-4 right-4 bg-white rounded-lg shadow-lg border border-gray-200 p-4 z-40",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(i,{className:"w-5 h-5 text-blue-500 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"通知を許可しますか？"}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"重要な情報をお知らせできます"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:async()=>{if(!("Notification"in window))return void alert("このブラウザは通知をサポートしていません");"granted"===await Notification.requestPermission()&&(t(e=>({...e,canNotify:!0})),new Notification("ドッグパークJP",{body:"通知が有効になりました！",icon:"/icons/icon-192x192.png",badge:"/icons/icon-192x192.png"}))},className:"text-xs bg-blue-500 text-white px-3 py-1 rounded-md hover:bg-blue-600 transition-colors",children:"許可"}),n.jsx("button",{onClick:()=>t(e=>({...e,canNotify:!0})),className:"text-xs text-gray-600 hover:text-gray-800 transition-colors",children:"後で"})]})]})})]})},it=k.lazy(()=>V(()=>import("./Home.DdaqYiTW.js"),__vite__mapDeps([5,1,2,3,4,6]),import.meta.url).then(e=>({default:e.Home}))),ot=k.lazy(()=>V(()=>import("./Login.B7dMvkHL.js"),__vite__mapDeps([7,1,2,3,4,6,8,9]),import.meta.url).then(e=>({default:e.Login}))),lt=k.lazy(()=>V(()=>import("./Register.BRQmJocB.js"),__vite__mapDeps([10,1,2,3,4,11,8,9]),import.meta.url).then(e=>({default:e.Register}))),ct=k.lazy(()=>V(()=>import("./UserDashboard.DljQkVMR.js"),__vite__mapDeps([12,1,2,3,4,13,14,8,9,15]),import.meta.url).then(e=>({default:e.UserDashboard}))),dt=k.lazy(()=>V(()=>import("./DogManagement.zMnCdBxD.js"),__vite__mapDeps([16,4,2,1,3,13,14,8,9]),import.meta.url).then(e=>({default:e.DogManagement}))),mt=k.lazy(()=>V(()=>import("./DogRegistration.BbSTm7KG.js"),__vite__mapDeps([17,1,2,3,4,14,15,6,8,9]),import.meta.url).then(e=>({default:e.DogRegistration}))),ht=k.lazy(()=>V(()=>import("./ProfileSettings.CT8683aX.js"),__vite__mapDeps([18,1,2,3,4,11]),import.meta.url).then(e=>({default:e.ProfileSettings}))),pt=k.lazy(()=>V(()=>import("./park-pages.DqtvJl8J.js").then(e=>e.D),__vite__mapDeps([8,1,2,3,4,9]),import.meta.url).then(e=>({default:e.DogParkList}))),ut=k.lazy(()=>V(()=>import("./park-pages.DqtvJl8J.js").then(e=>e.b),__vite__mapDeps([8,1,2,3,4,9]),import.meta.url).then(e=>({default:e.DogParkDetail}))),xt=k.lazy(()=>V(()=>import("./park-pages.DqtvJl8J.js").then(e=>e.P),__vite__mapDeps([8,1,2,3,4,9]),import.meta.url).then(e=>({default:e.ParkReservation}))),jt=k.lazy(()=>V(()=>import("./ParkRegistration.BQ9YxJm-.js"),__vite__mapDeps([19,1,2,3,4]),import.meta.url).then(e=>({default:e.ParkRegistration}))),ft=k.lazy(()=>V(()=>import("./ParkManagement.BYfGL3Eb.js"),__vite__mapDeps([20,1,2,3,4,8,9]),import.meta.url).then(e=>({default:e.ParkManagement}))),gt=k.lazy(()=>V(()=>import("./shop-pages.BuunhuU_.js").then(e=>e.P),__vite__mapDeps([21,1,2,3,4,8,9]),import.meta.url).then(e=>({default:e.PetShop}))),yt=k.lazy(()=>V(()=>import("./ProductDetail.DU7lVWsx.js"),__vite__mapDeps([22,1,2,3,4,8,9,6]),import.meta.url).then(e=>({default:e.ProductDetail}))),_t=k.lazy(()=>V(()=>import("./shop-pages.BuunhuU_.js").then(e=>e.C),__vite__mapDeps([21,1,2,3,4,8,9]),import.meta.url).then(e=>({default:e.Cart}))),bt=k.lazy(()=>V(()=>import("./shop-pages.BuunhuU_.js").then(e=>e.a),__vite__mapDeps([21,1,2,3,4,8,9]),import.meta.url).then(e=>({default:e.Checkout}))),wt=k.lazy(()=>V(()=>import("./OrderHistory.TL_wcxj3.js"),__vite__mapDeps([23,1,2,3,4]),import.meta.url).then(e=>({default:e.OrderHistory}))),vt=k.lazy(()=>V(()=>import("./Community.Dx-mR3Kx.js"),__vite__mapDeps([24,1,2,3,4]),import.meta.url).then(e=>({default:e.Community}))),Et=k.lazy(()=>V(()=>import("./News.1BzwAW3F.js"),__vite__mapDeps([25,1,2,3,4]),import.meta.url).then(e=>({default:e.News}))),Nt=k.lazy(()=>V(()=>import("./NewsDetail.VrZ6k7Y_.js"),__vite__mapDeps([26,1,2,3,4]),import.meta.url).then(e=>({default:e.NewsDetail}))),Tt=k.lazy(()=>V(()=>import("./LikedDogs.DkyGLDP_.js"),__vite__mapDeps([27,1,2,3,4,8,9]),import.meta.url).then(e=>({default:e.LikedDogs}))),At=k.lazy(()=>V(()=>import("./admin-pages.BuCPNRRu.js").then(e=>e.f),__vite__mapDeps([3,1,2,4]),import.meta.url).then(e=>({default:e.AdminDashboard}))),Pt=k.lazy(()=>V(()=>import("./AdminManagement.SGzNCfni.js"),__vite__mapDeps([28,1,2,3,4]),import.meta.url).then(e=>({default:e.AdminManagement}))),kt=k.lazy(()=>V(()=>import("./AdminTasks.Dy8ZoBG7.js"),__vite__mapDeps([29,1,2,3,4]),import.meta.url).then(e=>({default:e.AdminTasks}))),Lt=k.lazy(()=>V(()=>import("./AdminUserManagement.C43fGhpt.js"),__vite__mapDeps([30,1,2,3,4]),import.meta.url).then(e=>({default:e.AdminUserManagement}))),Ot=k.lazy(()=>V(()=>import("./admin-pages.BuCPNRRu.js").then(e=>e.i),__vite__mapDeps([3,1,2,4]),import.meta.url).then(e=>({default:e.AdminParkManagement}))),Dt=k.lazy(()=>V(()=>import("./AdminReservationManagement.DKtulLQH.js"),__vite__mapDeps([31,1,2,3,4]),import.meta.url).then(e=>({default:e.AdminReservationManagement}))),It=k.lazy(()=>V(()=>import("./AdminShopManagement.BKAftsLp.js"),__vite__mapDeps([32,1,2,3,4,33]),import.meta.url).then(e=>({default:e.AdminShopManagement}))),Rt=k.lazy(()=>V(()=>import("./AdminSalesManagement.Cv6jeORg.js"),__vite__mapDeps([34,1,2,3,4]),import.meta.url).then(e=>({default:e.AdminSalesManagement}))),St=k.lazy(()=>V(()=>import("./admin-pages.BuCPNRRu.js").then(e=>e.j),__vite__mapDeps([3,1,2,4]),import.meta.url)),Ct=k.lazy(()=>V(()=>import("./admin-pages.BuCPNRRu.js").then(e=>e.k),__vite__mapDeps([3,1,2,4]),import.meta.url)),zt=k.lazy(()=>V(()=>import("./AdminRevenueReport.D5wLdlzw.js"),__vite__mapDeps([35,1,2,3,4,33]),import.meta.url).then(e=>({default:e.AdminRevenueReport}))),Vt=k.lazy(()=>V(()=>import("./OwnerDashboard.Dt8M5G8n.js"),__vite__mapDeps([36,1,2,3,4]),import.meta.url).then(e=>({default:e.OwnerDashboard}))),Mt=k.lazy(()=>V(()=>import("./OwnerPaymentSystem.CBIE728o.js"),__vite__mapDeps([37,1,2,3,4]),import.meta.url).then(e=>({default:e.OwnerPaymentSystem}))),$t=k.lazy(()=>V(()=>import("./PaymentSetup.xj7_zrah.js"),__vite__mapDeps([38,1,2,3,4]),import.meta.url).then(e=>({default:e.PaymentSetup}))),Ht=k.lazy(()=>V(()=>import("./PaymentMethodSettings.BLVrNd5s.js"),__vite__mapDeps([39,1,2,3,4]),import.meta.url).then(e=>({default:e.PaymentMethodSettings}))),Ut=k.lazy(()=>V(()=>import("./PaymentConfirmation.pT34CzvO.js"),__vite__mapDeps([40,1,2,3,4]),import.meta.url).then(e=>({default:e.PaymentConfirmation}))),Bt=k.lazy(()=>V(()=>import("./Subscription.CePE-AzH.js"),__vite__mapDeps([41,1,2,3,4,8,9,6]),import.meta.url).then(e=>({default:e.Subscription}))),Wt=k.lazy(()=>V(()=>import("./TermsOfService.C7T3rgrT.js"),__vite__mapDeps([42,1,2,3,4]),import.meta.url).then(e=>({default:e.TermsOfService}))),Ft=k.lazy(()=>V(()=>import("./PrivacyPolicy.NzfKLPBB.js"),__vite__mapDeps([43,1,2,3,4]),import.meta.url).then(e=>({default:e.PrivacyPolicy}))),qt=k.lazy(()=>V(()=>import("./Contact.BWC67JdM.js"),__vite__mapDeps([44,1,2,3,4]),import.meta.url).then(e=>({default:e.Contact}))),Jt=k.lazy(()=>V(()=>import("./BusinessInformation.DLfMKwrB.js"),__vite__mapDeps([45,1,2,3,4]),import.meta.url).then(e=>({default:e.BusinessInformation}))),Gt=k.lazy(()=>V(()=>import("./DogInfo.C0z_LLIT.js"),__vite__mapDeps([46,1,2]),import.meta.url)),Kt=k.lazy(()=>V(()=>import("./DogInfoBreeds.C23DK8Is.js"),__vite__mapDeps([47,1,2]),import.meta.url)),Yt=k.lazy(()=>V(()=>import("./DogInfoVaccine.DZ7r-mfU.js"),__vite__mapDeps([48,1,2]),import.meta.url)),Qt=k.lazy(()=>V(()=>import("./DogInfoFoods.BmyUbCLI.js"),__vite__mapDeps([49,1,2]),import.meta.url)),Xt=k.lazy(()=>V(()=>import("./DogInfoSnack.DwnwaH9x.js"),__vite__mapDeps([50,1,2]),import.meta.url)),Zt=k.lazy(()=>V(()=>import("./DogInfoParasite.-Xd7lTG8.js"),__vite__mapDeps([51,1,2]),import.meta.url)),es=k.lazy(()=>V(()=>import("./DogInfoShow.IGxt0xXT.js"),__vite__mapDeps([52,1,2]),import.meta.url)),ts=k.lazy(()=>V(()=>import("./DogProfile.BtCG2CBl.js"),__vite__mapDeps([53,1,2,3,4]),import.meta.url).then(e=>({default:e.DogProfile}))),ss=k.lazy(()=>V(()=>import("./DogParkHistory.Ccs5CzIf.js"),__vite__mapDeps([54,1,2,3,4]),import.meta.url).then(e=>({default:e.DogParkHistory}))),rs=k.lazy(()=>V(()=>import("./DogParkRules.BWunuVo-.js"),__vite__mapDeps([55,1,2,3,4]),import.meta.url).then(e=>({default:e.DogParkRules}))),ns=k.lazy(()=>V(()=>import("./ParkRegistrationAgreement.CpmfM7sB.js"),__vite__mapDeps([56,1,2,3,4]),import.meta.url).then(e=>({default:e.ParkRegistrationAgreement}))),as=k.lazy(()=>V(()=>import("./ParkRegistrationSecondStage.DasY7GWg.js"),__vite__mapDeps([57,1,2,3,4]),import.meta.url).then(e=>({default:e.ParkRegistrationSecondStage}))),is=k.lazy(()=>V(()=>import("./FacilityRegistration.y9bl5WxE.js"),__vite__mapDeps([58,1,2,3,4]),import.meta.url)),os=k.lazy(()=>V(()=>import("./NewParkDetail.BDAo2PEd.js"),__vite__mapDeps([59,1,2,3,4]),import.meta.url).then(e=>({default:e.NewParkDetail})));k.lazy(()=>V(()=>import("./BluePrint.ddSbAZg5.js").then(e=>e.B),__vite__mapDeps([60,1,2]),import.meta.url).then(e=>({default:e.BluePrint})));const ls=k.lazy(()=>V(()=>import("./AccessControl.B7EWuVwP.js"),__vite__mapDeps([61,1,2,3,4,8,9]),import.meta.url).then(e=>({default:e.AccessControl}))),cs=k.lazy(()=>V(()=>import("./TwoFactorSetup.Cl6f16jJ.js"),__vite__mapDeps([62,1,2,3,4]),import.meta.url)),ds=k.lazy(()=>V(()=>import("./TwoFactorVerify.DBDP8KKr.js"),__vite__mapDeps([63,1,2,3,4]),import.meta.url)),ms=k.lazy(()=>V(()=>import("./MagicLink.BDgvXadi.js"),__vite__mapDeps([64,1,2,3,4,8,9]),import.meta.url).then(e=>({default:e.MagicLink})));function hs(e){try{const t=window[e],s="__storage_test__";return t.setItem(s,s),t.removeItem(s),!0}catch{return!1}}const ps={};function us(e,t="localStorage"){try{return hs(t)?window[t].getItem(e):ps[e]||null}catch(s){return ps[e]||null}}function xs(e,t,s="localStorage"){try{return hs(s)?(window[s].setItem(e,t),!0):(ps[e]=t,!0)}catch(r){return ps[e]=t,!1}}function js(){const[e,t]=k.useState(""),[s,r]=k.useState(""),[a,i]=k.useState(!1);k.useEffect(()=>{const e=us("lastUsedEmail");e&&t(e)},[]);return n.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"パスワードリセットメール送信"}),s&&n.jsx("div",{className:"mb-4 text-blue-500",children:s}),n.jsxs("form",{onSubmit:async t=>{t.preventDefault(),i(!0),r("");const{error:s}=await H.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/reset-password"});r(s?"エラー: "+s.message:"パスワードリセット用のメールを送信しました。メールをご確認ください。"),i(!1)},children:[n.jsxs("label",{className:"block mb-2",children:["メールアドレス",n.jsx("input",{type:"email",className:"w-full border p-2 rounded mt-1",value:e,onChange:e=>t(e.target.value),required:!0})]}),n.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded mt-4",disabled:a,children:a?"送信中...":"メールを送信"})]})]})}function fs(){const e=window.location.hash.replace("#",""),t=new URLSearchParams(e);let s=t.get("access_token")||t.get("token"),r=t.get("type");if(!s||!r){const e=new URLSearchParams(window.location.search);s=s||e.get("access_token")||e.get("token"),r=r||e.get("type")}return{accessToken:s,type:r}}const gs=()=>{const e=O(),[t,s]=k.useState(""),[r,a]=k.useState(""),[i,o]=k.useState(!1),[{accessToken:l,type:c},d]=k.useState(fs()),[m,h]=k.useState(!1);k.useEffect(()=>{d(fs())},[]),k.useEffect(()=>{(async()=>{if("recovery"===c&&l){const{error:e}=await H.auth.exchangeCodeForSession(l);e?(a("セッションの設定に失敗しました。再度パスワードリセットを行ってください。"),h(!1)):h(!0)}else a("セッションの設定に失敗しました。再度パスワードリセットを行ってください。"),h(!1)})()},[c,l]);return n.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"パスワード再設定"}),r&&n.jsx("div",{className:"mb-4 text-red-500",children:r}),m&&n.jsxs("form",{onSubmit:async s=>{s.preventDefault(),o(!0),a("");const{error:r}=await H.auth.updateUser({password:t});r?a("エラー: "+r.message):(a("パスワードが変更されました。ログイン画面に戻ります。"),setTimeout(()=>e("/login"),2e3)),o(!1)},children:[n.jsxs("label",{className:"block mb-2",children:["新しいパスワード",n.jsx("input",{type:"password",className:"w-full border p-2 rounded mt-1",value:t,onChange:e=>s(e.target.value),required:!0,minLength:6})]}),n.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded mt-4",disabled:i,children:i?"送信中...":"パスワードを変更"})]})]})},ys=k.lazy(()=>V(()=>import("./AdminUserDetail.CDJJ44jU.js"),__vite__mapDeps([65,1,2,3,4]),import.meta.url).then(e=>({default:e.AdminUserDetail}))),_s=k.lazy(()=>V(()=>import("./AdminNewsManagement.D3XcKdOx.js"),__vite__mapDeps([66,1,2,3,4]),import.meta.url).then(e=>({default:e.AdminNewsManagement}))),bs=k.lazy(()=>V(()=>import("./Deploy.ByLw84R_.js"),__vite__mapDeps([67,1,2,3,4,68,8,9]),import.meta.url).then(e=>({default:e.Deploy}))),ws=k.lazy(()=>V(()=>import("./DeploymentHistory.B_hJFuy4.js"),__vite__mapDeps([69,1,2,3,4,68,8,9]),import.meta.url).then(e=>({default:e.DeploymentHistory}))),vs=k.lazy(()=>V(()=>import("./BluePrint.ddSbAZg5.js").then(e=>e.N),__vite__mapDeps([60,1,2]),import.meta.url)),Es=k.lazy(()=>V(()=>import("./PWASetupGuide.DZATBK6_.js"),__vite__mapDeps([70,1,2,4,3,8,9]),import.meta.url)),Ns=k.lazy(()=>V(()=>import("./PWAImplementationGuide.BvqQeRYo.js"),__vite__mapDeps([71,1,2,4,3,8,9]),import.meta.url)),Ts=k.lazy(()=>V(()=>import("./PWADocumentation.CUtLIoPk.js"),__vite__mapDeps([72,1,2,4,3,8,9]),import.meta.url)),As=k.lazy(()=>V(()=>import("./PWATestingSuite.C5uJYWm8.js"),__vite__mapDeps([73,1,2,3,4]),import.meta.url)),Ps=k.lazy(()=>V(()=>import("./PWALighthouseAudit.Df3-b2fz.js"),__vite__mapDeps([74,1,2,3,4]),import.meta.url)),ks=k.lazy(()=>V(()=>import("./PWADeploymentGuide.DNhEsy-I.js"),__vite__mapDeps([75,1,2,3,4]),import.meta.url)),Ls=({message:e="ロード中..."})=>{const t=window.location.pathname.includes("/payment")||window.location.pathname.includes("/checkout")||window.location.pathname.includes("/subscription")||window.location.search.includes("success=true")||window.location.search.includes("canceled=true");return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 mb-2",children:e}),t&&n.jsx("p",{className:"text-sm text-gray-500",children:"決済後の処理を行っています..."})]})})},Os=({children:e})=>{const{user:t,isAuthenticated:s,loading:r}=M();return r?n.jsx(Ls,{}):t&&s?n.jsx(n.Fragment,{children:e}):n.jsx(C,{to:"/login",state:{from:window.location.pathname},replace:!0})},Ds=()=>{const e=window.location.hash;return k.useEffect(()=>{window.location.href=`/magic-link${window.location.hash}`},[e]),n.jsx(Ls,{})};function Is(){return k.useEffect(()=>{{const e=()=>{},t=()=>{};window.addEventListener("online",e),window.addEventListener("offline",t);return(()=>{if("PerformanceObserver"in window){const t=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.entryType})});try{t.observe({entryTypes:["measure","navigation"]})}catch(e){}}})(),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}},[]),n.jsxs(n.Fragment,{children:[n.jsx(et,{children:n.jsx(k.Suspense,{fallback:n.jsx(Ls,{message:"ページを読み込み中..."}),children:n.jsxs(R,{children:[n.jsx(S,{path:"/",element:n.jsx(it,{})}),n.jsx(S,{path:"/login",element:n.jsx(ot,{})}),n.jsx(S,{path:"/register",element:n.jsx(lt,{})}),n.jsx(S,{path:"/reset-password",element:n.jsx(gs,{})}),n.jsx(S,{path:"/forgot-password",element:n.jsx(js,{})}),n.jsx(S,{path:"/parks",element:n.jsx(pt,{})}),n.jsx(S,{path:"/parks/:parkId",element:n.jsx(ut,{})}),n.jsx(S,{path:"/parks/rules",element:n.jsx(rs,{})}),n.jsx(S,{path:"/shop",element:n.jsx(gt,{})}),n.jsx(S,{path:"/shop/product/:productId",element:n.jsx(yt,{})}),n.jsx(S,{path:"/privacy",element:n.jsx(Ft,{})}),n.jsx(S,{path:"/terms",element:n.jsx(Wt,{})}),n.jsx(S,{path:"/contact",element:n.jsx(qt,{})}),n.jsx(S,{path:"/magic-link",element:n.jsx(ms,{})}),n.jsx(S,{path:"/payment-confirmation",element:n.jsx(Ut,{})}),n.jsx(S,{path:"/business-information",element:n.jsx(Jt,{})}),n.jsx(S,{path:"/news",element:n.jsx(Et,{})}),n.jsx(S,{path:"/news/:newsId",element:n.jsx(Nt,{})}),n.jsx(S,{path:"/news/park/:parkId",element:n.jsx(os,{})}),n.jsx(S,{path:"/dog/:id",element:n.jsx(ts,{})}),n.jsx(S,{path:"/dog-profile/:dogId",element:n.jsx(ts,{})}),n.jsx(S,{path:"/two-factor-setup",element:n.jsx(Os,{children:n.jsx(cs,{})})}),n.jsx(S,{path:"/two-factor-verify",element:n.jsx(Os,{children:n.jsx(ds,{})})}),n.jsx(S,{path:"/netlify-setup-guide",element:n.jsx(vs,{})}),n.jsx(S,{path:"/pwa-setup-guide",element:n.jsx(Es,{})}),n.jsx(S,{path:"/pwa-implementation-guide",element:n.jsx(Ns,{})}),n.jsx(S,{path:"/pwa-documentation",element:n.jsx(Ts,{})}),n.jsx(S,{path:"/pwa-testing-suite",element:n.jsx(As,{})}),n.jsx(S,{path:"/pwa-lighthouse-audit",element:n.jsx(Ps,{})}),n.jsx(S,{path:"/pwa-deployment-guide",element:n.jsx(ks,{})}),n.jsx(S,{path:"/dog-info",element:n.jsx(Gt,{})}),n.jsx(S,{path:"/dog-info/foods",element:n.jsx(Qt,{})}),n.jsx(S,{path:"/dog-info/vaccine",element:n.jsx(Yt,{})}),n.jsx(S,{path:"/dog-info/breeds",element:n.jsx(Kt,{})}),n.jsx(S,{path:"/dog-info/parasite",element:n.jsx(Zt,{})}),n.jsx(S,{path:"/dog-info/snack",element:n.jsx(Xt,{})}),n.jsx(S,{path:"/dog-info/show",element:n.jsx(es,{})}),n.jsx(S,{path:"/facility-registration",element:n.jsx(Os,{children:n.jsx(is,{})})}),n.jsx(S,{path:"/admin/facility-approval",element:n.jsx(Os,{children:n.jsx(Ct,{})})}),n.jsx(S,{path:"/admin/vaccine-approval",element:n.jsx(Os,{children:n.jsx(St,{})})}),n.jsx(S,{path:"/auth/callback",element:n.jsx(Ds,{})}),n.jsx(S,{path:"/dashboard",element:n.jsx(Os,{children:n.jsx(ct,{})})}),n.jsx(S,{path:"/liked-dogs",element:n.jsx(Os,{children:n.jsx(Tt,{})})}),n.jsx(S,{path:"/register-dog",element:n.jsx(Os,{children:n.jsx(mt,{})})}),n.jsx(S,{path:"/dog-management",element:n.jsx(Os,{children:n.jsx(dt,{})})}),n.jsx(S,{path:"/parks/:parkId/reserve",element:n.jsx(Os,{children:n.jsx(xt,{})})}),n.jsx(S,{path:"/community",element:n.jsx(Os,{children:n.jsx(vt,{})})}),n.jsx(S,{path:"/cart",element:n.jsx(Os,{children:n.jsx(_t,{})})}),n.jsx(S,{path:"/checkout",element:n.jsx(Os,{children:n.jsx(bt,{})})}),n.jsx(S,{path:"/orders",element:n.jsx(Os,{children:n.jsx(wt,{})})}),n.jsx(S,{path:"/owner-dashboard",element:n.jsx(Os,{children:n.jsx(Vt,{})})}),n.jsx(S,{path:"/park-registration-agreement",element:n.jsx(Os,{children:n.jsx(ns,{})})}),n.jsx(S,{path:"/register-park",element:n.jsx(Os,{children:n.jsx(jt,{})})}),n.jsx(S,{path:"/admin",element:n.jsx(Os,{children:n.jsx(At,{})})}),n.jsx(S,{path:"/admin/users",element:n.jsx(Os,{children:n.jsx(Lt,{})})}),n.jsx(S,{path:"/admin/users/:userId",element:n.jsx(Os,{children:n.jsx(ys,{})})}),n.jsx(S,{path:"/admin/parks",element:n.jsx(Os,{children:n.jsx(Ot,{})})}),n.jsx(S,{path:"/admin/reservations",element:n.jsx(Os,{children:n.jsx(Dt,{})})}),n.jsx(S,{path:"/admin/sales",element:n.jsx(Os,{children:n.jsx(Rt,{})})}),n.jsx(S,{path:"/admin/management",element:n.jsx(Os,{children:n.jsx(Pt,{})})}),n.jsx(S,{path:"/admin/tasks",element:n.jsx(Os,{children:n.jsx(kt,{})})}),n.jsx(S,{path:"/admin/shop",element:n.jsx(Os,{children:n.jsx(It,{})})}),n.jsx(S,{path:"/admin/revenue",element:n.jsx(Os,{children:n.jsx(zt,{})})}),n.jsx(S,{path:"/admin/news",element:n.jsx(Os,{children:n.jsx(_s,{})})}),n.jsx(S,{path:"/admin/vaccine-approval",element:n.jsx(Os,{children:n.jsx(St,{})})}),n.jsx(S,{path:"/access-control",element:n.jsx(Os,{children:n.jsx(ls,{})})}),n.jsx(S,{path:"/payment-setup",element:n.jsx(Os,{children:n.jsx($t,{})})}),n.jsx(S,{path:"/owner-payment-system",element:n.jsx(Os,{children:n.jsx(Mt,{})})}),n.jsx(S,{path:"/subscription",element:n.jsx(Os,{children:n.jsx(Bt,{})})}),n.jsx(S,{path:"/profile-settings",element:n.jsx(Os,{children:n.jsx(ht,{})})}),n.jsx(S,{path:"/payment-method-settings",element:n.jsx(Os,{children:n.jsx(Ht,{})})}),n.jsx(S,{path:"/parks/:parkId/manage",element:n.jsx(Os,{children:n.jsx(ft,{})})}),n.jsx(S,{path:"/dogpark-history",element:n.jsx(Os,{children:n.jsx(ss,{})})}),n.jsx(S,{path:"/parks/:parkId/second-stage",element:n.jsx(Os,{children:n.jsx(as,{})})}),n.jsx(S,{path:"/deploy",element:n.jsx(Os,{children:n.jsx(bs,{})})}),n.jsx(S,{path:"/deployment-history",element:n.jsx(Os,{children:n.jsx(ws,{})})}),n.jsx(S,{path:"*",element:n.jsx(C,{to:"/",replace:!0})})]})})}),n.jsx(at,{}),n.jsx(nt,{})]})}let Rs;"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),Rs=e;const t=document.getElementById("install-button");t&&(t.style.display="block",t.addEventListener("click",()=>{Rs.prompt(),Rs.userChoice.then(e=>{e.outcome,Rs=null})}))}),window.addEventListener("appinstalled",()=>{const e=document.getElementById("install-button");e&&(e.style.display="none")}),window.addEventListener("online",()=>{document.body.classList.remove("offline")}),window.addEventListener("offline",()=>{document.body.classList.add("offline")}),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{const e=document.createElement("div");e.innerHTML='\n      <div class="update-notification" style="\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: #4CAF50;\n        color: white;\n        padding: 15px;\n        border-radius: 5px;\n        box-shadow: 0 2px 5px rgba(0,0,0,0.2);\n        z-index: 10000;\n      ">\n        <p>アプリケーションが更新されました！</p>\n        <button onclick="window.location.reload()" style="\n          background: white;\n          color: #4CAF50;\n          border: none;\n          padding: 5px 10px;\n          border-radius: 3px;\n          cursor: pointer;\n        ">再読み込み</button>\n      </div>\n    ',document.body.appendChild(e)}),window.addEventListener("beforeunload",()=>{}),window.addEventListener("error",e=>{}),window.addEventListener("unhandledrejection",e=>{e.preventDefault()}),"performance"in window&&window.addEventListener("load",()=>{setTimeout(()=>{performance.getEntriesByType("navigation")[0]},0)});const Ss=K.createRoot(document.getElementById("root")),Cs=n.jsx(L.StrictMode,{children:n.jsx($e,{children:n.jsx(z,{children:n.jsx(q,{children:n.jsx(J,{children:n.jsx(Is,{})})})})})});Ss.render(Cs);export{Je as H,Xe as S,us as a,st as n,xs as s};
