/*! Build: 2025-07-17T07:59:15.523Z
Version: 0.0.0 */
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/utils.C9ZsMnW6.js","assets/vendor-react.D8SVeCGP.js","assets/vendor-misc.qnLj5toF.js","assets/vendor-supabase.RBPF72ft.js"])))=>i.map(i=>d[i]);
import{j as e,f as s,X as r,z as t,S as a,ad as l,k as i,T as o,ae as n,F as c,af as d,r as m,n as x,A as g,P as u,ab as h,u as p,C as b,p as f,ag as j,ah as y,M as v}from"./vendor-react.D8SVeCGP.js";import{B as N,I as w,S as _,u as S,C as D}from"./components-admin.GT3qRZg5.js";import{b as C,s as E,l as $,v as k,j as I,k as q,n as P}from"./utils.C9ZsMnW6.js";const z={},M=function(e,s,r){let t=Promise.resolve();if(s&&s.length>0){let e=function(e){return Promise.all(e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=(null==r?void 0:r.nonce)||(null==r?void 0:r.getAttribute("nonce"));t=e(s.map((e=>{if((e=function(e){return"/"+e}(e))in z)return;z[e]=!0;const s=e.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const t=document.createElement("link");return t.rel=s?"stylesheet":"modulepreload",s||(t.as="script"),t.crossOrigin="",t.href=e,a&&t.setAttribute("nonce",a),document.head.appendChild(t),s?new Promise(((s,r)=>{t.addEventListener("load",s),t.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function a(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return t.then((s=>{for(const e of s||[])"rejected"===e.status&&a(e.reason);return e().catch(a)}))},T=["æŸ´çŠ¬","ç§‹ç”°çŠ¬","ç”²æ–çŠ¬","ç´€å·çŠ¬","å››å›½çŠ¬","åŒ—æµ·é“çŠ¬","ãƒˆã‚¤ãƒ—ãƒ¼ãƒ‰ãƒ«","ãƒãƒ¯ãƒ¯","ãƒãƒ¡ãƒ©ãƒ‹ã‚¢ãƒ³","ãƒŸãƒ‹ãƒãƒ¥ã‚¢ãƒ€ãƒƒã‚¯ã‚¹ãƒ•ãƒ³ãƒ‰","ãƒ¨ãƒ¼ã‚¯ã‚·ãƒ£ãƒ¼ãƒ†ãƒªã‚¢","ãƒãƒ«ãƒãƒ¼ã‚º","ãƒ‘ã‚°","ã‚·ãƒ¼ã‚ºãƒ¼","ãƒšã‚­ãƒ‹ãƒ¼ã‚º","ãƒ‘ãƒ”ãƒ¨ãƒ³","ã‚¸ãƒ£ãƒƒã‚¯ãƒ©ãƒƒã‚»ãƒ«ãƒ†ãƒªã‚¢","ãƒŸãƒ‹ãƒãƒ¥ã‚¢ãƒ”ãƒ³ã‚·ãƒ£ãƒ¼","ã‚¤ã‚¿ãƒªã‚¢ãƒ³ã‚°ãƒ¬ãƒ¼ãƒã‚¦ãƒ³ãƒ‰","ã‚­ãƒ£ãƒãƒªã‚¢ãƒ»ã‚­ãƒ³ã‚°ãƒ»ãƒãƒ£ãƒ¼ãƒ«ã‚ºãƒ»ã‚¹ãƒ‘ãƒ‹ã‚¨ãƒ«","ãƒœã‚¹ãƒˆãƒ³ãƒ†ãƒªã‚¢","ãƒ•ãƒ¬ãƒ³ãƒãƒ–ãƒ«ãƒ‰ãƒƒã‚°","ãƒŸãƒ‹ãƒãƒ¥ã‚¢ã‚·ãƒ¥ãƒŠã‚¦ã‚¶ãƒ¼","ã‚¦ã‚¨ã‚¹ãƒˆãƒã‚¤ãƒ©ãƒ³ãƒ‰ãƒ›ãƒ¯ã‚¤ãƒˆãƒ†ãƒªã‚¢","ã‚±ã‚¢ãƒ¼ãƒ³ãƒ†ãƒªã‚¢","ãƒãƒ¼ãƒ•ã‚©ãƒ¼ã‚¯ãƒ†ãƒªã‚¢","ãƒãƒ¼ãƒªãƒƒãƒãƒ†ãƒªã‚¢","ã‚¹ã‚³ãƒ†ã‚£ãƒƒã‚·ãƒ¥ãƒ†ãƒªã‚¢","ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ•ã‚©ãƒƒã‚¯ã‚¹ãƒ†ãƒªã‚¢","ã‚¹ãƒ ãƒ¼ã‚¹ãƒ•ã‚©ãƒƒã‚¯ã‚¹ãƒ†ãƒªã‚¢","ã‚³ãƒ¼ã‚®ãƒ¼","ãƒ“ãƒ¼ã‚°ãƒ«","ã‚¢ãƒ¡ãƒªã‚«ãƒ³ã‚³ãƒƒã‚«ãƒ¼ã‚¹ãƒ‘ãƒ‹ã‚¨ãƒ«","ã‚¤ãƒ³ã‚°ãƒªãƒƒã‚·ãƒ¥ã‚³ãƒƒã‚«ãƒ¼ã‚¹ãƒ‘ãƒ‹ã‚¨ãƒ«","ãƒ–ãƒªã‚¿ãƒ‹ãƒ¼ã‚¹ãƒ‘ãƒ‹ã‚¨ãƒ«","ãƒœãƒ¼ãƒ€ãƒ¼ã‚³ãƒªãƒ¼","ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ãƒ³ã‚·ã‚§ãƒ‘ãƒ¼ãƒ‰","ã‚·ã‚§ãƒƒãƒˆãƒ©ãƒ³ãƒ‰ã‚·ãƒ¼ãƒ—ãƒ‰ãƒƒã‚°","ã‚¦ã‚£ãƒšãƒƒãƒˆ","ãƒã‚»ãƒƒãƒˆãƒã‚¦ãƒ³ãƒ‰","ãƒ–ãƒ«ãƒ†ãƒªã‚¢","ã‚¹ã‚¿ãƒƒãƒ•ã‚©ãƒ¼ãƒ‰ã‚·ãƒ£ãƒ¼ãƒ–ãƒ«ãƒ†ãƒªã‚¢","ã‚¢ãƒ¡ãƒªã‚«ãƒ³ãƒ”ãƒƒãƒˆãƒ–ãƒ«ãƒ†ãƒªã‚¢","ã‚¨ã‚¢ãƒ‡ãƒ¼ãƒ«ãƒ†ãƒªã‚¢","ã‚±ãƒªãƒ¼ãƒ–ãƒ«ãƒ¼ãƒ†ãƒªã‚¢","ã‚½ãƒ•ãƒˆã‚³ãƒ¼ãƒ†ãƒƒãƒ‰ã‚¦ã‚£ãƒ¼ãƒˆãƒ³ãƒ†ãƒªã‚¢","ãƒãƒ«ãƒˆã‚¬ãƒ«ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ‰ãƒƒã‚°","ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ¼ãƒ‰ãƒ«","ãƒŸãƒ‡ã‚£ã‚¢ãƒ ãƒ—ãƒ¼ãƒ‰ãƒ«","ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ãƒ¬ãƒˆãƒªãƒãƒ¼","ãƒ©ãƒ–ãƒ©ãƒ‰ãƒ¼ãƒ«ãƒ¬ãƒˆãƒªãƒãƒ¼","ã‚·ãƒ™ãƒªã‚¢ãƒ³ãƒã‚¹ã‚­ãƒ¼","ã‚¢ãƒ©ã‚¹ã‚«ãƒ³ãƒãƒ©ãƒŸãƒ¥ãƒ¼ãƒˆ","ã‚µãƒ¢ã‚¨ãƒ‰","ãƒãƒ¼ãƒ‹ãƒ¼ã‚ºãƒã‚¦ãƒ³ãƒ†ãƒ³ãƒ‰ãƒƒã‚°","ã‚°ãƒ¬ãƒ¼ãƒˆãƒ”ãƒ¬ãƒ‹ãƒ¼ã‚º","ã‚»ãƒ³ãƒˆãƒãƒ¼ãƒŠãƒ¼ãƒ‰","ãƒ‹ãƒ¥ãƒ¼ãƒ•ã‚¡ãƒ³ãƒ‰ãƒ©ãƒ³ãƒ‰","ãƒã‚¹ãƒ†ã‚£ãƒ•","ãƒ–ãƒ«ãƒã‚¹ãƒ†ã‚£ãƒ•","ãƒ­ãƒƒãƒˆãƒ¯ã‚¤ãƒ©ãƒ¼","ãƒ‰ãƒ¼ãƒ™ãƒ«ãƒãƒ³","ã‚¸ãƒ£ãƒ¼ãƒãƒ³ã‚·ã‚§ãƒ‘ãƒ¼ãƒ‰","ãƒ™ãƒ«ã‚¸ã‚¢ãƒ³ã‚·ã‚§ãƒ‘ãƒ¼ãƒ‰","ãƒ€ãƒ«ãƒ¡ã‚·ã‚¢ãƒ³","ãƒ¯ã‚¤ãƒãƒ©ãƒŠãƒ¼","ã‚¸ãƒ£ãƒ¼ãƒãƒ³ã‚·ãƒ§ãƒ¼ãƒˆãƒ˜ã‚¢ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ã‚¿ãƒ¼","ã‚¸ãƒ£ãƒ¼ãƒãƒ³ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ˜ã‚¢ãƒ¼ãƒ‰ãƒã‚¤ãƒ³ã‚¿ãƒ¼","ã‚¤ãƒ³ã‚°ãƒªãƒƒã‚·ãƒ¥ã‚»ãƒƒã‚¿ãƒ¼","ã‚¢ã‚¤ãƒªãƒƒã‚·ãƒ¥ã‚»ãƒƒã‚¿ãƒ¼","ã‚´ãƒ¼ãƒ‰ãƒ³ã‚»ãƒƒã‚¿ãƒ¼","ãƒã‚¤ãƒ³ã‚¿ãƒ¼","ãƒ´ã‚£ã‚ºãƒ©","ãƒ–ãƒ©ãƒƒã‚³ã‚¤ã‚¿ãƒªã‚¢ãƒ¼ãƒ","ã‚¹ãƒ”ãƒãƒ¼ãƒã‚¤ã‚¿ãƒªã‚¢ãƒ¼ãƒ","ãƒ­ãƒ¼ãƒ‡ã‚·ã‚¢ãƒ³ãƒªãƒƒã‚¸ãƒãƒƒã‚¯","ãƒ•ã‚¡ãƒ©ã‚ªãƒã‚¦ãƒ³ãƒ‰","ã‚¢ãƒ•ã‚¬ãƒ³ãƒã‚¦ãƒ³ãƒ‰","ã‚µãƒ«ãƒ¼ã‚­","ãƒœãƒ«ã‚¾ã‚¤","ã‚¢ã‚¤ãƒªãƒƒã‚·ãƒ¥ã‚¦ãƒ«ãƒ•ãƒã‚¦ãƒ³ãƒ‰","ã‚¹ã‚³ãƒ†ã‚£ãƒƒã‚·ãƒ¥ãƒ‡ã‚£ã‚¢ãƒã‚¦ãƒ³ãƒ‰","ã‚°ãƒ¬ãƒ¼ãƒˆãƒ‡ãƒ¼ãƒ³","ã‚¢ã‚¤ãƒªãƒƒã‚·ãƒ¥ã‚»ãƒƒã‚¿ãƒ¼","ãƒ•ãƒ©ãƒƒãƒˆã‚³ãƒ¼ãƒ†ãƒƒãƒ‰ãƒ¬ãƒˆãƒªãƒãƒ¼","ãƒã‚§ã‚µãƒ”ãƒ¼ã‚¯ãƒ™ã‚¤ãƒ¬ãƒˆãƒªãƒãƒ¼","ãƒãƒ´ã‚¡ã‚¹ã‚³ã‚·ã‚¢ãƒ€ãƒƒã‚¯ãƒˆãƒ¼ãƒªãƒ³ã‚°ãƒ¬ãƒˆãƒªãƒãƒ¼","ãƒã‚»ãƒ³ã‚¸ãƒ¼","ãƒãƒ£ã‚¦ãƒãƒ£ã‚¦","ã‚·ãƒ£ãƒ¼ãƒšã‚¤","ãƒ©ã‚µã‚¢ãƒ—ã‚½","ãƒãƒ™ã‚¿ãƒ³ãƒ†ãƒªã‚¢","ãƒãƒ™ã‚¿ãƒ³ã‚¹ãƒ‘ãƒ‹ã‚¨ãƒ«","ãƒ—ãƒ¼ãƒªãƒ¼","ã‚³ãƒ¢ãƒ³ãƒ‰ãƒ¼ãƒ«","ãƒãƒ³ã‚¬ãƒªã‚¢ãƒ³ãƒ“ã‚ºãƒ©","ãƒ¯ã‚¤ãƒ¤ãƒ¼ãƒ˜ã‚¢ãƒ¼ãƒ‰ãƒ“ã‚ºãƒ©","ãƒ–ãƒªã‚¢ãƒ¼ãƒ‰","ãƒœãƒ¼ã‚¹ãƒ­ãƒ³","ãƒ”ãƒ¬ãƒ‹ã‚¢ãƒ³ã‚·ãƒ¼ãƒ—ãƒ‰ãƒƒã‚°","ã‚ªãƒ¼ãƒ«ãƒ‰ã‚¤ãƒ³ã‚°ãƒªãƒƒã‚·ãƒ¥ã‚·ãƒ¼ãƒ—ãƒ‰ãƒƒã‚°","ãƒ“ã‚¢ãƒ‡ãƒƒãƒ‰ã‚³ãƒªãƒ¼","ãƒ©ãƒ•ã‚³ãƒªãƒ¼","ã‚¹ãƒ ãƒ¼ã‚¹ã‚³ãƒªãƒ¼","ã‚«ãƒ¼ãƒ‡ã‚£ã‚¬ãƒ³ã‚¦ã‚§ãƒ«ã‚·ãƒ¥ã‚³ãƒ¼ã‚®ãƒ¼","ãƒšãƒ³ãƒ–ãƒ­ãƒ¼ã‚¯ã‚¦ã‚§ãƒ«ã‚·ãƒ¥ã‚³ãƒ¼ã‚®ãƒ¼","ãƒ•ã‚£ãƒ‹ãƒƒã‚·ãƒ¥ã‚¹ãƒ”ãƒƒãƒ„","ã‚¸ãƒ£ãƒ¼ãƒãƒ³ã‚¹ãƒ”ãƒƒãƒ„","ã‚­ãƒ¼ã‚¹ãƒ›ãƒ³ãƒ‰","ã‚¨ã‚¹ã‚­ãƒ¢ãƒ¼ãƒ‰ãƒƒã‚°","ã‚°ãƒªãƒ¼ãƒ³ãƒ©ãƒ³ãƒ‰ãƒ‰ãƒƒã‚°","ã‚¢ãƒ¡ãƒªã‚«ãƒ³ã‚¨ã‚¹ã‚­ãƒ¢ãƒ¼ãƒ‰ãƒƒã‚°","ãƒŸãƒƒã‚¯ã‚¹çŠ¬ï¼ˆé›‘ç¨®ï¼‰","ãã®ä»–"];function O({status:l,size:i="md",showIcon:o=!0,showText:n=!0,className:c=""}){const d=(e=>{switch(e){case"approved":return{icon:a,text:"æ‰¿èªæ¸ˆã¿",bgColor:"bg-green-100",textColor:"text-green-800",borderColor:"border-green-300",iconColor:"text-green-600",glow:"shadow-green-200 shadow-lg",pulse:"animate-pulse"};case"pending":return{icon:t,text:"å¯©æŸ»ä¸­",bgColor:"bg-yellow-100",textColor:"text-yellow-800",borderColor:"border-yellow-300",iconColor:"text-yellow-600",glow:"shadow-yellow-200 shadow-md",pulse:""};case"rejected":return{icon:r,text:"å´ä¸‹",bgColor:"bg-red-100",textColor:"text-red-800",borderColor:"border-red-300",iconColor:"text-red-600",glow:"shadow-red-200 shadow-md",pulse:""};case"expired":return{icon:s,text:"æœŸé™åˆ‡ã‚Œ",bgColor:"bg-orange-100",textColor:"text-orange-800",borderColor:"border-orange-300",iconColor:"text-orange-600",glow:"shadow-orange-200 shadow-md",pulse:"animate-pulse"};default:return{icon:s,text:"æœªæå‡º",bgColor:"bg-gray-100",textColor:"text-gray-800",borderColor:"border-gray-300",iconColor:"text-gray-600",glow:"",pulse:""}}})(l),m=(e=>{switch(e){case"sm":return{padding:"px-2 py-1",textSize:"text-xs",iconSize:"w-3 h-3",gap:"gap-1"};case"lg":return{padding:"px-4 py-2",textSize:"text-base",iconSize:"w-6 h-6",gap:"gap-3"};default:return{padding:"px-3 py-1.5",textSize:"text-sm",iconSize:"w-4 h-4",gap:"gap-2"}}})(i),x=d.icon;return e.jsxs("div",{className:`\n      inline-flex items-center font-medium rounded-full border-2\n      ${d.bgColor} \n      ${d.textColor} \n      ${d.borderColor}\n      ${d.glow}\n      ${d.pulse}\n      ${m.padding}\n      ${m.textSize}\n      ${m.gap}\n      ${c}\n    `,children:[o&&e.jsx(x,{className:`${m.iconSize} ${d.iconColor}`}),n&&e.jsx("span",{className:"font-semibold",children:d.text})]})}function R(e){var s;const r=null==(s=e.vaccine_certifications)?void 0:s[0];if(!r)return"none";const t=new Date,a=r.rabies_expiry_date?new Date(r.rabies_expiry_date):null,l=r.combo_expiry_date?new Date(r.combo_expiry_date):null;return"approved"===r.status?a&&a<t||l&&l<t?"expired":"approved":r.status||"none"}function V({dog:s,onEdit:r}){const t=R(s),a=F(s.gender);return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:s.image_url?e.jsx("img",{src:s.image_url,alt:s.name,className:"w-full h-full object-cover"}):e.jsx(l,{className:"w-6 h-6 text-gray-500"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:[s.name,a]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.breed," â€¢ ",s.gender]}),e.jsx("div",{className:"flex items-center space-x-2 mt-1",children:e.jsx(O,{status:t,size:"sm"})})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx(N,{size:"sm",className:"bg-white hover:bg-gray-50 border border-gray-300 text-gray-700",onClick:()=>r(s),children:e.jsx(i,{className:"w-4 h-4"})})})]})}function F(e){return"ã‚ªã‚¹"===e?"ãã‚“":"ã¡ã‚ƒã‚“"}function U({dog:s,isUpdating:t,error:l,success:i,dogFormData:m,dogImagePreview:x,onClose:g,onSubmit:u,onDelete:h,onFormChange:p,onImageSelect:b,onImageRemove:f,rabiesVaccineFile:j,comboVaccineFile:y,rabiesExpiryDate:v,comboExpiryDate:S,onRabiesVaccineSelect:D,onComboVaccineSelect:C,onRabiesExpiryDateChange:E,onComboExpiryDateChange:$}){if(!s)return null;const k=F(s.gender),I=R(s);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold",children:[s.name,k,"ã®æƒ…å ±ç·¨é›†"]}),e.jsxs("div",{className:"flex space-x-2",children:[h&&e.jsx("button",{type:"button",onClick:()=>{window.confirm(`${s.name}${k}ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ\n\nã“ã®æ“ä½œã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚`)&&h(s)},className:"text-red-500 hover:text-red-700 p-1 rounded-lg hover:bg-red-50 transition-colors",title:"ã“ã®ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’å‰Šé™¤",children:e.jsx(o,{className:"w-5 h-5"})}),e.jsx("button",{onClick:g,className:"text-gray-500 hover:text-gray-700 p-1 rounded-lg hover:bg-gray-100 transition-colors",title:"ç·¨é›†ã‚’é–‰ã˜ã‚‹",children:e.jsx(r,{className:"w-5 h-5"})})]})]}),l&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:l}),i&&e.jsxs("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-lg flex items-center",children:[e.jsx(a,{className:"w-5 h-5 mr-2"}),i]}),e.jsx("form",{onSubmit:u,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"åŸºæœ¬æƒ…å ±"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®å†™çœŸ"}),x?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:x,alt:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-300"}),e.jsx("button",{type:"button",onClick:f,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:e.jsx(o,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"hidden",id:"dog-image-edit"}),e.jsxs("label",{htmlFor:"dog-image-edit",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(n,{className:"w-12 h-12 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç”»åƒã‚’é¸æŠ"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (æœ€å¤§10MB)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(w,{label:"åå‰",value:m.name,onChange:e=>p({...m,name:e.target.value}),required:!0}),e.jsx(_,{label:"çŠ¬ç¨®",options:T.map((e=>({value:e,label:e}))),value:m.breed,onChange:e=>p({...m,breed:e.target.value}),required:!0}),e.jsx(_,{label:"æ€§åˆ¥",options:[{value:"",label:"æ€§åˆ¥ã‚’é¸æŠã—ã¦ãã ã•ã„"},{value:"ã‚ªã‚¹",label:"ã‚ªã‚¹"},{value:"ãƒ¡ã‚¹",label:"ãƒ¡ã‚¹"}],value:m.gender,onChange:e=>p({...m,gender:e.target.value}),required:!0}),e.jsx(w,{label:"ç”Ÿå¹´æœˆæ—¥",type:"date",value:m.birthDate,onChange:e=>p({...m,birthDate:e.target.value}),required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(a,{className:"w-5 h-5 mr-2"}),"ãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸"]}),e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:"}),e.jsx(O,{status:I,size:"md"})]}),"pending"===I&&e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"æ–°ã—ã„è¨¼æ˜æ›¸ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨ã€å†åº¦æ‰¿èªå¾…ã¡çŠ¶æ…‹ã«ãªã‚Šã¾ã™ã€‚"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ç‹‚çŠ¬ç—…ãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸"}),j?e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800",children:j.name}),e.jsx("button",{type:"button",onClick:()=>{const e=document.getElementById("rabies-vaccine-edit");e&&(e.value=""),D({target:{files:[]}})},className:"text-red-600 hover:text-red-800",children:e.jsx(o,{className:"w-4 h-4"})})]})}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"hidden",id:"rabies-vaccine-edit"}),e.jsxs("label",{htmlFor:"rabies-vaccine-edit",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(d,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"è¨¼æ˜æ›¸ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (æœ€å¤§10MB)"})]})]}),e.jsx(w,{label:"æœ‰åŠ¹æœŸé™",type:"date",value:v,onChange:e=>E(e.target.value),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æ··åˆãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸"}),y?e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800",children:y.name}),e.jsx("button",{type:"button",onClick:()=>{const e=document.getElementById("combo-vaccine-edit");e&&(e.value=""),C({target:{files:[]}})},className:"text-red-600 hover:text-red-800",children:e.jsx(o,{className:"w-4 h-4"})})]})}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden",id:"combo-vaccine-edit"}),e.jsxs("label",{htmlFor:"combo-vaccine-edit",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(d,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"è¨¼æ˜æ›¸ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (æœ€å¤§10MB)"})]})]}),e.jsx(w,{label:"æœ‰åŠ¹æœŸé™",type:"date",value:S,onChange:e=>$(e.target.value),className:"mt-2"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"æ³¨æ„:"})," æ–°ã—ã„ãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨ã€ç®¡ç†è€…ã«ã‚ˆã‚‹å†æ‰¿èªãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ æ‰¿èªã•ã‚Œã‚‹ã¾ã§ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã®ã”åˆ©ç”¨ã¯ã§ãã¾ã›ã‚“ã€‚"]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx(N,{type:"button",className:"bg-white hover:bg-gray-50 border border-gray-300 text-gray-700",onClick:g,children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),e.jsxs(N,{type:"submit",isLoading:t,children:[e.jsx(a,{className:"w-4 h-4 mr-2"}),"ä¿å­˜"]})]})]})})]})})})}const A=Object.freeze(Object.defineProperty({__proto__:null,DogManagement:function(){const{user:s}=S(),[r,t]=m.useState([]),[a,i]=m.useState(!0),[o,n]=m.useState(""),[c,d]=m.useState(!1),[h,p]=m.useState(null),[b,f]=m.useState(!1),[j,y]=m.useState(""),[v,w]=m.useState(""),[_,k]=m.useState(!1),[I,q]=m.useState({name:"",breed:"",gender:"",birthDate:""}),[P,z]=m.useState(null),[T,O]=m.useState(null),[R,F]=m.useState(null),[A,L]=m.useState(null),[Y,G]=m.useState(""),[B,W]=m.useState("");m.useEffect((()=>{s&&J()}),[s]);const J=async()=>{try{i(!0),n("");const e=await C((()=>E.from("dogs").select("*, vaccine_certifications(*)").eq("owner_id",null==s?void 0:s.id).order("created_at",{ascending:!1})));if(e.error)return $("error","Error fetching dogs",{error:e.error,userId:null==s?void 0:s.id}),void n("ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚");t(e.data||[])}catch(e){$("error","Exception in fetchDogs",{error:e,userId:null==s?void 0:s.id}),n("ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚")}finally{i(!1)}},K=e=>{var s;p(e),q({name:e.name,breed:e.breed,gender:e.gender,birthDate:e.birth_date}),O(e.image_url||null);const r=null==(s=e.vaccine_certifications)?void 0:s[0];r&&(G(r.rabies_expiry_date||""),W(r.combo_expiry_date||"")),d(!0)};return a?e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"ml-3 text-gray-600",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æƒ…å ±ã‚’èª­ã¿è¾¼ã¿ä¸­..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(x,{to:"/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-2",children:[e.jsx(g,{className:"w-4 h-4 mr-1"}),"ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹"]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ç®¡ç†"}),e.jsx("p",{className:"text-gray-600",children:"ç™»éŒ²æ¸ˆã¿ã®ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æƒ…å ±ã‚’ç®¡ç†ã§ãã¾ã™"})]}),e.jsx(x,{to:"/register-dog",children:e.jsxs(N,{children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"æ–°ã—ã„ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’ç™»éŒ²"]})})]}),o&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o}),v&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:v}),e.jsxs(D,{children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(l,{className:"w-6 h-6 text-blue-600 mr-2"}),"ç™»éŒ²æ¸ˆã¿ãƒ¯ãƒ³ã¡ã‚ƒã‚“ (",r.length,"åŒ¹)"]})}),0===r.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(l,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"ã¾ã ãƒ¯ãƒ³ã¡ã‚ƒã‚“ãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“"}),e.jsx(x,{to:"/register-dog",children:e.jsxs(N,{children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’ç™»éŒ²ã™ã‚‹"]})})]}):e.jsx("div",{className:"space-y-4",children:r.map((s=>e.jsx(V,{dog:s,onEdit:K},s.id)))})]}),c&&h&&e.jsx(U,{dog:h,isUpdating:b||_,error:j,success:v,dogFormData:I,dogImagePreview:T,onClose:()=>d(!1),onSubmit:async e=>{if(e.preventDefault(),h){f(!0),y(""),w("");try{const e={name:I.name,breed:I.breed,gender:I.gender,birth_date:I.birthDate};if(P){if(!P.type||!P.type.startsWith("image/"))throw new Error(`ç„¡åŠ¹ãªãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™: ${P.type}`);const s=`${h.id}/dog-photo.jpg`,r=`/storage/v1/object/dog-images/${s}`,{data:{session:t}}=await E.auth.getSession();if(!(null==t?void 0:t.access_token))throw new Error("èªè¨¼ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚");const a=await fetch(r,{method:"PUT",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":P.type,"Cache-Control":"3600"},body:P});if(!a.ok){const e=await a.text();throw $("error","âŒ Direct upload failed",{error:e}),new Error(`ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ: ${a.status} ${e}`)}await a.json();const{data:{publicUrl:l}}=E.storage.from("dog-images").getPublicUrl(s);e.image_url=l}const{error:s}=await E.from("dogs").update(e).eq("id",h.id);if(s)throw s;if(R&&A&&Y&&B){const e=R.name.split(".").pop()||"jpg",s=A.name.split(".").pop()||"jpg",r=Date.now(),t=`temp/${h.id}/rabies_${r}.${e}`,a=`temp/${h.id}/combo_${r}.${s}`,{debugAuthStatus:l}=await M((async()=>{const{debugAuthStatus:e}=await import("./utils.C9ZsMnW6.js").then((e=>e.aw));return{debugAuthStatus:e}}),__vite__mapDeps([0,1,2,3]));await l();const{directVaccineUpload:i}=await M((async()=>{const{directVaccineUpload:e}=await import("./utils.C9ZsMnW6.js").then((e=>e.ax));return{directVaccineUpload:e}}),__vite__mapDeps([0,1,2,3])),[o,n]=await Promise.all([i(t,R),i(a,A)]);if(!o.success||!n.success){$("error","ğŸš¨ === VACCINE UPLOAD ERROR DETAILS ==="),o.success||$("error","âŒ Rabies upload error",{error:o.error}),n.success||$("error","âŒ Combo upload error",{error:n.error});const e=o.error||n.error||"ãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸã€‚";throw new Error(`ãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ: ${e}`)}const c=o.url,d=n.url,{error:m}=await E.from("vaccine_certifications").upsert([{dog_id:h.id,rabies_vaccine_image:c,combo_vaccine_image:d,rabies_expiry_date:Y,combo_expiry_date:B,status:"pending"}],{onConflict:"dog_id"});if(m)throw $("error","âŒ Database save error",{error:m}),m.message&&m.message.includes("520")?new Error("ä¸€æ™‚çš„ãªã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¯æˆåŠŸã—ã¾ã—ãŸãŒã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚"):new Error(`ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ: ${m.message}`)}w("ãƒ¯ãƒ³ã¡ã‚ƒã‚“æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã—ãŸ"),await J(),setTimeout((()=>{d(!1),w(""),z(null),O(null),F(null),L(null),G(""),W("")}),2e3)}catch(s){$("error","Error updating dog",{error:s,dogId:null==h?void 0:h.id});let e="ãƒ¯ãƒ³ã¡ã‚ƒã‚“æƒ…å ±ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ";s instanceof Error&&(e=s.message.includes("520")||s.message.includes("Cloudflare")?"ãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¯æˆåŠŸã—ã¾ã—ãŸãŒã€ä¸€æ™‚çš„ãªã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚":s.message.includes("ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ")?s.message:`ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${s.message}`),y(e)}finally{f(!1)}}},onDelete:async e=>{var s;k(!0),y("");try{const{error:t}=await E.from("vaccine_certifications").delete().eq("dog_id",e.id);if(t&&$("warn","Error deleting vaccine certifications",{error:t,dogId:e.id}),e.image_url)try{const s=new URL(e.image_url).pathname.split("/"),r=s[s.length-1],t=`${e.id}/${r}`,{error:a}=await E.storage.from("dog-images").remove([t])}catch(r){}const a=null==(s=e.vaccine_certifications)?void 0:s[0];if(a){const e=[];if(a.rabies_vaccine_image&&e.push(a.rabies_vaccine_image),a.combo_vaccine_image&&e.push(a.combo_vaccine_image),e.length>0){const{error:s}=await E.storage.from("vaccine-certs").remove(e)}}const{error:l}=await E.from("dogs").delete().eq("id",e.id);if(l)throw $("error","Error deleting dog",{error:l,dogId:e.id}),l;await J(),d(!1),w(`${e.name}ã®æƒ…å ±ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚`),setTimeout((()=>{w("")}),3e3)}catch(t){$("error","Error deleting dog",{error:t,dogId:null==e?void 0:e.id});const s=t.message||"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸ";y(s)}finally{k(!1)}},onFormChange:q,onImageSelect:async e=>{var s;const r=null==(s=e.target.files)?void 0:s[0];if($("info","ğŸ” File selected:",r?{name:r.name,type:r.type,size:r.size,lastModified:r.lastModified,isFileObject:r instanceof File}:{message:"No file selected"}),r)try{if(!(r instanceof File))return void y("æœ‰åŠ¹ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚");if(r.size>10485760)return void y("ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã¯10MBä»¥ä¸‹ã«ã—ã¦ãã ã•ã„ã€‚");if(!r.type||!r.type.startsWith("image/"))return void y(`ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚é¸æŠã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—: ${r.type}`);if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type))return void y(`ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ç”»åƒå½¢å¼ã§ã™: ${r.type}`);z(r),$("info","âœ… Dog image file set successfully:",{name:r.name,type:r.type,size:r.size});const e=new FileReader;e.onload=e=>{var s;O(null==(s=e.target)?void 0:s.result)},e.readAsDataURL(r)}catch(t){y("ç”»åƒã®å‡¦ç†ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}},onImageRemove:async()=>{if(h&&h.image_url)try{f(!0),y("");try{const e=new URL(h.image_url).pathname.split("/"),s=e[e.length-1],r=`${h.id}/${s}`,{error:t}=await E.storage.from("dog-images").remove([r])}catch(e){$("warn","Warning: Error processing image deletion",{error:e})}const s=await C((()=>E.from("dogs").update({image_url:null}).eq("id",h.id)));if(s.error)return $("error","Error updating dog image_url",{error:s.error,dogId:h.id}),void y("ç”»åƒã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸã€‚");z(null),O(null),p({...h,image_url:void 0}),await J(),$("info","âœ… Dog image removed successfully",{dogId:h.id}),w("ç”»åƒã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚"),setTimeout((()=>{w("")}),3e3)}catch(s){$("error","Error removing dog image",{error:s,dogId:null==h?void 0:h.id}),y("ç”»åƒã®å‰Šé™¤ã«å¤±æ•—ã—ã¾ã—ãŸã€‚")}finally{f(!1)}},rabiesVaccineFile:R,comboVaccineFile:A,rabiesExpiryDate:Y,comboExpiryDate:B,onRabiesVaccineSelect:async e=>{var s;const r=null==(s=e.target.files)?void 0:s[0];if(r){if(r.size>10485760)return void y("ãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã¯10MBä»¥ä¸‹ã«ã—ã¦ãã ã•ã„ã€‚");if(!r.type.startsWith("image/"))return void y("ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚");F(r)}else F(null)},onComboVaccineSelect:async e=>{var s;const r=null==(s=e.target.files)?void 0:s[0];if(r){if(r.size>10485760)return void y("ãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã¯10MBä»¥ä¸‹ã«ã—ã¦ãã ã•ã„ã€‚");if(!r.type.startsWith("image/"))return void y("ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚");L(r)}else L(null)},onRabiesExpiryDateChange:G,onComboExpiryDateChange:W})]})}},Symbol.toStringTag,{value:"Module"})),L=Object.freeze(Object.defineProperty({__proto__:null,DogRegistration:function(){const{user:s}=S(),[t,a]=m.useState(!1),[l,i]=m.useState(""),[o,c]=m.useState(null),[d,u]=m.useState(null),[h,p]=m.useState({name:"",breed:"",birthYear:"",birthMonth:"",birthDay:"",gender:"",rabiesVaccineImage:null,comboVaccineImage:null,rabiesExpiryDate:"",comboExpiryDate:""}),b=(new Date).getFullYear(),f=Array.from({length:21},((e,s)=>{const r=b-s;return{value:r.toString(),label:`${r}å¹´`}})),j=Array.from({length:12},((e,s)=>{const r=s+1;return{value:r.toString().padStart(2,"0"),label:`${r}æœˆ`}})),y=()=>{if(!h.birthYear||!h.birthMonth||!h.birthDay)return!1;const e=parseInt(h.birthYear),s=parseInt(h.birthMonth),r=parseInt(h.birthDay),t=new Date(e,s-1,r);if(t>new Date)return!1;const a=new Date;return a.setFullYear(a.getFullYear()-20),!(t<a)},v=T.map((e=>({value:e,label:e})));return e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsxs(x,{to:"/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-2",children:[e.jsx(g,{className:"w-4 h-4 mr-1"}),"ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹"]}),e.jsx("h1",{className:"text-2xl font-bold",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ç™»éŒ²"}),e.jsx("p",{className:"text-gray-600",children:"æ–°ã—ã„ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’ç™»éŒ²ã—ã¦ã€ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã‚’åˆ©ç”¨ã—ã¾ã—ã‚‡ã†"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"æ—¢ã«ç™»éŒ²æ¸ˆã¿ã®ãƒ¯ãƒ³ã¡ã‚ƒã‚“ãŒã„ã¾ã™ã‹ï¼Ÿ"}),e.jsx("p",{className:"text-sm text-blue-700",children:"ç™»éŒ²æ¸ˆã¿ã®ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æƒ…å ±ã‚’ç¢ºèªãƒ»ç·¨é›†ã§ãã¾ã™"})]}),e.jsx(x,{to:"/dog-management",children:e.jsx(N,{variant:"secondary",size:"sm",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ç®¡ç†"})})]})}),e.jsx(D,{children:e.jsxs("form",{onSubmit:async e=>{var r,t;e.preventDefault(),a(!0),i("");try{if(I.info("=== DOG REGISTRATION START ==="),I.info("Starting dog registration for user:",null==s?void 0:s.id),!y())return i("æ­£ã—ã„ç”Ÿå¹´æœˆæ—¥ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚"),void a(!1);if(!h.rabiesExpiryDate||!h.comboExpiryDate)return i("ãƒ¯ã‚¯ãƒãƒ³ã®æœ‰åŠ¹æœŸé™ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚"),void a(!1);const e=new Date,n=new Date(h.rabiesExpiryDate),d=new Date(h.comboExpiryDate);if(n<=e||d<=e)return i("ãƒ¯ã‚¯ãƒãƒ³ã®æœ‰åŠ¹æœŸé™ã¯ä»Šæ—¥ã‚ˆã‚Šå¾Œã®æ—¥ä»˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚"),void a(!1);const m=`${h.birthYear}-${h.birthMonth}-${h.birthDay}`;let x;if("ã‚ªã‚¹"===h.gender||"male"===h.gender||"male"===h.gender.toLowerCase())x="ã‚ªã‚¹";else{if("ãƒ¡ã‚¹"!==h.gender&&"female"!==h.gender&&"female"!==h.gender.toLowerCase())return i("æ€§åˆ¥ã‚’æ­£ã—ãé¸æŠã—ã¦ãã ã•ã„ã€‚"),void a(!1);x="ãƒ¡ã‚¹"}I.info("Original gender:",h.gender,"Normalized gender:",x);const{data:g,error:b}=await E.from("profiles").select("id, name, user_type").eq("id",null==s?void 0:s.id).maybeSingle();if(I.info("Profile check result:",g,b),b&&"PGRST116"!==b.code)throw I.error("Profile error:",b),b;if(g)I.info("Profile exists:",g);else{I.info("Creating profile for dog registration using upsert");const e=(null==(r=null==s?void 0:s.user_metadata)?void 0:r.name)||(null==(t=null==s?void 0:s.email)?void 0:t.split("@")[0])||"ãƒ¦ãƒ¼ã‚¶ãƒ¼",{data:a,error:l}=await E.from("profiles").upsert([{id:null==s?void 0:s.id,user_type:"user",name:e,postal_code:"",address:"",phone_number:""}],{onConflict:"id"}).select().single();if(l)throw I.error("Profile upsert error:",l),l;I.info("Profile upserted successfully:",a)}I.info("Registering dog with data:",{name:h.name,breed:h.breed,birth_date:m,gender:x,owner_id:null==s?void 0:s.id});const{data:f,error:j}=await E.from("dogs").insert([{name:h.name,breed:h.breed,birth_date:m,gender:x,owner_id:null==s?void 0:s.id}]).select().single();if(j)throw I.error("ğŸš¨ Dog registration error:",j),I.error("ğŸš¨ Error details:",{message:j.message,code:j.code,details:j.details,hint:j.hint}),j;I.info("âœ… Dog registered successfully:",f),I.info("âœ… Dog ID generated:",f.id);let v=null;if(o){I.info("Uploading dog image...");try{const e=o.name.split(".").pop()||"jpg",s=Date.now(),r=`${f.id}/profile_${s}.${e}`;I.info("Uploading to path:",r),I.info("ğŸ”§ Uploading dog image with Content-Type:",o.type);const{error:t}=await E.storage.from("dog-images").upload(r,o,{cacheControl:"3600",upsert:!0,contentType:o.type});if(t)throw I.error("Image upload error:",t),new Error(`ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ: ${t.message}`);I.info("Upload successful");const{data:{publicUrl:a}}=E.storage.from("dog-images").getPublicUrl(r);v=a,I.info("Public URL generated:",v);const{error:l}=await E.from("dogs").update({image_url:v}).eq("id",f.id);if(l)throw I.error("Error updating dog image URL:",l),new Error("ç”»åƒURLã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ");I.info("Dog image URL updated successfully")}catch(l){I.error("Image processing error:",l),i("ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸãŒã€ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®ç™»éŒ²ã¯å®Œäº†ã—ã¾ã—ãŸã€‚å¾Œã§ãƒã‚¤ãƒšãƒ¼ã‚¸ã‹ã‚‰ç”»åƒã‚’è¿½åŠ ã§ãã¾ã™ã€‚")}}if(h.rabiesVaccineImage&&h.comboVaccineImage){I.info("ğŸ§ª Starting vaccine certificates upload using utility...");const e=await q(f.id,h.rabiesVaccineImage,h.comboVaccineImage,h.rabiesExpiryDate,h.comboExpiryDate);e.success?I.info("âœ… Vaccine certificates uploaded successfully"):(I.error("Vaccine upload failed:",e.error),i(`ãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ: ${e.error}`))}I.info("Dog registration completed successfully"),P.success("ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸï¼"),p({name:"",breed:"",birthYear:"",birthMonth:"",birthDay:"",gender:"",rabiesVaccineImage:null,comboVaccineImage:null,rabiesExpiryDate:"",comboExpiryDate:""}),c(null),u(null)}catch(n){I.error("Registration error:",n),i("ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚")}finally{a(!1)}},children:[l&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:l}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®å†™çœŸï¼ˆä»»æ„ï¼‰"}),d?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:d,alt:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼",className:"w-full h-64 object-cover rounded-lg border-2 border-gray-300"}),e.jsx("button",{type:"button",onClick:()=>{c(null),u(null)},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:e.jsx(r,{className:"w-4 h-4"})}),o&&e.jsx("div",{className:"absolute bottom-2 left-2 bg-white bg-opacity-90 text-gray-800 text-xs px-2 py-1 rounded border shadow-sm",children:o.name})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{var s;const r=null==(s=e.target.files)?void 0:s[0];if(r){if(I.info("Selected file:",r.name,r.size,r.type),r.size>10485760)return void i("ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã¯10MBä»¥ä¸‹ã«ã—ã¦ãã ã•ã„ã€‚");if(!r.type.startsWith("image/"))return void i("ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚");c(r);const e=new FileReader;e.onload=e=>{var s;u(null==(s=e.target)?void 0:s.result),I.info("Image preview created")},e.readAsDataURL(r),i("")}},className:"hidden",id:"dog-image"}),e.jsxs("label",{htmlFor:"dog-image",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(n,{className:"w-12 h-12 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"ã‚¯ãƒªãƒƒã‚¯ã—ã¦ç”»åƒã‚’é¸æŠ"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (æœ€å¤§10MB)"})]})]})]}),e.jsx(w,{label:"åå‰",value:h.name,onChange:e=>p({...h,name:e.target.value}),required:!0}),e.jsx(_,{label:"çŠ¬ç¨®",options:v,value:h.breed,onChange:e=>p({...h,breed:e.target.value}),required:!0}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ç”Ÿå¹´æœˆæ—¥ *"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("div",{children:e.jsxs("select",{value:h.birthYear,onChange:e=>{p({...h,birthYear:e.target.value,birthDay:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"å¹´"}),f.map((s=>e.jsx("option",{value:s.value,children:s.label},s.value)))]})}),e.jsx("div",{children:e.jsxs("select",{value:h.birthMonth,onChange:e=>{p({...h,birthMonth:e.target.value,birthDay:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"æœˆ"}),j.map((s=>e.jsx("option",{value:s.value,children:s.label},s.value)))]})}),e.jsx("div",{children:e.jsxs("select",{value:h.birthDay,onChange:e=>p({...h,birthDay:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:!h.birthYear||!h.birthMonth,children:[e.jsx("option",{value:"",children:"æ—¥"}),(()=>{if(!h.birthYear||!h.birthMonth)return Array.from({length:31},((e,s)=>{const r=s+1;return{value:r.toString().padStart(2,"0"),label:`${r}æ—¥`}}));const e=parseInt(h.birthYear),s=parseInt(h.birthMonth),r=new Date(e,s,0).getDate();return Array.from({length:r},((e,s)=>{const r=s+1;return{value:r.toString().padStart(2,"0"),label:`${r}æ—¥`}}))})().map((s=>e.jsx("option",{value:s.value,children:s.label},s.value)))]})})]}),h.birthYear&&h.birthMonth&&!h.birthDay&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"æ—¥ã‚’é¸æŠã—ã¦ãã ã•ã„"}),h.birthYear&&h.birthMonth&&h.birthDay&&!y()&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:"æ­£ã—ã„ç”Ÿå¹´æœˆæ—¥ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼ˆæœªæ¥ã®æ—¥ä»˜ã‚„20å¹´ä»¥ä¸Šå‰ã®æ—¥ä»˜ã¯é¸æŠã§ãã¾ã›ã‚“ï¼‰"})]}),e.jsx(_,{label:"æ€§åˆ¥",options:[{value:"",label:"æ€§åˆ¥ã‚’é¸æŠã—ã¦ãã ã•ã„"},{value:"ã‚ªã‚¹",label:"ã‚ªã‚¹"},{value:"ãƒ¡ã‚¹",label:"ãƒ¡ã‚¹"}],value:h.gender,onChange:e=>p({...h,gender:e.target.value}),required:!0}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"ãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ç‹‚çŠ¬ç—…ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®è¨¼æ˜æ›¸ *"}),e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{var s;const r=null==(s=e.target.files)?void 0:s[0];if(r){const e=k(r);if(!e.isValid)return void i(e.error||"ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¤œè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸ");i("")}p({...h,rabiesVaccineImage:r||null})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ç‹‚çŠ¬ç—…ãƒ¯ã‚¯ãƒãƒ³æœ‰åŠ¹æœŸé™ *"}),e.jsx("input",{type:"date",value:h.rabiesExpiryDate,onChange:e=>p({...h,rabiesExpiryDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:(new Date).toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æ··åˆãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®è¨¼æ˜æ›¸ *"}),e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{var s;const r=null==(s=e.target.files)?void 0:s[0];if(r){const e=k(r);if(!e.isValid)return void i(e.error||"ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¤œè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸ");i("")}p({...h,comboVaccineImage:r||null})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æ··åˆãƒ¯ã‚¯ãƒãƒ³æœ‰åŠ¹æœŸé™ *"}),e.jsx("input",{type:"date",value:h.comboExpiryDate,onChange:e=>p({...h,comboExpiryDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:(new Date).toISOString().split("T")[0],required:!0})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-800",children:"â€» ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®è¨¼æ˜æ›¸ã¯é‹å–¶ã«ã‚ˆã‚‹ç¢ºèªå¾Œã«æ‰¿èªã•ã‚Œã¾ã™ã€‚æ‰¿èªã•ã‚Œã‚‹ã¾ã§ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã®åˆ©ç”¨ã¯ã§ãã¾ã›ã‚“ã€‚"})}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"ãƒ¯ã‚¯ãƒãƒ³è¨¼æ˜æ›¸ã«ã¤ã„ã¦:"}),e.jsx("br",{}),"â€¢ ç®¡ç†è€…ãŒç¢ºèªã—ã‚„ã™ã„å½¢ã§ä¿å­˜ã•ã‚Œã¾ã™",e.jsx("br",{}),"â€¢ æ‰¿èªã•ã‚Œã‚‹ã¨æ­£å¼ã«ãƒ¯ã‚¯ãƒãƒ³æƒ…å ±ã¨ã—ã¦ç™»éŒ²ã•ã‚Œã¾ã™",e.jsx("br",{}),"â€¢ æ‰¿èªå¾Œã€å…¨å›½ã®ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã‚’ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™"]})})]}),e.jsx(N,{type:"submit",isLoading:t,className:"w-full",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’ç™»éŒ²ã™ã‚‹"})]})})]})}},Symbol.toStringTag,{value:"Module"})),Y=[{title:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ãŒé£Ÿã¹ã¦ã¯ã„ã‘ãªã„é£Ÿã¹ç‰©",image:"https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg?auto=compress&w=300",path:"/dog-info/foods"},{title:"ç‹‚çŠ¬ç—…äºˆé˜²ã‚„æ··åˆãƒ¯ã‚¯ãƒãƒ³ã®é‡è¦æ€§",image:"https://images.pexels.com/photos/1404819/pexels-photo-1404819.jpeg?auto=compress&w=300",path:"/dog-info/vaccine"},{title:"çŠ¬ç¨®ã”ã¨ã«ã‹ã‹ã‚Šã‚„ã™ã„ä¸»ãªç—…æ°—",image:"https://images.pexels.com/photos/1108098/pexels-photo-1108098.jpeg?auto=compress&w=300",path:"/dog-info/breeds"},{title:"ãƒ•ã‚£ãƒ©ãƒªã‚¢ãƒ»ãƒ€ãƒ‹ãƒ»ãƒãƒŸãªã©å¯„ç”Ÿè™«ã®å±é™ºæ€§",image:"https://images.pexels.com/photos/458799/pexels-photo-458799.jpeg?auto=compress&w=300",path:"/dog-info/parasite"},{title:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ç”¨ãŠã‚„ã¤ã‚„ãŠã‚‚ã¡ã‚ƒã®é‡è¦æ€§",image:"https://images.pexels.com/photos/1108097/pexels-photo-1108097.jpeg?auto=compress&w=300",path:"/dog-info/snack"},{title:"ãƒ‰ãƒƒã‚°ã‚·ãƒ§ãƒ¼ã«ã¤ã„ã¦",image:"https://images.pexels.com/photos/458804/pexels-photo-458804.jpeg?auto=compress&w=300",path:"/dog-info/show"}],G=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return e.jsxs("div",{className:"max-w-5xl mx-auto py-8 px-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã«ã¤ã„ã¦ã®æƒ…å ±ç™ºä¿¡"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:Y.map((s=>e.jsx(x,{to:s.path,className:"block group",children:e.jsxs("div",{className:"bg-white rounded-xl shadow hover:shadow-lg transition p-4 flex flex-col items-center cursor-pointer h-full",children:[e.jsx("img",{src:s.image,alt:s.title,className:"w-28 h-28 object-cover rounded-full mb-3 border-4 border-yellow-100 group-hover:border-yellow-400 transition"}),e.jsx("h2",{className:"text-base font-semibold text-center mb-1 group-hover:text-yellow-700 transition",children:s.title})]})},s.title)))})]})}},Symbol.toStringTag,{value:"Module"})),B=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return e.jsxs("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"çŠ¬ç¨®ã”ã¨ã«ã‹ã‹ã‚Šã‚„ã™ã„ä¸»ãªç—…æ°—"}),e.jsx("img",{src:"https://images.pexels.com/photos/1108098/pexels-photo-1108098.jpeg?auto=compress&w=400",alt:"çŠ¬ç¨®ã¨ç—…æ°—",className:"w-full max-w-md mx-auto rounded-lg mb-6"}),e.jsx("p",{className:"mb-4",children:"çŠ¬ç¨®ã”ã¨ã«ä½“è³ªã‚„éºä¼çš„å‚¾å‘ãŒã‚ã‚Šã€ãªã‚Šã‚„ã™ã„ç—…æ°—ã‚‚ç•°ãªã‚Šã¾ã™ã€‚ä»£è¡¨çš„ãªä¾‹ã¨äºˆé˜²ç­–ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsxs("li",{children:[e.jsx("b",{children:"ãƒ€ãƒƒã‚¯ã‚¹ãƒ•ãƒ³ãƒ‰"}),"ï¼šæ¤é–“æ¿ãƒ˜ãƒ«ãƒ‹ã‚¢ï¼ˆèƒ´é•·çŸ­è¶³ã®ãŸã‚ï¼‰ã€‚â†’ä½“é‡ç®¡ç†ãƒ»æ®µå·®æ³¨æ„"]}),e.jsxs("li",{children:[e.jsx("b",{children:"ãƒˆã‚¤ãƒ—ãƒ¼ãƒ‰ãƒ«"}),"ï¼šè†è“‹éª¨è„±è‡¼ï¼ˆå°å‹çŠ¬ã«å¤šã„ï¼‰ã€‚â†’æ»‘ã‚Šã«ãã„åºŠãƒ»é©åº¦ãªé‹å‹•"]}),e.jsxs("li",{children:[e.jsx("b",{children:"æŸ´çŠ¬"}),"ï¼šã‚¢ãƒˆãƒ”ãƒ¼æ€§çš®è†šç‚ã€‚â†’ã“ã¾ã‚ãªã‚·ãƒ£ãƒ³ãƒ—ãƒ¼ãƒ»ã‚¢ãƒ¬ãƒ«ã‚²ãƒ³ç®¡ç†"]})]}),e.jsx("p",{children:"çŠ¬ç¨®ã”ã¨ã®ç‰¹å¾´ã‚’çŸ¥ã‚Šã€æ—©æœŸç™ºè¦‹ãƒ»äºˆé˜²ã«åŠªã‚ã¾ã—ã‚‡ã†ã€‚"})]})}},Symbol.toStringTag,{value:"Module"})),W=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return e.jsxs("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"ç‹‚çŠ¬ç—…äºˆé˜²ã‚„æ··åˆãƒ¯ã‚¯ãƒãƒ³ã®é‡è¦æ€§"}),e.jsx("img",{src:"https://images.pexels.com/photos/1404819/pexels-photo-1404819.jpeg?auto=compress&w=400",alt:"ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®",className:"w-full max-w-md mx-auto rounded-lg mb-6"}),e.jsx("p",{className:"mb-4",children:"ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®ã¯ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã¨ç¤¾ä¼šå…¨ä½“ã‚’å®ˆã‚‹ãŸã‚ã«ä¸å¯æ¬ ã§ã™ã€‚ç‹‚çŠ¬ç—…äºˆé˜²æ¥ç¨®ã¯æ³•å¾‹ã§ç¾©å‹™ä»˜ã‘ã‚‰ã‚Œã¦ãŠã‚Šã€æœªæ¥ç¨®ã«ã¯ç½°å‰‡ã‚‚ã‚ã‚Šã¾ã™ã€‚"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsx("li",{children:"ç‹‚çŠ¬ç—…äºˆé˜²æ¥ç¨®ã¯å¹´1å›ã€é£¼ã„ä¸»ã®ç¾©å‹™ï¼ˆç‹‚çŠ¬ç—…äºˆé˜²æ³•ï¼‰ã€‚"}),e.jsx("li",{children:"æ··åˆãƒ¯ã‚¯ãƒãƒ³ã¯æ„ŸæŸ“ç—‡ã‹ã‚‰ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã‚’å®ˆã‚‹ã€‚"}),e.jsx("li",{children:"æœªæ¥ç¨®ã ã¨å‘½ã«é–¢ã‚ã‚‹ç—…æ°—ã‚„ã€ä»–ã®ãƒ¯ãƒ³ã¡ã‚ƒã‚“ãƒ»äººã¸ã®æ„ŸæŸ“ãƒªã‚¹ã‚¯ã‚‚ã€‚"})]}),e.jsx("p",{children:"ãƒ¯ã‚¯ãƒãƒ³ã¯é£¼ã„ä¸»ã®è²¬ä»»ã€‚å¿…ãšå‹•ç‰©ç—…é™¢ã§æ¥ç¨®ã—ã¾ã—ã‚‡ã†ã€‚"})]})}},Symbol.toStringTag,{value:"Module"})),J=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return e.jsxs("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ãŒé£Ÿã¹ã¦ã¯ã„ã‘ãªã„é£Ÿã¹ç‰©"}),e.jsx("img",{src:"https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg?auto=compress&w=400",alt:"å±é™ºãªé£Ÿã¹ç‰©",className:"w-full max-w-md mx-auto rounded-lg mb-6"}),e.jsx("p",{className:"mb-4",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã«ã¨ã£ã¦å±é™ºãªé£Ÿã¹ç‰©ã¯æ„å¤–ã¨å¤šãã€èª¤é£Ÿã™ã‚‹ã¨å‘½ã«é–¢ã‚ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ä»£è¡¨çš„ãªã‚‚ã®ã¨ãã®ç†ç”±ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsxs("li",{children:[e.jsx("b",{children:"ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ"}),"ï¼šãƒ†ã‚ªãƒ–ãƒ­ãƒŸãƒ³ãŒä¸­æ¯’ã‚’èµ·ã“ã—ã€å˜”åãƒ»ã‘ã„ã‚Œã‚“ãƒ»æœ€æ‚ªã®å ´åˆæ­»ã«è‡³ã‚‹ã“ã¨ã‚‚ã€‚"]}),e.jsxs("li",{children:[e.jsx("b",{children:"ã¶ã©ã†ãƒ»ãƒ¬ãƒ¼ã‚ºãƒ³"}),"ï¼šè…ä¸å…¨ã‚’å¼•ãèµ·ã“ã™ã“ã¨ãŒã‚ã‚Šã€å°‘é‡ã§ã‚‚å±é™ºã€‚"]}),e.jsxs("li",{children:[e.jsx("b",{children:"ç‰ã­ããƒ»ã­ãé¡"}),"ï¼šèµ¤è¡€çƒã‚’å£Šã—ã€è²§è¡€ã‚„è¡€å°¿ã®åŸå› ã«ã€‚"]}),e.jsxs("li",{children:[e.jsx("b",{children:"ã‚¢ãƒœã‚«ãƒ‰"}),"ï¼šãƒšãƒ«ã‚·ãƒ³ã¨ã„ã†æˆåˆ†ãŒä¸­æ¯’ã‚’èµ·ã“ã™ã€‚"]}),e.jsxs("li",{children:[e.jsx("b",{children:"ã‚­ã‚·ãƒªãƒˆãƒ¼ãƒ«"}),"ï¼šè¡€ç³–å€¤ã®æ€¥æ¿€ãªä½ä¸‹ã‚„è‚éšœå®³ã‚’å¼•ãèµ·ã“ã™ã€‚"]}),e.jsxs("li",{children:[e.jsx("b",{children:"ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ãƒ»ã‚«ãƒ•ã‚§ã‚¤ãƒ³"}),"ï¼šä¸­æ¢ç¥çµŒã«ä½œç”¨ã—ã€å‘½ã«é–¢ã‚ã‚‹ã€‚"]})]}),e.jsx("p",{children:"äººé–“ã«ã¯ç„¡å®³ã§ã‚‚ã€ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã«ã¯å±é™ºãªé£ŸæãŒå¤šãã‚ã‚Šã¾ã™ã€‚é£Ÿå“ã‚„ã‚´ãƒŸç®±ã®ç®¡ç†ã€èª¤é£Ÿæ™‚ã®æ—©æœŸå—è¨ºãŒå¤§åˆ‡ã§ã™ã€‚"})]})}},Symbol.toStringTag,{value:"Module"})),K=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return e.jsxs("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ç”¨ãŠã‚„ã¤ã‚„ãŠã‚‚ã¡ã‚ƒã®é‡è¦æ€§"}),e.jsx("img",{src:"https://images.pexels.com/photos/1108097/pexels-photo-1108097.jpeg?auto=compress&w=400",alt:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ç”¨ãŠã‚„ã¤ã¨ãŠã‚‚ã¡ã‚ƒ",className:"w-full max-w-md mx-auto rounded-lg mb-6"}),e.jsx("p",{className:"mb-4",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ç”¨ãŠã‚„ã¤ã‚„ãŠã‚‚ã¡ã‚ƒã¯ã€æ­¯ã¿ãŒãåŠ¹æœã‚„ã‚¹ãƒˆãƒ¬ã‚¹ç™ºæ•£ãªã©ã€å¥åº·ç¶­æŒã«å½¹ç«‹ã¡ã¾ã™ã€‚é¸ã³æ–¹ã®ãƒã‚¤ãƒ³ãƒˆã‚‚ç´¹ä»‹ã—ã¾ã™ã€‚"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsx("li",{children:"æ­¯ã¿ãŒãã‚¬ãƒ ã‚„å™›ã‚€ãŠã‚‚ã¡ã‚ƒã¯ã€æ­¯çŸ³äºˆé˜²ã‚„ã‚¹ãƒˆãƒ¬ã‚¹è§£æ¶ˆã«å½¹ç«‹ã¤ã€‚"}),e.jsx("li",{children:"å®‰å…¨ãªç´ æãƒ»ã‚µã‚¤ã‚ºã‚’é¸ã³ã€èª¤é£²ã«æ³¨æ„ã€‚"}),e.jsx("li",{children:"ä¸ãˆã™ãã‚„å£Šã‚ŒãŸãŠã‚‚ã¡ã‚ƒã¯NGã€‚"})]}),e.jsx("p",{children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æ€§æ ¼ã‚„å¹´é½¢ã«åˆã£ãŸã‚‚ã®ã‚’é¸ã³ã¾ã—ã‚‡ã†ã€‚"})]})}},Symbol.toStringTag,{value:"Module"})),H=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return e.jsxs("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"ãƒ•ã‚£ãƒ©ãƒªã‚¢ãƒ»ãƒ€ãƒ‹ãƒ»ãƒãƒŸãªã©å¯„ç”Ÿè™«ã®å±é™ºæ€§"}),e.jsx("img",{src:"https://images.pexels.com/photos/458799/pexels-photo-458799.jpeg?auto=compress&w=400",alt:"å¯„ç”Ÿè™«å¯¾ç­–",className:"w-full max-w-md mx-auto rounded-lg mb-6"}),e.jsx("p",{className:"mb-4",children:"å¯„ç”Ÿè™«ã¯ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®å¥åº·ã‚’è„…ã‹ã™ã ã‘ã§ãªãã€äººã«ã‚‚æ„ŸæŸ“ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ä¸»ãªç—‡çŠ¶ã‚„äºˆé˜²ãƒ»å¯¾ç­–ã‚’è§£èª¬ã—ã¾ã™ã€‚"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsxs("li",{children:[e.jsx("b",{children:"ãƒ•ã‚£ãƒ©ãƒªã‚¢"}),"ï¼šèšŠãŒåª’ä»‹ã—ã€å¿ƒè‡“ã‚„è‚ºã«å¯„ç”Ÿã€‚å’³ãƒ»å…ƒæ°—æ¶ˆå¤±ãƒ»é‡ç—‡åŒ–ã§æ­»ã«è‡³ã‚‹ã€‚"]}),e.jsxs("li",{children:[e.jsx("b",{children:"ãƒãƒŸãƒ»ãƒ€ãƒ‹"}),"ï¼šçš®è†šç‚ãƒ»è²§è¡€ãƒ»ãƒãƒ™ã‚·ã‚¢ç—‡ãªã©ã€‚äººã«ã‚‚æ„ŸæŸ“ã™ã‚‹ã“ã¨ãŒã€‚"]})]}),e.jsx("p",{children:"æ¯æœˆã®äºˆé˜²è–¬ã‚„ã€æ•£æ­©å¾Œã®ãƒã‚§ãƒƒã‚¯ã§ã—ã£ã‹ã‚Šå¯¾ç­–ã—ã¾ã—ã‚‡ã†ã€‚"})]})}},Symbol.toStringTag,{value:"Module"})),Q=Object.freeze(Object.defineProperty({__proto__:null,default:function(){return e.jsxs("div",{className:"max-w-2xl mx-auto py-8 px-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"ãƒ‰ãƒƒã‚°ã‚·ãƒ§ãƒ¼ã«ã¤ã„ã¦"}),e.jsx("img",{src:"https://images.pexels.com/photos/458804/pexels-photo-458804.jpeg?auto=compress&w=400",alt:"ãƒ‰ãƒƒã‚°ã‚·ãƒ§ãƒ¼",className:"w-full max-w-md mx-auto rounded-lg mb-6"}),e.jsx("p",{className:"mb-4",children:"ãƒ‰ãƒƒã‚°ã‚·ãƒ§ãƒ¼ã¯ãƒ¯ãƒ³ã¡ã‚ƒã‚“ç¨®ã”ã¨ã®ç¾ã—ã•ã‚„èƒ½åŠ›ã‚’ç«¶ã†ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚è¦³è¦§ã‚„å‚åŠ ã®æ–¹æ³•ã€ä»Šå¾Œã®ææ¡ˆã‚³ãƒ¼ãƒŠãƒ¼ã‚‚ç´¹ä»‹ã—ã¾ã™ã€‚"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsx("li",{children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ç¨®ã”ã¨ã®ç¾ã—ã•ã‚„èƒ½åŠ›ã‚’ç«¶ã†ã‚¤ãƒ™ãƒ³ãƒˆã€‚ãƒ—ãƒ­ãƒ»ã‚¢ãƒå•ã‚ãšå‚åŠ å¯èƒ½ã€‚"}),e.jsx("li",{children:"è¦³è¦§ã¯èª°ã§ã‚‚OKã€‚ãƒ¯ãƒ³ã¡ã‚ƒã‚“å¥½ãåŒå£«ã®äº¤æµã®å ´ã«ã‚‚ã€‚"}),e.jsx("li",{children:"ã€Œã†ã¡ã®å­ã‚‚å‡ºã¦ã¿ãŸã„ï¼ã€ã¨ã„ã†æ–¹ã¯ã€ä¸»å‚¬å›£ä½“ã‚„ã‚¯ãƒ©ãƒ–ã«ç›¸è«‡ã‚’ã€‚"})]}),e.jsx("p",{children:"ä»Šå¾Œã€åœ°åŸŸã®ãƒ‰ãƒƒã‚°ã‚·ãƒ§ãƒ¼æƒ…å ±ã‚„ä½“é¨“ãƒ¬ãƒãƒ¼ãƒˆã‚‚æ²è¼‰äºˆå®šã§ã™ï¼"})]})}},Symbol.toStringTag,{value:"Module"})),X=Object.freeze(Object.defineProperty({__proto__:null,DogProfile:function(){const{id:s,dogId:r}=h(),{user:t}=S();p();const[a,i]=m.useState(null),[o,n]=m.useState(!0),[c,d]=m.useState(""),[u,w]=m.useState(""),[_,C]=m.useState(!1),[$,k]=m.useState(!1),[I,q]=m.useState([]),[P,z]=m.useState(!1),[M,T]=m.useState(0),[O,R]=m.useState(!1),V=s||r;m.useEffect((()=>{V&&(F(),t&&(U(),A()))}),[V,t]);const F=async()=>{try{n(!0),d("");const{data:e,error:s}=await E.from("dogs").select("*").eq("id",V).single();if(s)throw s;i(e),T(e.like_count||0);const{data:r,error:t}=await E.from("reservations").select("\n          *,\n          dog_park:dog_parks(*)\n        ").eq("dog_id",V).eq("status","confirmed");if(t)throw t;const a={};(r||[]).forEach((e=>{const s=e.park_id;e.dog_park&&(a[s]||(a[s]={park:e.dog_park,visits:0}),a[s].visits++)}));const l=Object.values(a).sort(((e,s)=>s.visits-e.visits)).slice(0,3);q(l)}catch(e){d("ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚")}finally{n(!1)}},U=async()=>{if(t&&V)try{const{data:e}=await E.from("dogs").select("owner_id").eq("id",V).single();if(!e)return;const{data:s,error:r}=await E.from("friend_requests").select("id, status").or(`and(requester_id.eq.${t.id},requested_id.eq.${e.owner_id}),and(requester_id.eq.${e.owner_id},requested_id.eq.${t.id})`).maybeSingle();!r&&s&&k(!0)}catch(e){}},A=async()=>{if(t&&V)try{const{data:e,error:s}=await E.from("dog_likes").select("id").eq("user_id",t.id).eq("dog_id",V).maybeSingle();!s&&e&&z(!0)}catch(e){}};return o?e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):c||!a?e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(l,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c||"ãƒ¯ãƒ³ã¡ã‚ƒã‚“ã®æƒ…å ±ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚"}),e.jsx(x,{to:"/",children:e.jsxs(N,{variant:"primary",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹"]})})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(x,{to:"/",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹"]})}),u&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 rounded-lg flex items-start",children:[e.jsx(b,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{className:"text-green-800",children:u})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-48 h-48 bg-gray-200 rounded-lg overflow-hidden",children:a.image_url?e.jsx("img",{src:a.image_url,alt:a.name,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="https://images.pexels.com/photos/58997/pexels-photo-58997.jpeg?auto=compress&cs=tinysrgb&w=300"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(l,{className:"w-12 h-12"})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:[a.name,(L=a.gender,"ã‚ªã‚¹"===L?"ãã‚“":"ã¡ã‚ƒã‚“")]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"w-5 h-5 text-gray-500 mr-3"}),e.jsxs("span",{className:"text-lg text-gray-700",children:[(e=>{const s=new Date,r=new Date(e);let t=s.getFullYear()-r.getFullYear();const a=s.getMonth()-r.getMonth();return(a<0||0===a&&s.getDate()<r.getDate())&&t--,t})(a.birth_date),"æ­³"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(l,{className:"w-5 h-5 text-gray-500 mr-3"}),e.jsx("span",{className:"text-lg text-gray-700",children:a.breed})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"w-5 h-5 text-gray-500 mr-3"}),e.jsx("span",{className:"text-lg text-gray-700",children:a.gender})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[M,"ä»¶ã®ã„ã„ã­"]})}),t&&e.jsxs(N,{onClick:async()=>{if(t&&a&&!O){R(!0);try{if(P){const{error:e}=await E.from("dog_likes").delete().eq("user_id",t.id).eq("dog_id",a.id);if(e)throw e;z(!1),T((e=>e-1)),w("ã„ã„ã­ã‚’å–ã‚Šæ¶ˆã—ã¾ã—ãŸ")}else{const{error:e}=await E.from("dog_likes").insert({user_id:t.id,dog_id:a.id});if(e)throw e;z(!0),T((e=>e+1)),w("ã„ã„ã­ã—ã¾ã—ãŸ")}setTimeout((()=>w("")),2e3)}catch(e){d("ã„ã„ã­ã®å‡¦ç†ã«å¤±æ•—ã—ã¾ã—ãŸ"),setTimeout((()=>d("")),3e3)}finally{R(!1)}}},disabled:O,variant:P?"primary":"secondary",size:"sm",className:"px-4 py-2 "+(P?"bg-pink-500 hover:bg-pink-600 text-white":"bg-white hover:bg-pink-50 text-pink-600 border-pink-300"),children:[e.jsx(j,{className:"w-4 h-4 mr-1 "+(P?"fill-current":"")}),P?"ã„ã„ã­æ¸ˆã¿":"ã„ã„ã­"]})]})}),t&&a.owner_id!==t.id&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("div",{className:"text-center",children:$?e.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[e.jsx(b,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"å‹é”ç”³è«‹æ¸ˆã¿"})]}):e.jsxs(N,{onClick:async()=>{if(t&&a){C(!0);try{const{error:e}=await E.from("friend_requests").insert({requester_id:t.id,requested_id:a.owner_id,message:"ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã§ãŠä¼šã„ã—ãŸéš›ã¯ã€ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼"});if(e)throw e;k(!0),w("å‹é”ç”³è«‹ã‚’é€ä¿¡ã—ã¾ã—ãŸ"),setTimeout((()=>w("")),3e3)}catch(e){d("å‹é”ç”³è«‹ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ"),setTimeout((()=>d("")),3e3)}finally{C(!1)}}},isLoading:_,className:"px-8 py-3",children:[e.jsx(y,{className:"w-5 h-5 mr-2"}),"å‹é”ç”³è«‹ã‚’é€ã‚‹"]})}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"å‹é”ç”³è«‹ã«ã¤ã„ã¦"}),e.jsx("p",{children:"å‹é”ç”³è«‹ã‚’é€ã‚‹ã¨ã€ç›¸æ‰‹ã®é£¼ã„ä¸»ã•ã‚“ã«é€šçŸ¥ãŒå±Šãã¾ã™ã€‚ æ‰¿èªã•ã‚Œã‚‹ã¨ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚„ã‚Šå–ã‚ŠãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚"})]})})]})]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(D,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(v,{className:"w-5 h-5 text-green-600 mr-2"}),"ã‚ˆãéŠã¶ãƒ‰ãƒƒã‚°ãƒ©ãƒ³"]}),I.length>0?e.jsx("div",{className:"space-y-3",children:I.map(((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.park.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.visits,"å›åˆ©ç”¨"]})]}),e.jsx("div",{className:"text-2xl",children:0===r?"ğŸ¥‡":1===r?"ğŸ¥ˆ":"ğŸ¥‰"})]},s.park.id)))}):e.jsx("p",{className:"text-gray-500",children:"ã¾ã ãƒ‰ãƒƒã‚°ãƒ©ãƒ³ã®åˆ©ç”¨å±¥æ­´ãŒã‚ã‚Šã¾ã›ã‚“"})]}),e.jsxs(D,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"ç™»éŒ²æ—¥"}),e.jsx("p",{className:"text-gray-700",children:new Date(a.created_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]});var L}},Symbol.toStringTag,{value:"Module"}));export{V as D,O as V,M as _,U as a,A as b,L as c,G as d,B as e,W as f,R as g,J as h,K as i,H as j,Q as k,X as l};
