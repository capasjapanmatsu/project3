import{j as e,B as m}from"./index-BB1ywuBb.js";import{d as _}from"./dogBreeds-CaddeN4P.js";import{I as l}from"./Input-Bmh34ZUQ.js";import{S as f}from"./Select-i_XUFhFt.js";import{g as k,V as C}from"./VaccineBadge-CDRo-PLS.js";import{P as J,Q as L,a3 as n,X as T,a as x,a4 as $,F as y,a5 as w}from"./ui-vendor-B2-VOB5s.js";function K({dog:a,onEdit:d}){const c=k(a),i=B(a.gender);return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:a.image_url?e.jsx("img",{src:a.image_url,alt:a.name,className:"w-full h-full object-cover"}):e.jsx(J,{className:"w-8 h-8 text-gray-500"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:[a.name,i]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a.breed," • ",a.gender]}),a.microchip_number&&e.jsxs("p",{className:"text-xs text-gray-500",children:["マイクロチップ: ",a.microchip_number]}),e.jsx("div",{className:"flex items-center space-x-2 mt-1",children:e.jsx(C,{status:c,size:"sm"})})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx(m,{size:"sm",className:"bg-blue-50 hover:bg-blue-100 text-blue-600 border-0",onClick:()=>d(a),children:e.jsx(L,{className:"w-4 h-4"})})})]})}function B(a){return a==="オス"?"くん":"ちゃん"}function R({dog:a,isUpdating:d,error:c,success:i,dogFormData:t,dogImagePreview:o,onClose:h,onSubmit:G,onDelete:b,onFormChange:r,onImageSelect:P,onImageRemove:E,rabiesVaccineFile:u,comboVaccineFile:g,rabiesExpiryDate:I,comboExpiryDate:q,onRabiesVaccineSelect:j,onComboVaccineSelect:N,onRabiesExpiryDateChange:S,onComboExpiryDateChange:z}){if(!a)return null;const p=B(a.gender),v=k(a);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold",children:[a.name,p,"の情報編集"]}),e.jsxs("div",{className:"flex space-x-2",children:[b&&e.jsx("button",{type:"button",onClick:()=>{window.confirm(`${a.name}${p}を削除しますか？

この操作は元に戻せません。`)&&b(a)},className:"text-red-500 hover:text-red-700 p-1 rounded-lg hover:bg-red-50 transition-colors",title:"このワンちゃんを削除",children:e.jsx(n,{className:"w-5 h-5"})}),e.jsx("button",{onClick:h,className:"text-gray-500 hover:text-gray-700 p-1 rounded-lg hover:bg-gray-100 transition-colors",title:"編集を閉じる",children:e.jsx(T,{className:"w-5 h-5"})})]})]}),c&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:c}),i&&e.jsxs("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded-lg flex items-center",children:[e.jsx(x,{className:"w-5 h-5 mr-2"}),i]}),e.jsx("form",{onSubmit:G,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"基本情報"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ワンちゃんの写真"}),o?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o,alt:"ワンちゃんのプレビュー",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-300"}),e.jsx("button",{type:"button",onClick:E,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:e.jsx(n,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden",id:"dog-image-edit"}),e.jsxs("label",{htmlFor:"dog-image-edit",className:"cursor-pointer flex flex-col items-center",children:[e.jsx($,{className:"w-12 h-12 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"クリックして画像を選択"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (最大10MB)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(l,{label:"名前",value:t.name,onChange:s=>r({...t,name:s.target.value}),required:!0}),e.jsx(f,{label:"犬種",options:_.map(s=>({value:s,label:s})),value:t.breed,onChange:s=>r({...t,breed:s.target.value}),required:!0}),e.jsx(f,{label:"性別",options:[{value:"",label:"性別を選択してください"},{value:"オス",label:"オス"},{value:"メス",label:"メス"}],value:t.gender,onChange:s=>r({...t,gender:s.target.value}),required:!0}),e.jsx(l,{label:"生年月日",type:"date",value:t.birthDate,onChange:s=>r({...t,birthDate:s.target.value}),required:!0}),e.jsx(l,{label:"マイクロチップNO",type:"text",value:t.microchipNumber,onChange:s=>r({...t,microchipNumber:s.target.value}),placeholder:"15桁の数字（任意）",maxLength:15})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(x,{className:"w-5 h-5 mr-2"}),"ワクチン証明書"]}),e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"現在のステータス:"}),e.jsx(C,{status:v,size:"md"})]}),v==="pending"&&e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"新しい証明書をアップロードすると、再度承認待ち状態になります。"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"狂犬病ワクチン証明書"}),u?e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800",children:u.name}),e.jsx("button",{type:"button",onClick:()=>{const s=document.getElementById("rabies-vaccine-edit");s&&(s.value=""),j({target:{files:[]}})},className:"text-red-600 hover:text-red-800",children:e.jsx(n,{className:"w-4 h-4"})})]})}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden",id:"rabies-vaccine-edit"}),e.jsxs("label",{htmlFor:"rabies-vaccine-edit",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(w,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"証明書をアップロード"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (最大10MB)"})]})]}),e.jsx(l,{label:"有効期限",type:"date",value:I,onChange:s=>S(s.target.value),className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"混合ワクチン証明書"}),g?e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800",children:g.name}),e.jsx("button",{type:"button",onClick:()=>{const s=document.getElementById("combo-vaccine-edit");s&&(s.value=""),N({target:{files:[]}})},className:"text-red-600 hover:text-red-800",children:e.jsx(n,{className:"w-4 h-4"})})]})}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden",id:"combo-vaccine-edit"}),e.jsxs("label",{htmlFor:"combo-vaccine-edit",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(w,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"証明書をアップロード"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, GIF (最大10MB)"})]})]}),e.jsx(l,{label:"有効期限",type:"date",value:q,onChange:s=>z(s.target.value),className:"mt-2"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"注意:"})," 新しいワクチン証明書をアップロードすると、管理者による再承認が必要になります。 承認されるまでドッグランのご利用はできません。"]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx(m,{type:"button",className:"bg-white hover:bg-gray-50 border border-gray-300 text-gray-700",onClick:h,children:"キャンセル"}),e.jsxs(m,{type:"submit",isLoading:d,children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"保存"]})]})]})})]})})})}export{K as D,R as a};
