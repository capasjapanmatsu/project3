import{j as e,r as ve,B as le,v as Ne,g as U,p as z,w as Ke,i as Ee,x as Qe,F as Xe,y as ke,A as Ze,C as Te,X as es,t as ss,z as ts,P as as,G as ye,J as rs,N as ns,O as ls,q as is,b as os,U as cs,k as we,Q as $}from"./ui-vendor-FlUr4cJt.js";import{L as D,R as _e,u as ds,d as ms,r as v}from"./react-vendor-_GyjDmDn.js";import{C as R,B as C,s as y,u as xs,b as us}from"./index-BSYT0262.js";import{D as gs,a as hs}from"./DogCard-r50InAfs.js";import{h as fs}from"./vaccineUploadFixed-mws0h5s7.js";import"./supabase-vendor-Df9iqQzW.js";import"./Input-wBkmcJUR.js";import"./Select-BEASmsUK.js";import"./dogBreeds-CaddeN4P.js";import"./VaccineBadge-Cj0fQWh5.js";const ps=({dogs:s,user:n,selectedDog:t,showDogEditModal:a,isUpdatingDog:r,dogUpdateError:c,dogUpdateSuccess:b,dogFormData:d,dogImageFile:h,dogImagePreview:m,rabiesVaccineFile:o,comboVaccineFile:N,rabiesExpiryDate:p,comboExpiryDate:x,onDogSelect:_,onCloseDogEditModal:i,onUpdateDog:j,onDeleteDog:u,onDogImageSelect:g,onDogImageRemove:w,onRabiesVaccineSelect:L,onComboVaccineSelect:P,onFormDataChange:oe,onRabiesExpiryDateChange:K,onComboExpiryDateChange:O})=>e.jsxs(R,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🐕"}),"登録済みの愛犬"]}),e.jsxs("a",{href:"/register-dog",className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md text-sm font-medium inline-flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"愛犬を登録"]})]}),s.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🐕"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"まだ愛犬が登録されていません"}),e.jsx("p",{className:"text-sm mb-4",children:"ドッグランを利用するために、愛犬の情報を登録してください"}),e.jsxs("a",{href:"/register-dog",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md font-medium inline-flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"愛犬を登録"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(M=>e.jsx(gs,{dog:M,onEdit:()=>_(M)},M.id))}),a&&t&&e.jsx(hs,{dog:t,isUpdating:r,error:c,success:b,dogFormData:d,dogImagePreview:m,onClose:i,onSubmit:j,onDelete:u,onFormChange:oe,onImageSelect:g,onImageRemove:w,rabiesVaccineFile:o,comboVaccineFile:N,rabiesExpiryDate:p,comboExpiryDate:x,onRabiesVaccineSelect:L,onComboVaccineSelect:P,onRabiesExpiryDateChange:K,onComboExpiryDateChange:O})]}),bs=({notifications:s,onMarkAsRead:n})=>{const t=a=>{switch(a){case"reservation":return e.jsx(Ee,{className:"w-4 h-4 text-blue-600"});case"message":return e.jsx(Ke,{className:"w-4 h-4 text-green-600"});case"park_approval":return e.jsx(z,{className:"w-4 h-4 text-purple-600"});case"vaccine_approval":return e.jsx(U,{className:"w-4 h-4 text-green-600"});default:return e.jsx(le,{className:"w-4 h-4 text-gray-600"})}};return e.jsxs(R,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(le,{className:"w-5 h-5 mr-2"}),"通知",s.length>0&&e.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-1",children:s.length})]}),s.length>0&&e.jsxs(C,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{s.forEach(a=>{n(a.id)})},children:[e.jsx(Ne,{className:"w-4 h-4 mr-2"}),"すべて既読にする"]})]}),s.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🔔"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"新しい通知はありません"}),e.jsx("p",{className:"text-sm",children:"最新の情報やお知らせがあるとここに表示されます"})]}):e.jsx("div",{className:"space-y-4",children:s.map(a=>e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:t(a.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(a.created_at).toLocaleString("ja-JP")})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(C,{size:"sm",onClick:()=>n(a.id),className:"bg-blue-600 hover:bg-blue-700 text-white",children:e.jsx(Ne,{className:"w-4 h-4"})})})]},a.id))})]})};function js({park:s,onSelect:n}){const t=a=>{a.target.closest(".detail-button")||n(s)};return e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:t,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.address}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Qe,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm",children:s.average_rating.toFixed(1)})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[s.review_count,"件のレビュー"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[Ce(s.status),s.status==="second_stage_waiting"?e.jsx(D,{to:`/parks/${s.id}/second-stage`,className:"detail-button",children:e.jsxs(C,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white",children:[e.jsx(Xe,{className:"w-4 h-4 mr-1"}),"申し込み"]})}):e.jsx(C,{size:"sm",className:"bg-white hover:bg-gray-50 border border-gray-300 text-gray-700 detail-button",children:e.jsx(ke,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:["料金: ¥",s.price,"/日"]}),e.jsxs("div",{children:["収容人数: ",s.max_capacity,"人"]}),e.jsxs("div",{children:["現在の利用者: ",s.current_occupancy,"人"]}),e.jsxs("div",{children:["レビュー: ★",s.average_rating.toFixed(1)]})]}),s.status==="pending"&&e.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 rounded text-sm text-yellow-800",children:[e.jsx(Ze,{className:"w-4 h-4 inline mr-1"}),"管理者による承認をお待ちください"]}),s.status==="first_stage_passed"&&e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 rounded text-sm text-blue-800",children:[e.jsx(U,{className:"w-4 h-4 inline mr-1"}),"第一審査通過！第二審査の詳細情報を入力してください"]}),s.status==="second_stage_review"&&e.jsxs("div",{className:"mt-3 p-2 bg-purple-50 rounded text-sm text-purple-800",children:[e.jsx(Te,{className:"w-4 h-4 inline mr-1"}),"第二審査中です。審査完了までお待ちください"]}),s.status==="second_stage_waiting"&&e.jsxs("div",{className:"mt-3 p-2 bg-orange-50 rounded text-sm text-orange-800",children:[e.jsx(U,{className:"w-4 h-4 inline mr-1"}),"第一審査通過！第二審査の申し込みが可能です"]})]})}function Ce(s){const n={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",confirmed:"bg-blue-100 text-blue-800",cancelled:"bg-gray-100 text-gray-800",first_stage_passed:"bg-blue-100 text-blue-800",second_stage_waiting:"bg-orange-100 text-orange-800",second_stage_review:"bg-purple-100 text-purple-800",qr_testing:"bg-orange-100 text-orange-800"},t={pending:"承認待ち",approved:"承認済み",rejected:"却下",confirmed:"確定",cancelled:"キャンセル",first_stage_passed:"第一審査通過",second_stage_waiting:"二次審査申し込み",second_stage_review:"第二審査中",qr_testing:"QR検査中"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${n[s]||"bg-gray-100 text-gray-800"}`,children:t[s]||s})}function vs({park:s,onClose:n}){return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold",children:[s.name,"の管理"]}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:e.jsx(es,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"基本情報"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"住所:"})," ",s.address]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ステータス:"})," ",Ce(s.status)]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"料金:"})," ¥",s.price,"/日"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"最大収容人数:"})," ",s.max_capacity,"人"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"現在の利用者数:"})," ",s.current_occupancy,"人"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"評価:"})," ★",s.average_rating.toFixed(1)," (",s.review_count,"件)"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"設備情報"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries({parking:"駐車場",shower:"シャワー設備",restroom:"トイレ",agility:"アジリティ設備",rest_area:"休憩スペース",water_station:"給水設備"}).map(([t,a])=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-4 h-4 rounded ${s.facilities[t]?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-sm",children:a})]},t))})]})]}),s.status==="first_stage_passed"&&e.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(U,{className:"w-5 h-5 text-blue-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"第一審査通過"}),e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"おめでとうございます！第一審査に通過しました。次は詳細な施設情報と画像のアップロードが必要です。"}),e.jsx(D,{to:`/parks/${s.id}/second-stage`,children:e.jsx(C,{className:"bg-blue-600 hover:bg-blue-700",children:"第二審査を進める"})})]})]})}),s.status==="second_stage_review"&&e.jsx("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Te,{className:"w-5 h-5 text-purple-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"第二審査中"}),e.jsx("p",{className:"text-sm text-purple-800",children:"現在、管理者が施設画像を確認しています。審査完了までお待ちください。 審査には通常3-5営業日かかります。結果はメールとアプリ内通知でお知らせします。"})]})]})}),s.status==="approved"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"統計情報"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsx("h4",{className:"font-medium text-blue-900",children:"今月の予約"})}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"32件"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"前月比 +12%"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ns,{className:"w-5 h-5 text-green-600"}),e.jsx("h4",{className:"font-medium text-green-900",children:"今月の収益"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"¥25,600"}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"前月比 +8%"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ys,{className:"w-5 h-5 text-purple-600"}),e.jsx("h4",{className:"font-medium text-purple-900",children:"利用者数"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"128人"}),e.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"前月比 +15%"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.status==="approved"&&e.jsx(D,{to:`/parks/${s.id}`,children:e.jsxs(C,{className:"w-full bg-white hover:bg-gray-50 border border-gray-300 text-gray-700",children:[e.jsx(ss,{className:"w-4 h-4 mr-2"}),"公開ページを見る"]})}),s.status==="approved"&&e.jsx(D,{to:"/owner-payment-system",children:e.jsxs(C,{className:"w-full bg-white hover:bg-gray-50 border border-gray-300 text-gray-700",children:[e.jsx(ts,{className:"w-4 h-4 mr-2"}),"収益レポート"]})}),s.status==="second_stage_review"?e.jsx("div",{className:"w-full text-center py-3 text-gray-600 text-sm bg-gray-50 rounded border",children:"審査中のため操作できません"}):e.jsx(D,{to:s.status==="first_stage_passed"||s.status==="second_stage_waiting"?`/parks/${s.id}/second-stage`:`/parks/${s.id}/manage`,children:e.jsx(C,{className:"w-full",children:s.status==="first_stage_passed"||s.status==="second_stage_waiting"?e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),s.status==="second_stage_waiting"?"第二審査を申し込む":"第二審査を進める"]}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),s.status==="approved"?"設定を編集":"詳細を見る"]})})})]})]})})})}function Ns({className:s}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}function ys({className:s}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function ws({className:s}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}const V=({icon:s,label:n,value:t,color:a,trend:r})=>{const c={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600",orange:"bg-orange-50 text-orange-600"},b={up:e.jsx(ls,{className:"w-4 h-4 text-green-500"}),down:e.jsx(ns,{className:"w-4 h-4 text-red-500"}),neutral:e.jsx(rs,{className:"w-4 h-4 text-gray-500"})};return e.jsxs(R,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${c[a]}`,children:s}),e.jsx("div",{className:"flex items-center space-x-1",children:b[r]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t}),e.jsx("p",{className:"text-sm text-gray-600",children:n})]})]})},_s=({dogs:s,ownedParks:n,recentReservations:t,profile:a})=>{const r=()=>{const o=s.filter(x=>x.vaccine_certifications?.some(_=>_.status==="approved")).length,N=s.filter(x=>x.vaccine_certifications?.some(_=>_.status==="pending")).length,p=s.length;return{approved:o,pending:N,total:p}},c=()=>{const o=n.filter(x=>x.status==="approved").length,N=n.filter(x=>x.status==="pending").length,p=n.length;return{approved:o,pending:N,total:p}},b=()=>{const o=new Date;o.setDate(1),o.setHours(0,0,0,0);const N=t.filter(x=>new Date(x.created_at)>=o).length,p=t.length;return{monthly:N,total:p}},d=r(),h=c(),m=b();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(V,{icon:e.jsx(as,{className:"w-6 h-6"}),label:"登録済みの愛犬",value:s.length,color:"blue",trend:s.length>0?"up":"neutral"}),e.jsx(V,{icon:e.jsx(Ee,{className:"w-6 h-6"}),label:"今月の予約",value:m.monthly,color:"green",trend:m.monthly>0?"up":"neutral"}),e.jsx(V,{icon:e.jsx(z,{className:"w-6 h-6"}),label:"所有施設",value:n.length,color:"purple",trend:n.length>0?"up":"neutral"}),e.jsx(V,{icon:e.jsx(ye,{className:"w-6 h-6"}),label:"総予約数",value:m.total,color:"orange",trend:m.total>0?"up":"neutral"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(ye,{className:"w-5 h-5 mr-2"}),"ワクチン証明書の状況"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[d.total,"頭中"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"承認済み"})]}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[d.approved,"頭"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"審査中"})]}),e.jsxs("span",{className:"text-sm font-medium text-yellow-600",children:[d.pending,"頭"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),e.jsx("span",{className:"text-sm",children:"未登録"})]}),e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[d.total-d.approved-d.pending,"頭"]})]})]}),d.total>0&&e.jsx("div",{className:"mt-4 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${d.approved/d.total*100}%`}})})]}),a?.user_type==="owner"&&e.jsxs(R,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(z,{className:"w-5 h-5 mr-2"}),"施設管理状況"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[h.total,"施設"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"運営中"})]}),e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[h.approved,"施設"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"審査中"})]}),e.jsxs("span",{className:"text-sm font-medium text-yellow-600",children:[h.pending,"施設"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),e.jsx("span",{className:"text-sm",children:"その他"})]}),e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[h.total-h.approved-h.pending,"施設"]})]})]}),h.total>0&&e.jsx("div",{className:"mt-4 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${h.approved/h.total*100}%`}})})]})]})]})},Se=s=>{let n;const t=new Set,a=(m,o)=>{const N=typeof m=="function"?m(n):m;if(!Object.is(N,n)){const p=n;n=o??(typeof N!="object"||N===null)?N:Object.assign({},n,N),t.forEach(x=>x(n,p))}},r=()=>n,d={setState:a,getState:r,getInitialState:()=>h,subscribe:m=>(t.add(m),()=>t.delete(m))},h=n=s(a,r,d);return d},Ss=s=>s?Se(s):Se,Ds=s=>s;function Is(s,n=Ds){const t=_e.useSyncExternalStore(s.subscribe,()=>n(s.getState()),()=>n(s.getInitialState()));return _e.useDebugValue(t),t}const De=s=>{const n=Ss(s),t=a=>Is(n,a);return Object.assign(t,n),t},Le=s=>s?De(s):De,Ie={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GOOGLE_MAPS_API_KEY:"AIzaSyC9sxGamDZmdKIz3vP1CWLJORl-QkoWgHg",VITE_NETLIFY_API_KEY:"your_netlify_api_key",VITE_PAYPAY_API_KEY:"",VITE_PAYPAY_MERCHANT_ID:"",VITE_PAYPAY_SECRET_KEY:"",VITE_STRIPE_PUBLIC_KEY:"pk_live_51RYUXtAHWLDQ7ynZJ2Rse439JRUesTrISQjlUpQLJs4RKprLygju98sbPHbhXwSixvYxo2pyo1c5uo4j93pQieSt00z0re16rJ",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9ubWNpdnd4dHpxYWpjb3ZwdGdmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxODk3OTUsImV4cCI6MjA2NDc2NTc5NX0.AqFCz3GQUVeGaG2988LCzsE4aJpeio3xScoxv5T0-OU",VITE_SUPABASE_URL:"https://onmcivwxtzqajcovptgf.supabase.co"},q=new Map,W=s=>{const n=q.get(s);return n?Object.fromEntries(Object.entries(n.stores).map(([t,a])=>[t,a.getState()])):{}},Es=(s,n,t)=>{if(s===void 0)return{type:"untracked",connection:n.connect(t)};const a=q.get(t.name);if(a)return{type:"tracked",store:s,...a};const r={connection:n.connect(t),stores:{}};return q.set(t.name,r),{type:"tracked",store:s,...r}},ks=(s,n)=>{if(n===void 0)return;const t=q.get(s);t&&(delete t.stores[n],Object.keys(t.stores).length===0&&q.delete(s))},Ts=s=>{var n,t;if(!s)return;const a=s.split(`
`),r=a.findIndex(b=>b.includes("api.setState"));if(r<0)return;const c=((n=a[r+1])==null?void 0:n.trim())||"";return(t=/.+ (.+) .+/.exec(c))==null?void 0:t[1]},Cs=(s,n={})=>(t,a,r)=>{const{enabled:c,anonymousActionType:b,store:d,...h}=n;let m;try{m=(c??(Ie?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!m)return s(t,a,r);const{connection:o,...N}=Es(d,m,h);let p=!0;r.setState=(i,j,u)=>{const g=t(i,j);if(!p)return g;const w=u===void 0?{type:b||Ts(new Error().stack)||"anonymous"}:typeof u=="string"?{type:u}:u;return d===void 0?(o?.send(w,a()),g):(o?.send({...w,type:`${d}/${w.type}`},{...W(h.name),[d]:r.getState()}),g)},r.devtools={cleanup:()=>{o&&typeof o.unsubscribe=="function"&&o.unsubscribe(),ks(h.name,d)}};const x=(...i)=>{const j=p;p=!1,t(...i),p=j},_=s(r.setState,a,r);if(N.type==="untracked"?o?.init(_):(N.stores[N.store]=r,o?.init(Object.fromEntries(Object.entries(N.stores).map(([i,j])=>[i,i===N.store?_:j.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){let i=!1;const j=r.dispatch;r.dispatch=(...u)=>{(Ie?"production":void 0)!=="production"&&u[0].type==="__setState"&&!i&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),i=!0),j(...u)}}return o.subscribe(i=>{var j;switch(i.type){case"ACTION":if(typeof i.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return ne(i.payload,u=>{if(u.type==="__setState"){if(d===void 0){x(u.state);return}Object.keys(u.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const g=u.state[d];if(g==null)return;JSON.stringify(r.getState())!==JSON.stringify(g)&&x(g);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(u)});case"DISPATCH":switch(i.payload.type){case"RESET":return x(_),d===void 0?o?.init(r.getState()):o?.init(W(h.name));case"COMMIT":if(d===void 0){o?.init(r.getState());return}return o?.init(W(h.name));case"ROLLBACK":return ne(i.state,u=>{if(d===void 0){x(u),o?.init(r.getState());return}x(u[d]),o?.init(W(h.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return ne(i.state,u=>{if(d===void 0){x(u);return}JSON.stringify(r.getState())!==JSON.stringify(u[d])&&x(u[d])});case"IMPORT_STATE":{const{nextLiftedState:u}=i.payload,g=(j=u.computedStates.slice(-1)[0])==null?void 0:j.state;if(!g)return;x(d===void 0?g:g[d]),o?.send(null,u);return}case"PAUSE_RECORDING":return p=!p}return}}),_},Re=Cs,ne=(s,n)=>{let t;try{t=JSON.parse(s)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}t!==void 0&&n(t)};function Ls(s,n){let t;try{t=s()}catch{return}return{getItem:r=>{var c;const b=h=>h===null?null:JSON.parse(h,void 0),d=(c=t.getItem(r))!=null?c:null;return d instanceof Promise?d.then(b):b(d)},setItem:(r,c)=>t.setItem(r,JSON.stringify(c,void 0)),removeItem:r=>t.removeItem(r)}}const ie=s=>n=>{try{const t=s(n);return t instanceof Promise?t:{then(a){return ie(a)(t)},catch(a){return this}}}catch(t){return{then(a){return this},catch(a){return ie(a)(t)}}}},Rs=(s,n)=>(t,a,r)=>{let c={storage:Ls(()=>localStorage),partialize:i=>i,version:0,merge:(i,j)=>({...j,...i}),...n},b=!1;const d=new Set,h=new Set;let m=c.storage;if(!m)return s((...i)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),t(...i)},a,r);const o=()=>{const i=c.partialize({...a()});return m.setItem(c.name,{state:i,version:c.version})},N=r.setState;r.setState=(i,j)=>{N(i,j),o()};const p=s((...i)=>{t(...i),o()},a,r);r.getInitialState=()=>p;let x;const _=()=>{var i,j;if(!m)return;b=!1,d.forEach(g=>{var w;return g((w=a())!=null?w:p)});const u=((j=c.onRehydrateStorage)==null?void 0:j.call(c,(i=a())!=null?i:p))||void 0;return ie(m.getItem.bind(m))(c.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==c.version){if(c.migrate){const w=c.migrate(g.state,g.version);return w instanceof Promise?w.then(L=>[!0,L]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var w;const[L,P]=g;if(x=c.merge(P,(w=a())!=null?w:p),t(x,!0),L)return o()}).then(()=>{u?.(x,void 0),x=a(),b=!0,h.forEach(g=>g(x))}).catch(g=>{u?.(void 0,g)})};return r.persist={setOptions:i=>{c={...c,...i},i.storage&&(m=i.storage)},clearStorage:()=>{m?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>_(),hasHydrated:()=>b,onHydrate:i=>(d.add(i),()=>{d.delete(i)}),onFinishHydration:i=>(h.add(i),()=>{h.delete(i)})},c.skipHydration||_(),x||p},As=Rs,Ps=Le()(Re(As((s,n)=>({user:null,isAuthenticated:!1,isLoading:!0,setUser:t=>s({user:t,isAuthenticated:!!t},!1,"setUser"),setLoading:t=>s({isLoading:t},!1,"setLoading"),login:async(t,a)=>{s({isLoading:!0},!1,"login/start");try{const{data:r,error:c}=await y.auth.signInWithPassword({email:t,password:a});if(c)throw c;if(r.user){const{data:b}=await y.from("profiles").select("name, role").eq("id",r.user.id).single(),d={id:r.user.id,email:r.user.email||"",name:b?.name,role:b?.role||"user"};return n().setUser(d),s({isLoading:!1},!1,"login/success"),!0}return s({isLoading:!1},!1,"login/failed"),!1}catch(r){return console.error("Login error:",r),s({isLoading:!1},!1,"login/error"),!1}},logout:async()=>{s({isLoading:!0},!1,"logout/start");try{await y.auth.signOut(),s({user:null,isAuthenticated:!1,isLoading:!1},!1,"logout/success")}catch(t){console.error("Logout error:",t),s({isLoading:!1},!1,"logout/error")}},checkAuth:async()=>{s({isLoading:!0},!1,"checkAuth/start");try{const{data:{session:t}}=await y.auth.getSession();if(t?.user){const{data:a}=await y.from("profiles").select("name, role").eq("id",t.user.id).single(),r={id:t.user.id,email:t.user.email||"",name:a?.name,role:a?.role||"user"};n().setUser(r)}else n().setUser(null)}catch(t){console.error("Auth check error:",t),n().setUser(null)}finally{s({isLoading:!1},!1,"checkAuth/complete")}},updateProfile:async t=>{const{user:a}=n();if(!a)return!1;try{const{error:r}=await y.from("profiles").update(t).eq("id",a.id);if(r)throw r;return s({user:{...a,...t}},!1,"updateProfile"),!0}catch(r){return console.error("Profile update error:",r),!1}}}),{name:"auth-store",partialize:s=>({user:s.user,isAuthenticated:s.isAuthenticated})}),{name:"auth-store"})),Os=Le()(Re((s,n)=>({isGlobalLoading:!1,loadingTasks:new Set,notifications:[],activeModal:null,isMenuOpen:!1,activeTab:"",theme:"light",isMobile:!1,isTablet:!1,setGlobalLoading:t=>s({isGlobalLoading:t},!1,"setGlobalLoading"),addLoadingTask:t=>s(a=>({loadingTasks:new Set([...a.loadingTasks,t]),isGlobalLoading:!0}),!1,"addLoadingTask"),removeLoadingTask:t=>s(a=>{const r=new Set(a.loadingTasks);return r.delete(t),{loadingTasks:r,isGlobalLoading:r.size>0}},!1,"removeLoadingTask"),addNotification:t=>{const a=Date.now().toString(),r={...t,id:a};s(b=>({notifications:[...b.notifications,r]}),!1,"addNotification");const c=t.duration||5e3;setTimeout(()=>{n().removeNotification(a)},c)},removeNotification:t=>s(a=>({notifications:a.notifications.filter(r=>r.id!==t)}),!1,"removeNotification"),clearNotifications:()=>s({notifications:[]},!1,"clearNotifications"),showModal:t=>{const a=Date.now().toString();s({activeModal:{...t,id:a}},!1,"showModal")},hideModal:()=>s({activeModal:null},!1,"hideModal"),setMenuOpen:t=>s({isMenuOpen:t},!1,"setMenuOpen"),setActiveTab:t=>s({activeTab:t},!1,"setActiveTab"),setTheme:t=>{s({theme:t},!1,"setTheme"),document.documentElement.className=t},toggleTheme:()=>{const t=n().theme==="light"?"dark":"light";n().setTheme(t)},setDeviceType:(t,a)=>s({isMobile:t,isTablet:a},!1,"setDeviceType")}),{name:"ui-store"}));function Vs(){const{user:s,logout:n,isAdmin:t}=xs(),a=ds(),r=ms(),{user:c,setUser:b,updateProfile:d}=Ps(),{setGlobalLoading:h,addNotification:m,removeNotification:o,isGlobalLoading:N}=Os(),[p,x]=v.useState(null),[_,i]=v.useState([]),[j,u]=v.useState([]),[g,w]=v.useState([]),[L,P]=v.useState([]),[oe,K]=v.useState([]),[O,M]=v.useState([]),[Ae,ce]=v.useState(!0),[Pe,de]=v.useState(!1),[Q,I]=v.useState(""),[X,B]=v.useState(""),[me,Oe]=v.useState(null),[Ue,xe]=v.useState(!1),[F,Me]=v.useState(null),[Fe,G]=v.useState(!1),[Je,Y]=v.useState(!1),[E,ue]=v.useState({name:"",breed:"",gender:"",birthDate:""}),[H,ge]=v.useState(null),[$e,Z]=v.useState(null),[ee,he]=v.useState(null),[se,fe]=v.useState(null),[pe,te]=v.useState(""),[be,ae]=v.useState("");us();const re=async()=>{try{h(!0),ce(!0);const[l,f,S,k,A,J]=await Promise.all([y.from("profiles").select("*").eq("id",s?.id).single(),y.from("dogs").select("*, vaccine_certifications(*)").eq("owner_id",s?.id).order("created_at",{ascending:!1}),y.from("dog_parks").select("*").eq("owner_id",s?.id).order("created_at",{ascending:!1}),y.from("reservations").select("*, dog_park:dog_parks(*), dog:dogs(*)").eq("user_id",s?.id).order("created_at",{ascending:!1}).limit(5),y.from("notifications").select("*").eq("user_id",s?.id).eq("read",!1).order("created_at",{ascending:!1}).limit(5),y.from("news_announcements").select("*").order("created_at",{ascending:!1}).limit(3)]);let je=[];try{const T=await y.from("dog_likes").select(`
            *,
            dog:dogs(
              *,
              vaccine_certifications(*)
            )
          `).eq("user_id",s?.id).order("created_at",{ascending:!1}).limit(10);T.data&&(je=T.data)}catch(T){console.warn("Dog likes table not available:",T)}[l,f,S,k,A,J].forEach((T,We)=>{T.error&&(console.error(`Error in response ${We}:`,T.error),m({type:"error",title:"データ取得エラー",message:"一部のデータの取得に失敗しました",duration:5e3}))}),x(l.data),i(f.data||[]),u(S.data||[]),w(k.data||[]),P(A.data||[]),K(J.data||[]),M(je.map(T=>T.dog).filter(Boolean)),l.data&&!c&&b({id:s?.id||"",email:s?.email||"",name:l.data.name,role:l.data.user_type||"user"})}catch(l){console.error("Error fetching dashboard data:",l),I("データの取得に失敗しました。ページを再読み込みしてください。"),m({type:"error",title:"エラー",message:"データの取得に失敗しました",duration:5e3})}finally{ce(!1),h(!1)}};v.useEffect(()=>{if(!s){a("/login");return}re(),r.search.includes("success=true")&&(de(!0),B("操作が正常に完了しました！"),m({type:"success",title:"成功",message:"操作が正常に完了しました！",duration:3e3}),window.history.replaceState({},document.title,r.pathname),setTimeout(()=>{de(!1),B("")},5e3))},[s,a,r]);const ze=l=>{Me(l);const f=new Date(l.birth_date).toISOString().split("T")[0];ue({name:l.name,breed:l.breed,gender:l.gender,birthDate:f||""}),Z(l.image_url||null);const S=l.vaccine_certifications?.[0];te(S?.rabies_expiry_date||""),ae(S?.combo_expiry_date||""),G(!0)},qe=async l=>{const f=l.target.files?.[0];if(f)try{if(f.size>10*1024*1024){I("ファイルサイズは10MB以下にしてください。");return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(f.type)){I(`サポートされていない画像形式です: ${f.type}`);return}ge(f);const k=new FileReader;k.onload=A=>{Z(A.target?.result)},k.readAsDataURL(f),I("")}catch(S){console.error("Image processing error:",S),I("画像の処理に失敗しました。別の画像をお試しください。")}},Be=async l=>{if(l.preventDefault(),!(!F||!s))try{if(Y(!0),I(""),!E.name||!E.breed||!E.gender||!E.birthDate){I("すべての必須項目を入力してください。");return}if(!["オス","メス"].includes(E.gender)){I("性別は「オス」または「メス」を選択してください");return}if(ee||se){const k=await fs(F.id,ee||void 0,se||void 0,pe,be);if(!k.success){I(k.error||"ワクチン証明書のアップロードに失敗しました");return}}const f={name:E.name,breed:E.breed,gender:E.gender,birth_date:E.birthDate};if(H){const k=`profile_${Date.now()}_${H.name}`,A=`${F.id}/${k}`,{error:J}=await y.storage.from("dog-images").upload(A,H,{upsert:!0});if(J)throw J;f.image_url=y.storage.from("dog-images").getPublicUrl(A).data.publicUrl}const{error:S}=await y.from("dogs").update(f).eq("id",F.id);if(S)throw S;B("ワンちゃんの情報を更新しました！"),m({type:"success",title:"成功",message:"ワンちゃんの情報を更新しました！",duration:3e3}),G(!1),await re(),He()}catch(f){console.error("Error updating dog:",f);const S=f instanceof Error?f.message:"ワンちゃんの情報の更新に失敗しました";I(S),m({type:"error",title:"エラー",message:S,duration:5e3})}finally{Y(!1)}},Ge=async l=>{if(window.confirm(`${l.name}の情報を削除しますか？

この操作は元に戻せません。`))try{Y(!0);const{error:f}=await y.from("dogs").delete().eq("id",l.id);if(f)throw f;B(`${l.name}の情報を削除しました。`),m({type:"success",title:"削除完了",message:`${l.name}の情報を削除しました。`,duration:3e3}),G(!1),await re()}catch(f){console.error("Error deleting dog:",f),I("ワンちゃんの情報の削除に失敗しました。")}finally{Y(!1)}},Ye=async l=>{try{await y.from("notifications").update({read:!0}).eq("id",l),P(f=>f.filter(S=>S.id!==l)),m({type:"info",title:"通知",message:"通知を既読にしました",duration:2e3})}catch(f){console.error("Error marking notification as read:",f),I("通知の更新に失敗しました。")}},He=()=>{ge(null),he(null),fe(null),te(""),ae(""),Z(null)},Ve=l=>{Oe(l),xe(!0)};return Ae||N?e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("div",{className:"absolute inset-0 animate-ping rounded-full h-12 w-12 border border-blue-400 opacity-20"})]})})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"マイページ"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["ようこそ、",p?.name||c?.name||"ユーザー","さん！"]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:t&&e.jsxs("a",{href:"/admin",className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg font-medium inline-flex items-center transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"管理者画面"]})})]}),Pe&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 text-green-800 rounded-lg flex items-center animate-fade-in",children:[e.jsx(U,{className:"w-5 h-5 mr-2 text-green-600"}),"操作が正常に完了しました！"]}),Q&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 text-red-800 rounded-lg flex items-center",children:[e.jsx("div",{className:"w-5 h-5 mr-2 text-red-600",children:"⚠️"}),Q]}),X&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 text-green-800 rounded-lg flex items-center",children:[e.jsx(U,{className:"w-5 h-5 mr-2 text-green-600"}),X]}),e.jsx(_s,{dogs:_,ownedParks:j,recentReservations:g,profile:p}),e.jsx(ps,{dogs:_,user:s,selectedDog:F,showDogEditModal:Fe,isUpdatingDog:Je,dogUpdateError:Q,dogUpdateSuccess:X,dogFormData:E,dogImageFile:H,dogImagePreview:$e,rabiesVaccineFile:ee,comboVaccineFile:se,rabiesExpiryDate:pe,comboExpiryDate:be,onDogSelect:ze,onCloseDogEditModal:()=>G(!1),onUpdateDog:Be,onDeleteDog:Ge,onDogImageSelect:qe,onDogImageRemove:()=>{},onRabiesVaccineSelect:l=>he(l.target.files?.[0]||null),onComboVaccineSelect:l=>fe(l.target.files?.[0]||null),onFormDataChange:ue,onRabiesExpiryDateChange:te,onComboExpiryDateChange:ae}),j.length>0&&e.jsxs(R,{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[e.jsx(z,{className:"w-6 h-6 text-green-600 mr-2"}),"管理中のドッグラン (",j.length,"施設)"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(l=>e.jsx(js,{park:l,onSelect:Ve},l.id))})]}),e.jsxs(R,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"🚀"}),"クイックアクション"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(D,{to:"/parks",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-sky-50 rounded-xl hover:from-blue-100 hover:to-sky-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-blue-200",children:[e.jsx(os,{className:"w-8 h-8 text-blue-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"ドッグラン検索"}),e.jsx("p",{className:"text-sm text-blue-700",children:"近くのドッグランを探す"})]})}),e.jsx(D,{to:"/community",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl hover:from-green-100 hover:to-emerald-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-green-200",children:[e.jsx(cs,{className:"w-8 h-8 text-green-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-green-900 mb-1",children:"コミュニティ"}),e.jsx("p",{className:"text-sm text-green-700",children:"他の飼い主と交流"})]})}),e.jsx(D,{to:"/petshop",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl hover:from-purple-100 hover:to-violet-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-purple-200",children:[e.jsx(we,{className:"w-8 h-8 text-purple-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-purple-900 mb-1",children:"ペットショップ"}),e.jsx("p",{className:"text-sm text-purple-700",children:"ペット用品を購入"})]})}),e.jsx(D,{to:"/news",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl hover:from-orange-100 hover:to-amber-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-orange-200",children:[e.jsx(le,{className:"w-8 h-8 text-orange-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-orange-900 mb-1",children:"新着情報"}),e.jsx("p",{className:"text-sm text-orange-700",children:"最新のお知らせ"})]})}),e.jsx(D,{to:"/liked-dogs",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-pink-50 to-rose-50 rounded-xl hover:from-pink-100 hover:to-rose-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border border-pink-200",children:[e.jsx($,{className:"w-8 h-8 text-pink-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-pink-900 mb-1",children:"いいねしたワンちゃん"}),e.jsx("p",{className:"text-sm text-pink-700",children:"お気に入りのワンちゃん"})]})}),e.jsx(D,{to:"/park-registration-agreement",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl hover:from-yellow-100 hover:to-orange-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border-2 border-orange-200",children:[e.jsx(z,{className:"w-8 h-8 text-orange-600 mb-3"}),e.jsx("h3",{className:"font-semibold text-orange-900 mb-1",children:"ドッグランオーナー募集"}),e.jsx("p",{className:"text-sm text-orange-700 mb-2",children:"あなたのドッグランを登録"}),e.jsx("div",{className:"text-xs text-orange-600 font-semibold bg-orange-100 px-2 py-1 rounded-full inline-block",children:"💰 収益化のチャンス！"})]})}),e.jsx(D,{to:"/facility-registration",className:"group",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-teal-50 to-cyan-50 rounded-xl hover:from-teal-100 hover:to-cyan-100 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md border-2 border-teal-200",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx($,{className:"w-6 h-6 text-teal-600 mr-2"}),e.jsx(we,{className:"w-6 h-6 text-teal-600"})]}),e.jsx("h3",{className:"font-semibold text-teal-900 mb-1",children:"ペット関連施設登録"}),e.jsx("p",{className:"text-sm text-teal-700 mb-2",children:"店舗・宿泊施設・サロンなど"}),e.jsx("div",{className:"text-xs text-teal-600 font-semibold bg-teal-100 px-2 py-1 rounded-full inline-block",children:"🎉 今なら無料掲載！"})]})})]})]}),L.length>0&&e.jsx(bs,{notifications:L,onMarkAsRead:Ye}),e.jsxs(R,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx($,{className:"w-6 h-6 text-pink-600 mr-2"}),"いいねしたワンちゃん (",O.length,"匹)"]}),O.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-br from-pink-100 to-rose-100 rounded-full flex items-center justify-center",children:e.jsx($,{className:"w-12 h-12 text-pink-400"})}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"まだいいねしたワンちゃんはいません"}),e.jsx("p",{className:"text-sm mb-4",children:"気になるワンちゃんがいたら、いいねしてみましょう！"}),e.jsx(D,{to:"/community",children:e.jsx(C,{size:"sm",className:"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600",children:"コミュニティを見る"})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:O.map(l=>e.jsxs(D,{to:`/dog/${l.id}`,className:"group block bg-white border border-gray-200 rounded-xl hover:shadow-lg transition-all duration-300 overflow-hidden transform hover:scale-105",children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:l.image_url?e.jsx("img",{src:l.image_url,alt:l.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-6xl",children:"🐕"})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 truncate",children:[l.name,l.gender==="オス"?"くん":"ちゃん"]}),e.jsx($,{className:"w-4 h-4 text-pink-500 fill-current"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:l.breed}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"mr-1",children:l.gender==="オス"?"♂":"♀"}),l.gender]}),l.like_count>0&&e.jsxs("span",{className:"bg-pink-100 text-pink-600 px-2 py-1 rounded-full",children:[l.like_count,"いいね"]})]})]})]},l.id))}),O.length>=10&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"最新の10匹を表示中"})})]}),Ue&&me&&e.jsx(vs,{park:me,onClose:()=>xe(!1)})]})}export{Vs as UserDashboard};
