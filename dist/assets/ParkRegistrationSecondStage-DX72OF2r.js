import{u as xe,s as m,j as e,B as y,C as f}from"./index-BB1ywuBb.js";import{h as he,u as ue,r as x,L as I}from"./react-vendor-Co5xHYdE.js";import{I as _}from"./Input-Bmh34ZUQ.js";import{v as b,F as M,aq as pe,ar as be,a as ee,b as ge,X as K,A as j,_ as V,i as B,a4 as Z,as as fe,a3 as _e,a5 as je,$ as we}from"./ui-vendor-B2-VOB5s.js";import"./supabase-vendor-FDBaXLCh.js";const k={overview:{label:"施設全景",description:"ドッグランの全体が見渡せる写真",icon:b,required:!0},entrance:{label:"入口",description:"入口の様子がわかる写真",icon:ge,required:!0},gate:{label:"ゲート",description:"ドッグランのゲート（入退場管理）の写真",icon:ee,required:!0},large_dog_area:{label:"大型犬エリア",description:"大型犬用のエリアの写真",icon:b,required:!1,conditionalOn:"large_dog_area"},small_dog_area:{label:"小型犬エリア",description:"小型犬用のエリアの写真",icon:b,required:!1,conditionalOn:"small_dog_area"},private_booth:{label:"プライベートブース",description:"プライベートブースの内部と外観",icon:b,required:!1,conditionalOn:"private_booths"},parking:{label:"駐車場",description:"駐車場の様子がわかる写真",icon:be,required:!1,conditionalOn:"facilities.parking"},shower:{label:"シャワー設備",description:"シャワー設備の写真",icon:pe,required:!1,conditionalOn:"facilities.shower"},restroom:{label:"トイレ",description:"トイレ設備の写真",icon:M,required:!1,conditionalOn:"facilities.restroom"},agility:{label:"アジリティ設備",description:"アジリティ設備の写真",icon:b,required:!1,conditionalOn:"facilities.agility"},rest_area:{label:"休憩スペース",description:"休憩スペースの写真",icon:b,required:!1,conditionalOn:"facilities.rest_area"},water_station:{label:"給水設備",description:"給水設備の写真",icon:b,required:!1,conditionalOn:"facilities.water_station"}};function Ce(){const{parkId:d}=he(),{user:L}=xe(),E=ue(),[c,se]=x.useState(null),[O,S]=x.useState([]),[re,R]=x.useState(!0),[ae,w]=x.useState(!1),[F,g]=x.useState(""),[U,v]=x.useState(""),[G,$]=x.useState(null),[C,P]=x.useState("images"),[r,p]=x.useState({bank_name:"",bank_code:"",branch_name:"",branch_code:"",account_type:"ordinary",account_number:"",account_holder_name:""}),[te,z]=x.useState(!1),[J,Q]=x.useState(""),[W,T]=x.useState(""),[H,ne]=x.useState(!1),[X,Y]=x.useState("");x.useEffect(()=>{if(!L||!d){E("/owner-dashboard");return}q()},[L,d,E]);const q=async()=>{try{R(!0);const{data:s,error:t}=await m.from("dog_parks").select("*").eq("id",d).eq("owner_id",L?.id).single();if(t)throw t;if(!s){E("/owner-dashboard");return}se(s);const{data:a,error:n}=await m.from("dog_park_facility_images").select("*").eq("park_id",d);n&&console.error("Error fetching images:",n);const u=Object.entries(k).filter(([,o])=>{if(o.required)return!0;if(o.conditionalOn&&s){const h=o.conditionalOn.split(".");if(h.length===1)return s[h[0]]??!1;if(h.length===2){const N=s[h[0]];if(N&&typeof N=="object")return N[h[1]]??!1}}return!1}).map(([o])=>o).map(o=>{const h=(a||[]).find(N=>N.image_type===o);return{id:h?.id,image_type:o,image_url:h?.image_url,is_approved:h?.is_approved??null,admin_notes:h?.admin_notes}});S(u);const{data:i,error:D}=await m.rpc("get_owner_bank_account");!D&&i&&i.length>0&&p({id:i[0].id,bank_name:i[0].bank_name,bank_code:i[0].bank_code,branch_name:i[0].branch_name,branch_code:i[0].branch_code,account_type:i[0].account_type,account_number:i[0].account_number,account_holder_name:i[0].account_holder_name})}catch(s){g(s.message||"エラーが発生しました")}finally{R(!1)}},le=(s,t)=>{S(a=>a.map(n=>n.image_type===s?{...n,file:t,error:void 0}:n))},ce=async s=>{const t=O.find(a=>a.image_type===s);if(!(!t||!t.file))try{S(o=>o.map(h=>h.image_type===s?{...h,uploading:!0,error:void 0}:h));const a=t.file.name.split(".").pop(),n=`${d}/${s}_${Date.now()}.${a}`,{error:l}=await m.storage.from("dog-park-images").upload(n,t.file);if(l)throw l;const{data:{publicUrl:u}}=m.storage.from("dog-park-images").getPublicUrl(n);if(t.id){const{error:o}=await m.from("dog_park_facility_images").update({image_url:u,is_approved:null,updated_at:new Date().toISOString()}).eq("id",t.id);if(o)throw o}else{const{error:o}=await m.from("dog_park_facility_images").insert({park_id:d,image_type:s,image_url:u});if(o)throw o}await q();const D=k[s]?.label||s;v(`${D}の画像をアップロードしました`),setTimeout(()=>v(""),3e3)}catch(a){console.error(`Error uploading ${s} image:`,a),S(n=>n.map(l=>l.image_type===s?{...l,uploading:!1,error:"アップロードに失敗しました"}:l))}},ie=async s=>{if(s)try{const{error:t}=await m.from("dog_park_facility_images").delete().eq("id",s);if(t)throw t;await q(),v("画像を削除しました"),setTimeout(()=>v(""),3e3)}catch(t){console.error("Error deleting image:",t),g("画像の削除に失敗しました"),setTimeout(()=>g(""),3e3)}},oe=async s=>{s.preventDefault(),z(!0),Q(""),T("");try{if(!r.bank_name)throw new Error("銀行名を入力してください");if(!r.bank_code)throw new Error("銀行コードを入力してください");if(!r.branch_name)throw new Error("支店名を入力してください");if(!r.branch_code)throw new Error("支店コードを入力してください");if(!r.account_number)throw new Error("口座番号を入力してください");if(!r.account_holder_name)throw new Error("口座名義を入力してください");if(!/^\d{4}$/.test(r.bank_code))throw new Error("銀行コードは4桁の数字で入力してください");if(!/^\d{3}$/.test(r.branch_code))throw new Error("支店コードは3桁の数字で入力してください");if(!/^\d{7}$/.test(r.account_number))throw new Error("口座番号は7桁の数字で入力してください");const{error:t}=await m.rpc("update_owner_bank_account",{bank_name_param:r.bank_name,bank_code_param:r.bank_code,branch_name_param:r.branch_name,branch_code_param:r.branch_code,account_type_param:r.account_type,account_number_param:r.account_number,account_holder_name_param:r.account_holder_name});if(t)throw t;T("振込先情報を保存しました"),setTimeout(()=>{T("")},3e3)}catch(t){console.error("Error saving bank account:",t),Q(t.message||"振込先情報の保存に失敗しました")}finally{z(!1)}},de=async()=>{try{if(w(!0),g(""),!H){Y("スマートロックの購入・設置完了をご確認ください"),w(!1);return}const t=Object.entries(k).filter(([,a])=>{if(a.required)return!0;if(a.conditionalOn&&c){const n=a.conditionalOn.split(".");if(n.length===1)return c[n[0]]??!1;if(n.length===2){const l=c[n[0]];if(l&&typeof l=="object")return l[n[1]]??!1}}return!1}).map(([a])=>a).filter(a=>!O.some(n=>n.image_type===a&&n.image_url));if(t.length>0){const a=t.map(n=>k[n]?.label||n).join("、");g(`以下の必要な画像がアップロードされていません: ${a}`),w(!1);return}if(!r.bank_name||!r.bank_code||!r.branch_name||!r.branch_code||!r.account_number||!r.account_holder_name){g("振込先情報を入力してください"),P("bank"),w(!1);return}try{const{data:a,error:n}=await m.from("dog_park_review_stages").select("id").eq("park_id",d).single();if(n&&n.code!=="PGRST116"&&console.error("Error checking existing review stage:",n),a){const{error:l}=await m.from("dog_park_review_stages").update({second_stage_submitted_at:new Date().toISOString()}).eq("park_id",d);l&&console.error("Error updating review stage:",l)}else{const{error:l}=await m.from("dog_park_review_stages").insert({park_id:d,second_stage_submitted_at:new Date().toISOString()});l&&console.error("Error inserting review stage:",l)}}catch(a){console.error("Error recording review stage:",a)}try{const{error:a}=await m.from("dog_parks").update({status:"second_stage_review"}).eq("id",d);a&&console.error("Error updating park status:",a)}catch(a){console.error("Error updating park status:",a)}try{const{error:a}=await m.rpc("update_owner_bank_account",{bank_name_param:r.bank_name,bank_code_param:r.bank_code,branch_name_param:r.branch_name,branch_code_param:r.branch_code,account_type_param:r.account_type,account_number_param:r.account_number,account_holder_name_param:r.account_holder_name});a&&console.error("Error saving bank account:",a)}catch(a){console.error("Error with bank account RPC:",a)}try{const{error:a}=await m.from("admin_notifications").insert([{type:"park_approval",title:"新しいドッグラン第二審査申請",message:`${c?.name}の第二審査が申請されました。確認してください。`,data:{park_id:d},created_at:new Date().toISOString()}]);a&&console.error("Error creating admin notification:",a)}catch(a){console.error("Error with notification:",a)}v("第二審査の申請が完了しました。審査結果をお待ちください。"),await q(),setTimeout(()=>{E("/owner-dashboard")},3e3)}catch(s){console.error("Error submitting review:",s),g("審査申請に失敗しました: "+s.message)}finally{w(!1)}},me=s=>s===!0?{icon:B,color:"text-green-600",label:"承認済み"}:s===!1?{icon:K,color:"text-red-600",label:"却下"}:{icon:ve,color:"text-yellow-600",label:"審査中"};return re?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):G?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"relative max-w-4xl w-full",children:[e.jsx("button",{onClick:()=>$(null),className:"absolute top-2 right-2 p-2 bg-white bg-opacity-90 shadow-lg rounded-full text-gray-800 hover:bg-opacity-100 transition-all",children:e.jsx(K,{className:"w-6 h-6"})}),e.jsx("img",{src:G,alt:"画像プレビュー",className:"max-h-[80vh] max-w-full mx-auto rounded-lg",onError:s=>{s.currentTarget.src="https://via.placeholder.com/800x600?text=Image+Not+Available"}})]})}):c?c.status!=="first_stage_passed"&&c.status!=="second_stage_waiting"&&c.status!=="second_stage_review"?e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(I,{to:"/owner-dashboard",className:"flex items-center text-blue-600 hover:text-blue-800",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"ダッシュボードに戻る"]})}),e.jsxs(f,{className:"text-center py-8",children:[e.jsx(j,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"このドッグランは現在第二審査の対象ではありません"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:[c.status==="pending"&&"第一審査が完了するまでお待ちください。",c.status==="smart_lock_testing"&&"スマートロック実証検査中です。管理者からの連絡をお待ちください。",c.status==="approved"&&"このドッグランは既に承認されています。",c.status==="rejected"&&"審査が却下されました。詳細はダッシュボードでご確認ください。"]}),e.jsx(I,{to:"/owner-dashboard",children:e.jsx(y,{children:"ダッシュボードに戻る"})})]})]}):e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-6",children:e.jsxs(I,{to:"/owner-dashboard",className:"flex items-center text-blue-600 hover:text-blue-800",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"ダッシュボードに戻る"]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-4 flex items-center justify-center",children:[e.jsx(b,{className:"w-8 h-8 text-blue-600 mr-3"}),c.name,"の第二審査"]}),e.jsx("p",{className:"text-lg text-gray-600",children:"施設の詳細画像と振込先情報を登録して審査を完了させましょう"})]}),e.jsx(f,{className:"bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(M,{className:"w-6 h-6 text-blue-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"審査ステータス"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-blue-800",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"第一審査"}),e.jsx("p",{className:"text-xs text-green-600",children:"完了"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-6 h-6 ${c.status==="second_stage_review"?"bg-green-600":"bg-blue-600"} text-white rounded-full flex items-center justify-center text-xs font-bold`,children:"2"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"第二審査"}),e.jsxs("p",{className:"text-xs text-blue-600",children:[c.status==="first_stage_passed"&&"画像アップロード中",c.status==="second_stage_waiting"&&"申請準備中",c.status==="second_stage_review"&&"審査中"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-400 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"QR実証検査"}),e.jsx("p",{className:"text-xs text-gray-600",children:"未実施"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-400 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"4"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"運営開始"}),e.jsx("p",{className:"text-xs text-gray-600",children:"未完了"})]})]})]})]})]})}),F&&e.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded-lg p-4 flex items-start",children:[e.jsx(j,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{children:F})]}),U&&e.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 rounded-lg p-4 flex items-start",children:[e.jsx(B,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{children:U})]}),e.jsx(f,{className:"bg-orange-50 border-orange-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ee,{className:"w-6 h-6 text-orange-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:"スマートロック購入確認"}),e.jsx("p",{className:"text-sm text-orange-800 mb-4",children:"第二審査に進む前に、スマートロックの購入と設置が完了していることを確認してください。"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"smartLockPurchased",checked:H,onChange:s=>{ne(s.target.checked),Y("")},className:"w-5 h-5 text-orange-600 rounded border-gray-300 focus:ring-orange-500"}),e.jsx("label",{htmlFor:"smartLockPurchased",className:"text-sm font-medium text-orange-900",children:"スマートロックを購入し、設置を完了しました"})]}),X&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:X}),e.jsxs("div",{className:"text-xs text-orange-700 space-y-1",children:[e.jsx("p",{children:"• スマートロックはペットショップで購入できます"}),e.jsx("p",{children:"• 設置完了後、動作確認を行ってください"}),e.jsx("p",{children:"• 第二審査では実際の設置状況を確認します"})]})]})]})]})}),e.jsxs("div",{className:"flex space-x-4 border-b",children:[e.jsxs("button",{className:`px-4 py-2 font-medium ${C==="images"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>P("images"),children:[e.jsx(Z,{className:"w-4 h-4 inline mr-2"}),"施設画像"]}),e.jsxs("button",{className:`px-4 py-2 font-medium ${C==="bank"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>P("bank"),children:[e.jsx(A,{className:"w-4 h-4 inline mr-2"}),"振込先情報"]})]}),C==="images"&&e.jsxs(f,{children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(Z,{className:"w-6 h-6 text-blue-600 mr-2"}),"施設画像のアップロード"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(j,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"画像アップロードのガイドライン"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• 鮮明で明るい画像を選んでください"}),e.jsx("li",{children:"• 施設の特徴がよくわかる角度から撮影してください"}),e.jsx("li",{children:"• 画像サイズは10MB以下にしてください"}),e.jsx("li",{children:"• JPG、PNG、GIF形式のみ対応しています"}),e.jsx("li",{children:"• 必須項目（*）は必ずアップロードしてください"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:O.map(s=>{const t=k[s.image_type],a=t?.icon||b,n=t?.required||!1;let l=null;if((s.is_approved??null)!==null&&s.image_url){const u=me(s.is_approved??null),i=u.icon;l=e.jsxs("div",{className:`flex items-center space-x-1 ${u.color}`,children:[e.jsx(i,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:u.label})]})}return e.jsxs("div",{className:"border rounded-lg p-4 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{className:"w-5 h-5 text-blue-600"}),e.jsxs("h3",{className:"font-medium",children:[t?.label||s.image_type,n&&e.jsx("span",{className:"text-red-600 ml-1",children:"*"})]})]}),l]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t?.description||"画像をアップロードしてください"}),s.image_url?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-40 bg-gray-100 rounded-lg overflow-hidden cursor-pointer",onClick:()=>$(s.image_url||null),children:e.jsx("img",{src:s.image_url,alt:t?.label||s.image_type,className:"w-full h-full object-cover",onError:u=>{u.currentTarget.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})}),e.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2",children:[e.jsx("button",{onClick:()=>$(s.image_url||null),className:"p-1 bg-white rounded-full shadow hover:bg-gray-100",children:e.jsx(fe,{className:"w-4 h-4 text-blue-600"})}),e.jsx("button",{onClick:()=>ie(s.id),className:"p-1 bg-white rounded-full shadow hover:bg-gray-100",disabled:(s.is_approved??null)===!0,children:e.jsx(_e,{className:`w-4 h-4 ${(s.is_approved??null)===!0?"text-gray-400":"text-red-600"}`})})]}),s.is_approved===!1&&s.admin_notes&&e.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded text-sm text-red-800",children:[e.jsx("p",{className:"font-medium",children:"却下理由:"}),e.jsx("p",{children:s.admin_notes})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-500 transition-colors",children:[e.jsx("input",{type:"file",id:`image-${s.image_type}`,accept:"image/*",className:"hidden",onChange:u=>{const i=u.target.files?.[0];i&&le(s.image_type,i)}}),e.jsxs("label",{htmlFor:`image-${s.image_type}`,className:"cursor-pointer flex flex-col items-center",children:[e.jsx(je,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"クリックして画像を選択"})]})]}),s.file&&e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[e.jsx("span",{className:"text-sm truncate",children:s.file.name}),e.jsx(y,{size:"sm",onClick:()=>ce(s.image_type),isLoading:!!s.uploading,children:"アップロード"})]}),s.error&&e.jsx("p",{className:"text-sm text-red-600",children:s.error})]})]},s.image_type)})})]})]}),C==="bank"&&e.jsxs(f,{children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[e.jsx(A,{className:"w-6 h-6 text-blue-600 mr-2"}),"振込先情報"]}),J&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 rounded-lg flex items-start",children:[e.jsx(j,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{className:"text-red-800",children:J})]}),W&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 rounded-lg flex items-start",children:[e.jsx(B,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{className:"text-green-800",children:W})]}),e.jsx("form",{onSubmit:oe,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(j,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"振込先情報について"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• 売上金の振込先となる銀行口座情報を入力してください"}),e.jsx("li",{children:"• 振込は毎月15日に前月分を一括で行います"}),e.jsx("li",{children:"• 振込手数料は当社負担です"}),e.jsx("li",{children:"• 振込金額が5,000円未満の場合は翌月に繰り越されます"}),e.jsx("li",{children:"• 口座名義は正確に入力してください（例：ヤマダ タロウ）"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(_,{label:"銀行名 *",value:r.bank_name,onChange:s=>p({...r,bank_name:s.target.value}),placeholder:"例：三菱UFJ銀行",required:!0,icon:e.jsx(A,{className:"w-4 h-4 text-gray-500"})}),e.jsx(_,{label:"銀行コード（4桁） *",value:r.bank_code,onChange:s=>{const t=s.target.value.replace(/\D/g,"");p({...r,bank_code:t})},placeholder:"例：0005",maxLength:4,required:!0,helperText:"4桁の数字で入力してください"}),e.jsx(_,{label:"支店名 *",value:r.branch_name,onChange:s=>p({...r,branch_name:s.target.value}),placeholder:"例：渋谷支店",required:!0}),e.jsx(_,{label:"支店コード（3桁） *",value:r.branch_code,onChange:s=>{const t=s.target.value.replace(/\D/g,"");p({...r,branch_code:t})},placeholder:"例：135",maxLength:3,required:!0,helperText:"3桁の数字で入力してください"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"口座種別 *"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",checked:r.account_type==="ordinary",onChange:()=>p({...r,account_type:"ordinary"}),className:"form-radio text-blue-600"}),e.jsx("span",{children:"普通"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",checked:r.account_type==="checking",onChange:()=>p({...r,account_type:"checking"}),className:"form-radio text-blue-600"}),e.jsx("span",{children:"当座"})]})]})]}),e.jsx(_,{label:"口座番号（7桁） *",value:r.account_number,onChange:s=>{const t=s.target.value.replace(/\D/g,"");p({...r,account_number:t})},placeholder:"例：1234567",maxLength:7,required:!0,helperText:"7桁の数字で入力してください",icon:e.jsx(we,{className:"w-4 h-4 text-gray-500"})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(_,{label:"口座名義（カタカナ） *",value:r.account_holder_name,onChange:s=>p({...r,account_holder_name:s.target.value}),placeholder:"例：ヤマダ タロウ",required:!0,helperText:"カタカナで入力してください（姓と名の間にスペース）"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(y,{type:"submit",isLoading:te,children:"振込先情報を保存"})})]})})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx(y,{onClick:de,isLoading:ae,disabled:c.status==="second_stage_review",className:"bg-blue-600 hover:bg-blue-700",children:c.status==="second_stage_review"?"審査中です":"第二審査を申請する"})}),e.jsx(f,{className:"bg-gray-50",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(M,{className:"w-6 h-6 text-gray-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"審査プロセスについて"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("p",{children:"• 第二審査では、施設の詳細画像と振込先情報を確認します"}),e.jsx("p",{children:"• 審査期間は通常3-5営業日です"}),e.jsx("p",{children:"• 画像に問題がある場合は再提出を求められることがあります"}),e.jsx("p",{children:"• 審査通過後、QRコード実証検査の日程調整を行います"}),e.jsx("p",{children:"• 実証検査完了後、一般公開となります"})]})]})]})})]}):e.jsxs("div",{className:"max-w-4xl mx-auto text-center py-12",children:[e.jsx(j,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"ドッグランが見つかりません"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"指定されたドッグランが見つからないか、アクセス権限がありません。"}),e.jsx(I,{to:"/owner-dashboard",children:e.jsx(y,{children:"ダッシュボードに戻る"})})]})}function A({className:d}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:d,children:[e.jsx("path",{d:"M3 21h18"}),e.jsx("path",{d:"M3 10h18"}),e.jsx("path",{d:"M5 6l7-3 7 3"}),e.jsx("path",{d:"M4 10v11"}),e.jsx("path",{d:"M20 10v11"}),e.jsx("path",{d:"M8 14v3"}),e.jsx("path",{d:"M12 14v3"}),e.jsx("path",{d:"M16 14v3"})]})}function ve({className:d}){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:d,children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]})}export{Ce as ParkRegistrationSecondStage};
